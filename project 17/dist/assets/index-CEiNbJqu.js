(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var g_={exports:{}},fm={},y_={exports:{}},_t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bf=Symbol.for("react.element"),VE=Symbol.for("react.portal"),UE=Symbol.for("react.fragment"),zE=Symbol.for("react.strict_mode"),qE=Symbol.for("react.profiler"),$E=Symbol.for("react.provider"),HE=Symbol.for("react.context"),WE=Symbol.for("react.forward_ref"),GE=Symbol.for("react.suspense"),KE=Symbol.for("react.memo"),JE=Symbol.for("react.lazy"),vy=Symbol.iterator;function XE(t){return t===null||typeof t!="object"?null:(t=vy&&t[vy]||t["@@iterator"],typeof t=="function"?t:null)}var v_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w_=Object.assign,__={};function Nc(t,e,n){this.props=t,this.context=e,this.refs=__,this.updater=n||v_}Nc.prototype.isReactComponent={};Nc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Nc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function b_(){}b_.prototype=Nc.prototype;function K0(t,e,n){this.props=t,this.context=e,this.refs=__,this.updater=n||v_}var J0=K0.prototype=new b_;J0.constructor=K0;w_(J0,Nc.prototype);J0.isPureReactComponent=!0;var wy=Array.isArray,A_=Object.prototype.hasOwnProperty,X0={current:null},S_={key:!0,ref:!0,__self:!0,__source:!0};function E_(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)A_.call(e,r)&&!S_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),f=0;f<a;f++)l[f]=arguments[f+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:bf,type:t,key:s,ref:o,props:i,_owner:X0.current}}function QE(t,e){return{$$typeof:bf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Q0(t){return typeof t=="object"&&t!==null&&t.$$typeof===bf}function YE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var _y=/\/+/g;function hg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?YE(""+t.key):e.toString(36)}function zd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case bf:case VE:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+hg(o,0):r,wy(i)?(n="",t!=null&&(n=t.replace(_y,"$&/")+"/"),zd(i,e,n,"",function(f){return f})):i!=null&&(Q0(i)&&(i=QE(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(_y,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",wy(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+hg(s,a);o+=zd(s,e,n,l,i)}else if(l=XE(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+hg(s,a++),o+=zd(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function cd(t,e,n){if(t==null)return t;var r=[],i=0;return zd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function ZE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ur={current:null},qd={transition:null},ex={ReactCurrentDispatcher:Ur,ReactCurrentBatchConfig:qd,ReactCurrentOwner:X0};function x_(){throw Error("act(...) is not supported in production builds of React.")}_t.Children={map:cd,forEach:function(t,e,n){cd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return cd(t,function(){e++}),e},toArray:function(t){return cd(t,function(e){return e})||[]},only:function(t){if(!Q0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_t.Component=Nc;_t.Fragment=UE;_t.Profiler=qE;_t.PureComponent=K0;_t.StrictMode=zE;_t.Suspense=GE;_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ex;_t.act=x_;_t.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=w_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=X0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)A_.call(e,l)&&!S_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var f=0;f<l;f++)a[f]=arguments[f+2];r.children=a}return{$$typeof:bf,type:t.type,key:i,ref:s,props:r,_owner:o}};_t.createContext=function(t){return t={$$typeof:HE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$E,_context:t},t.Consumer=t};_t.createElement=E_;_t.createFactory=function(t){var e=E_.bind(null,t);return e.type=t,e};_t.createRef=function(){return{current:null}};_t.forwardRef=function(t){return{$$typeof:WE,render:t}};_t.isValidElement=Q0;_t.lazy=function(t){return{$$typeof:JE,_payload:{_status:-1,_result:t},_init:ZE}};_t.memo=function(t,e){return{$$typeof:KE,type:t,compare:e===void 0?null:e}};_t.startTransition=function(t){var e=qd.transition;qd.transition={};try{t()}finally{qd.transition=e}};_t.unstable_act=x_;_t.useCallback=function(t,e){return Ur.current.useCallback(t,e)};_t.useContext=function(t){return Ur.current.useContext(t)};_t.useDebugValue=function(){};_t.useDeferredValue=function(t){return Ur.current.useDeferredValue(t)};_t.useEffect=function(t,e){return Ur.current.useEffect(t,e)};_t.useId=function(){return Ur.current.useId()};_t.useImperativeHandle=function(t,e,n){return Ur.current.useImperativeHandle(t,e,n)};_t.useInsertionEffect=function(t,e){return Ur.current.useInsertionEffect(t,e)};_t.useLayoutEffect=function(t,e){return Ur.current.useLayoutEffect(t,e)};_t.useMemo=function(t,e){return Ur.current.useMemo(t,e)};_t.useReducer=function(t,e,n){return Ur.current.useReducer(t,e,n)};_t.useRef=function(t){return Ur.current.useRef(t)};_t.useState=function(t){return Ur.current.useState(t)};_t.useSyncExternalStore=function(t,e,n){return Ur.current.useSyncExternalStore(t,e,n)};_t.useTransition=function(){return Ur.current.useTransition()};_t.version="18.3.1";y_.exports=_t;var Tr=y_.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tx=Tr,nx=Symbol.for("react.element"),rx=Symbol.for("react.fragment"),ix=Object.prototype.hasOwnProperty,sx=tx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ox={key:!0,ref:!0,__self:!0,__source:!0};function I_(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ix.call(e,r)&&!ox.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:nx,type:t,key:s,ref:o,props:i,_owner:sx.current}}fm.Fragment=rx;fm.jsx=I_;fm.jsxs=I_;g_.exports=fm;var Je=g_.exports,N_={exports:{}},Ai={},P_={exports:{}},T_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Q,le){var ue=Q.length;Q.push(le);e:for(;0<ue;){var xe=ue-1>>>1,D=Q[xe];if(0<i(D,le))Q[xe]=le,Q[ue]=D,ue=xe;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var le=Q[0],ue=Q.pop();if(ue!==le){Q[0]=ue;e:for(var xe=0,D=Q.length,$=D>>>1;xe<$;){var G=2*(xe+1)-1,Y=Q[G],re=G+1,ce=Q[re];if(0>i(Y,ue))re<D&&0>i(ce,Y)?(Q[xe]=ce,Q[re]=ue,xe=re):(Q[xe]=Y,Q[G]=ue,xe=G);else if(re<D&&0>i(ce,ue))Q[xe]=ce,Q[re]=ue,xe=re;else break e}}return le}function i(Q,le){var ue=Q.sortIndex-le.sortIndex;return ue!==0?ue:Q.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],f=[],g=1,p=null,w=3,m=!1,P=!1,N=!1,F=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(Q){for(var le=n(f);le!==null;){if(le.callback===null)r(f);else if(le.startTime<=Q)r(f),le.sortIndex=le.expirationTime,e(l,le);else break;le=n(f)}}function q(Q){if(N=!1,O(Q),!P)if(n(l)!==null)P=!0,pe(X);else{var le=n(f);le!==null&&ve(q,le.startTime-Q)}}function X(Q,le){P=!1,N&&(N=!1,A(x),x=-1),m=!0;var ue=w;try{for(O(le),p=n(l);p!==null&&(!(p.expirationTime>le)||Q&&!S());){var xe=p.callback;if(typeof xe=="function"){p.callback=null,w=p.priorityLevel;var D=xe(p.expirationTime<=le);le=t.unstable_now(),typeof D=="function"?p.callback=D:p===n(l)&&r(l),O(le)}else r(l);p=n(l)}if(p!==null)var $=!0;else{var G=n(f);G!==null&&ve(q,G.startTime-le),$=!1}return $}finally{p=null,w=ue,m=!1}}var ee=!1,L=null,x=-1,R=5,B=-1;function S(){return!(t.unstable_now()-B<R)}function I(){if(L!==null){var Q=t.unstable_now();B=Q;var le=!0;try{le=L(!0,Q)}finally{le?T():(ee=!1,L=null)}}else ee=!1}var T;if(typeof b=="function")T=function(){b(I)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ge=J.port2;J.port1.onmessage=I,T=function(){ge.postMessage(null)}}else T=function(){F(I,0)};function pe(Q){L=Q,ee||(ee=!0,T())}function ve(Q,le){x=F(function(){Q(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){P||m||(P=!0,pe(X))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var le=3;break;default:le=w}var ue=w;w=le;try{return Q()}finally{w=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,le){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ue=w;w=Q;try{return le()}finally{w=ue}},t.unstable_scheduleCallback=function(Q,le,ue){var xe=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?xe+ue:xe):ue=xe,Q){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ue+D,Q={id:g++,callback:le,priorityLevel:Q,startTime:ue,expirationTime:D,sortIndex:-1},ue>xe?(Q.sortIndex=ue,e(f,Q),n(l)===null&&Q===n(f)&&(N?(A(x),x=-1):N=!0,ve(q,ue-xe))):(Q.sortIndex=D,e(l,Q),P||m||(P=!0,pe(X))),Q},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(Q){var le=w;return function(){var ue=w;w=le;try{return Q.apply(this,arguments)}finally{w=ue}}}})(T_);P_.exports=T_;var ax=P_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lx=Tr,bi=ax;function Le(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var k_=new Set,Wh={};function Gl(t,e){fc(t,e),fc(t+"Capture",e)}function fc(t,e){for(Wh[t]=e,t=0;t<e.length;t++)k_.add(e[t])}var Po=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d1=Object.prototype.hasOwnProperty,ux=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,by={},Ay={};function cx(t){return d1.call(Ay,t)?!0:d1.call(by,t)?!1:ux.test(t)?Ay[t]=!0:(by[t]=!0,!1)}function hx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function fx(t,e,n,r){if(e===null||typeof e>"u"||hx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var hr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){hr[t]=new zr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];hr[e]=new zr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){hr[t]=new zr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){hr[t]=new zr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){hr[t]=new zr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){hr[t]=new zr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){hr[t]=new zr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){hr[t]=new zr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){hr[t]=new zr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Y0=/[\-:]([a-z])/g;function Z0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Y0,Z0);hr[e]=new zr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Y0,Z0);hr[e]=new zr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Y0,Z0);hr[e]=new zr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){hr[t]=new zr(t,1,!1,t.toLowerCase(),null,!1,!1)});hr.xlinkHref=new zr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){hr[t]=new zr(t,1,!1,t.toLowerCase(),null,!0,!0)});function e2(t,e,n,r){var i=hr.hasOwnProperty(e)?hr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(fx(e,n,i,r)&&(n=null),r||i===null?cx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Do=lx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hd=Symbol.for("react.element"),Lu=Symbol.for("react.portal"),Ru=Symbol.for("react.fragment"),t2=Symbol.for("react.strict_mode"),p1=Symbol.for("react.profiler"),C_=Symbol.for("react.provider"),L_=Symbol.for("react.context"),n2=Symbol.for("react.forward_ref"),m1=Symbol.for("react.suspense"),g1=Symbol.for("react.suspense_list"),r2=Symbol.for("react.memo"),wa=Symbol.for("react.lazy"),R_=Symbol.for("react.offscreen"),Sy=Symbol.iterator;function rh(t){return t===null||typeof t!="object"?null:(t=Sy&&t[Sy]||t["@@iterator"],typeof t=="function"?t:null)}var mn=Object.assign,fg;function yh(t){if(fg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);fg=e&&e[1]||""}return`
`+fg+t}var dg=!1;function pg(t,e){if(!t||dg)return"";dg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var r=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){r=f}t.call(e.prototype)}else{try{throw Error()}catch(f){r=f}t()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{dg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?yh(t):""}function dx(t){switch(t.tag){case 5:return yh(t.type);case 16:return yh("Lazy");case 13:return yh("Suspense");case 19:return yh("SuspenseList");case 0:case 2:case 15:return t=pg(t.type,!1),t;case 11:return t=pg(t.type.render,!1),t;case 1:return t=pg(t.type,!0),t;default:return""}}function y1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ru:return"Fragment";case Lu:return"Portal";case p1:return"Profiler";case t2:return"StrictMode";case m1:return"Suspense";case g1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case L_:return(t.displayName||"Context")+".Consumer";case C_:return(t._context.displayName||"Context")+".Provider";case n2:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case r2:return e=t.displayName||null,e!==null?e:y1(t.type)||"Memo";case wa:e=t._payload,t=t._init;try{return y1(t(e))}catch{}}return null}function px(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return y1(e);case 8:return e===t2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function O_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mx(t){var e=O_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fd(t){t._valueTracker||(t._valueTracker=mx(t))}function D_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=O_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function v1(t,e){var n=e.checked;return mn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ey(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=qa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function F_(t,e){e=e.checked,e!=null&&e2(t,"checked",e,!1)}function w1(t,e){F_(t,e);var n=qa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_1(t,e.type,n):e.hasOwnProperty("defaultValue")&&_1(t,e.type,qa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function xy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function _1(t,e,n){(e!=="number"||yp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var vh=Array.isArray;function Gu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+qa(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function b1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Le(91));return mn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Iy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Le(92));if(vh(n)){if(1<n.length)throw Error(Le(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:qa(n)}}function M_(t,e){var n=qa(e.value),r=qa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ny(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function j_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function A1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?j_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var dd,B_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(dd=dd||document.createElement("div"),dd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=dd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Gh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ph={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gx=["Webkit","ms","Moz","O"];Object.keys(Ph).forEach(function(t){gx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ph[e]=Ph[t]})});function V_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ph.hasOwnProperty(t)&&Ph[t]?(""+e).trim():e+"px"}function U_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=V_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var yx=mn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function S1(t,e){if(e){if(yx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Le(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Le(62))}}function E1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var x1=null;function i2(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var I1=null,Ku=null,Ju=null;function Py(t){if(t=Ef(t)){if(typeof I1!="function")throw Error(Le(280));var e=t.stateNode;e&&(e=ym(e),I1(t.stateNode,t.type,e))}}function z_(t){Ku?Ju?Ju.push(t):Ju=[t]:Ku=t}function q_(){if(Ku){var t=Ku,e=Ju;if(Ju=Ku=null,Py(t),e)for(t=0;t<e.length;t++)Py(e[t])}}function $_(t,e){return t(e)}function H_(){}var mg=!1;function W_(t,e,n){if(mg)return t(e,n);mg=!0;try{return $_(t,e,n)}finally{mg=!1,(Ku!==null||Ju!==null)&&(H_(),q_())}}function Kh(t,e){var n=t.stateNode;if(n===null)return null;var r=ym(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Le(231,e,typeof n));return n}var N1=!1;if(Po)try{var ih={};Object.defineProperty(ih,"passive",{get:function(){N1=!0}}),window.addEventListener("test",ih,ih),window.removeEventListener("test",ih,ih)}catch{N1=!1}function vx(t,e,n,r,i,s,o,a,l){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(g){this.onError(g)}}var Th=!1,vp=null,wp=!1,P1=null,wx={onError:function(t){Th=!0,vp=t}};function _x(t,e,n,r,i,s,o,a,l){Th=!1,vp=null,vx.apply(wx,arguments)}function bx(t,e,n,r,i,s,o,a,l){if(_x.apply(this,arguments),Th){if(Th){var f=vp;Th=!1,vp=null}else throw Error(Le(198));wp||(wp=!0,P1=f)}}function Kl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function G_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ty(t){if(Kl(t)!==t)throw Error(Le(188))}function Ax(t){var e=t.alternate;if(!e){if(e=Kl(t),e===null)throw Error(Le(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ty(i),t;if(s===r)return Ty(i),e;s=s.sibling}throw Error(Le(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Le(189))}}if(n.alternate!==r)throw Error(Le(190))}if(n.tag!==3)throw Error(Le(188));return n.stateNode.current===n?t:e}function K_(t){return t=Ax(t),t!==null?J_(t):null}function J_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=J_(t);if(e!==null)return e;t=t.sibling}return null}var X_=bi.unstable_scheduleCallback,ky=bi.unstable_cancelCallback,Sx=bi.unstable_shouldYield,Ex=bi.unstable_requestPaint,Nn=bi.unstable_now,xx=bi.unstable_getCurrentPriorityLevel,s2=bi.unstable_ImmediatePriority,Q_=bi.unstable_UserBlockingPriority,_p=bi.unstable_NormalPriority,Ix=bi.unstable_LowPriority,Y_=bi.unstable_IdlePriority,dm=null,Us=null;function Nx(t){if(Us&&typeof Us.onCommitFiberRoot=="function")try{Us.onCommitFiberRoot(dm,t,void 0,(t.current.flags&128)===128)}catch{}}var hs=Math.clz32?Math.clz32:kx,Px=Math.log,Tx=Math.LN2;function kx(t){return t>>>=0,t===0?32:31-(Px(t)/Tx|0)|0}var pd=64,md=4194304;function wh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function bp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=wh(a):(s&=o,s!==0&&(r=wh(s)))}else o=n&~i,o!==0?r=wh(o):s!==0&&(r=wh(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-hs(e),i=1<<n,r|=t[n],e&=~i;return r}function Cx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lx(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-hs(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Cx(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function T1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Z_(){var t=pd;return pd<<=1,!(pd&4194240)&&(pd=64),t}function gg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Af(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hs(e),t[e]=n}function Rx(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-hs(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function o2(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-hs(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var zt=0;function eb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var tb,a2,nb,rb,ib,k1=!1,gd=[],Ca=null,La=null,Ra=null,Jh=new Map,Xh=new Map,ba=[],Ox="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cy(t,e){switch(t){case"focusin":case"focusout":Ca=null;break;case"dragenter":case"dragleave":La=null;break;case"mouseover":case"mouseout":Ra=null;break;case"pointerover":case"pointerout":Jh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xh.delete(e.pointerId)}}function sh(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ef(e),e!==null&&a2(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Dx(t,e,n,r,i){switch(e){case"focusin":return Ca=sh(Ca,t,e,n,r,i),!0;case"dragenter":return La=sh(La,t,e,n,r,i),!0;case"mouseover":return Ra=sh(Ra,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Jh.set(s,sh(Jh.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Xh.set(s,sh(Xh.get(s)||null,t,e,n,r,i)),!0}return!1}function sb(t){var e=xl(t.target);if(e!==null){var n=Kl(e);if(n!==null){if(e=n.tag,e===13){if(e=G_(n),e!==null){t.blockedOn=e,ib(t.priority,function(){nb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $d(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=C1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);x1=r,n.target.dispatchEvent(r),x1=null}else return e=Ef(n),e!==null&&a2(e),t.blockedOn=n,!1;e.shift()}return!0}function Ly(t,e,n){$d(t)&&n.delete(e)}function Fx(){k1=!1,Ca!==null&&$d(Ca)&&(Ca=null),La!==null&&$d(La)&&(La=null),Ra!==null&&$d(Ra)&&(Ra=null),Jh.forEach(Ly),Xh.forEach(Ly)}function oh(t,e){t.blockedOn===e&&(t.blockedOn=null,k1||(k1=!0,bi.unstable_scheduleCallback(bi.unstable_NormalPriority,Fx)))}function Qh(t){function e(i){return oh(i,t)}if(0<gd.length){oh(gd[0],t);for(var n=1;n<gd.length;n++){var r=gd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ca!==null&&oh(Ca,t),La!==null&&oh(La,t),Ra!==null&&oh(Ra,t),Jh.forEach(e),Xh.forEach(e),n=0;n<ba.length;n++)r=ba[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ba.length&&(n=ba[0],n.blockedOn===null);)sb(n),n.blockedOn===null&&ba.shift()}var Xu=Do.ReactCurrentBatchConfig,Ap=!0;function Mx(t,e,n,r){var i=zt,s=Xu.transition;Xu.transition=null;try{zt=1,l2(t,e,n,r)}finally{zt=i,Xu.transition=s}}function jx(t,e,n,r){var i=zt,s=Xu.transition;Xu.transition=null;try{zt=4,l2(t,e,n,r)}finally{zt=i,Xu.transition=s}}function l2(t,e,n,r){if(Ap){var i=C1(t,e,n,r);if(i===null)Ig(t,e,r,Sp,n),Cy(t,r);else if(Dx(i,t,e,n,r))r.stopPropagation();else if(Cy(t,r),e&4&&-1<Ox.indexOf(t)){for(;i!==null;){var s=Ef(i);if(s!==null&&tb(s),s=C1(t,e,n,r),s===null&&Ig(t,e,r,Sp,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ig(t,e,r,null,n)}}var Sp=null;function C1(t,e,n,r){if(Sp=null,t=i2(r),t=xl(t),t!==null)if(e=Kl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=G_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Sp=t,null}function ob(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xx()){case s2:return 1;case Q_:return 4;case _p:case Ix:return 16;case Y_:return 536870912;default:return 16}default:return 16}}var Na=null,u2=null,Hd=null;function ab(){if(Hd)return Hd;var t,e=u2,n=e.length,r,i="value"in Na?Na.value:Na.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Hd=i.slice(t,1<r?1-r:void 0)}function Wd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yd(){return!0}function Ry(){return!1}function Si(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?yd:Ry,this.isPropagationStopped=Ry,this}return mn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yd)},persist:function(){},isPersistent:yd}),e}var Pc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},c2=Si(Pc),Sf=mn({},Pc,{view:0,detail:0}),Bx=Si(Sf),yg,vg,ah,pm=mn({},Sf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:h2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ah&&(ah&&t.type==="mousemove"?(yg=t.screenX-ah.screenX,vg=t.screenY-ah.screenY):vg=yg=0,ah=t),yg)},movementY:function(t){return"movementY"in t?t.movementY:vg}}),Oy=Si(pm),Vx=mn({},pm,{dataTransfer:0}),Ux=Si(Vx),zx=mn({},Sf,{relatedTarget:0}),wg=Si(zx),qx=mn({},Pc,{animationName:0,elapsedTime:0,pseudoElement:0}),$x=Si(qx),Hx=mn({},Pc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wx=Si(Hx),Gx=mn({},Pc,{data:0}),Dy=Si(Gx),Kx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Xx[t])?!!e[t]:!1}function h2(){return Qx}var Yx=mn({},Sf,{key:function(t){if(t.key){var e=Kx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Jx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:h2,charCode:function(t){return t.type==="keypress"?Wd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zx=Si(Yx),eI=mn({},pm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fy=Si(eI),tI=mn({},Sf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:h2}),nI=Si(tI),rI=mn({},Pc,{propertyName:0,elapsedTime:0,pseudoElement:0}),iI=Si(rI),sI=mn({},pm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oI=Si(sI),aI=[9,13,27,32],f2=Po&&"CompositionEvent"in window,kh=null;Po&&"documentMode"in document&&(kh=document.documentMode);var lI=Po&&"TextEvent"in window&&!kh,lb=Po&&(!f2||kh&&8<kh&&11>=kh),My=" ",jy=!1;function ub(t,e){switch(t){case"keyup":return aI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ou=!1;function uI(t,e){switch(t){case"compositionend":return cb(e);case"keypress":return e.which!==32?null:(jy=!0,My);case"textInput":return t=e.data,t===My&&jy?null:t;default:return null}}function cI(t,e){if(Ou)return t==="compositionend"||!f2&&ub(t,e)?(t=ab(),Hd=u2=Na=null,Ou=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return lb&&e.locale!=="ko"?null:e.data;default:return null}}var hI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function By(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hI[t.type]:e==="textarea"}function hb(t,e,n,r){z_(r),e=Ep(e,"onChange"),0<e.length&&(n=new c2("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ch=null,Yh=null;function fI(t){Ab(t,0)}function mm(t){var e=Mu(t);if(D_(e))return t}function dI(t,e){if(t==="change")return e}var fb=!1;if(Po){var _g;if(Po){var bg="oninput"in document;if(!bg){var Vy=document.createElement("div");Vy.setAttribute("oninput","return;"),bg=typeof Vy.oninput=="function"}_g=bg}else _g=!1;fb=_g&&(!document.documentMode||9<document.documentMode)}function Uy(){Ch&&(Ch.detachEvent("onpropertychange",db),Yh=Ch=null)}function db(t){if(t.propertyName==="value"&&mm(Yh)){var e=[];hb(e,Yh,t,i2(t)),W_(fI,e)}}function pI(t,e,n){t==="focusin"?(Uy(),Ch=e,Yh=n,Ch.attachEvent("onpropertychange",db)):t==="focusout"&&Uy()}function mI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return mm(Yh)}function gI(t,e){if(t==="click")return mm(e)}function yI(t,e){if(t==="input"||t==="change")return mm(e)}function vI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ds=typeof Object.is=="function"?Object.is:vI;function Zh(t,e){if(ds(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d1.call(e,i)||!ds(t[i],e[i]))return!1}return!0}function zy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qy(t,e){var n=zy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zy(n)}}function pb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function mb(){for(var t=window,e=yp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yp(t.document)}return e}function d2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wI(t){var e=mb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&pb(n.ownerDocument.documentElement,n)){if(r!==null&&d2(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=qy(n,s);var o=qy(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _I=Po&&"documentMode"in document&&11>=document.documentMode,Du=null,L1=null,Lh=null,R1=!1;function $y(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;R1||Du==null||Du!==yp(r)||(r=Du,"selectionStart"in r&&d2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Lh&&Zh(Lh,r)||(Lh=r,r=Ep(L1,"onSelect"),0<r.length&&(e=new c2("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Du)))}function vd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Fu={animationend:vd("Animation","AnimationEnd"),animationiteration:vd("Animation","AnimationIteration"),animationstart:vd("Animation","AnimationStart"),transitionend:vd("Transition","TransitionEnd")},Ag={},gb={};Po&&(gb=document.createElement("div").style,"AnimationEvent"in window||(delete Fu.animationend.animation,delete Fu.animationiteration.animation,delete Fu.animationstart.animation),"TransitionEvent"in window||delete Fu.transitionend.transition);function gm(t){if(Ag[t])return Ag[t];if(!Fu[t])return t;var e=Fu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in gb)return Ag[t]=e[n];return t}var yb=gm("animationend"),vb=gm("animationiteration"),wb=gm("animationstart"),_b=gm("transitionend"),bb=new Map,Hy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xa(t,e){bb.set(t,e),Gl(e,[t])}for(var Sg=0;Sg<Hy.length;Sg++){var Eg=Hy[Sg],bI=Eg.toLowerCase(),AI=Eg[0].toUpperCase()+Eg.slice(1);Xa(bI,"on"+AI)}Xa(yb,"onAnimationEnd");Xa(vb,"onAnimationIteration");Xa(wb,"onAnimationStart");Xa("dblclick","onDoubleClick");Xa("focusin","onFocus");Xa("focusout","onBlur");Xa(_b,"onTransitionEnd");fc("onMouseEnter",["mouseout","mouseover"]);fc("onMouseLeave",["mouseout","mouseover"]);fc("onPointerEnter",["pointerout","pointerover"]);fc("onPointerLeave",["pointerout","pointerover"]);Gl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _h="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SI=new Set("cancel close invalid load scroll toggle".split(" ").concat(_h));function Wy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,bx(r,e,void 0,t),t.currentTarget=null}function Ab(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,f=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Wy(i,a,f),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,f=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Wy(i,a,f),s=l}}}if(wp)throw t=P1,wp=!1,P1=null,t}function an(t,e){var n=e[j1];n===void 0&&(n=e[j1]=new Set);var r=t+"__bubble";n.has(r)||(Sb(e,t,2,!1),n.add(r))}function xg(t,e,n){var r=0;e&&(r|=4),Sb(n,t,r,e)}var wd="_reactListening"+Math.random().toString(36).slice(2);function ef(t){if(!t[wd]){t[wd]=!0,k_.forEach(function(n){n!=="selectionchange"&&(SI.has(n)||xg(n,!1,t),xg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wd]||(e[wd]=!0,xg("selectionchange",!1,e))}}function Sb(t,e,n,r){switch(ob(e)){case 1:var i=Mx;break;case 4:i=jx;break;default:i=l2}n=i.bind(null,e,n,t),i=void 0,!N1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ig(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=xl(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}W_(function(){var f=s,g=i2(n),p=[];e:{var w=bb.get(t);if(w!==void 0){var m=c2,P=t;switch(t){case"keypress":if(Wd(n)===0)break e;case"keydown":case"keyup":m=Zx;break;case"focusin":P="focus",m=wg;break;case"focusout":P="blur",m=wg;break;case"beforeblur":case"afterblur":m=wg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Oy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Ux;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=nI;break;case yb:case vb:case wb:m=$x;break;case _b:m=iI;break;case"scroll":m=Bx;break;case"wheel":m=oI;break;case"copy":case"cut":case"paste":m=Wx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Fy}var N=(e&4)!==0,F=!N&&t==="scroll",A=N?w!==null?w+"Capture":null:w;N=[];for(var b=f,O;b!==null;){O=b;var q=O.stateNode;if(O.tag===5&&q!==null&&(O=q,A!==null&&(q=Kh(b,A),q!=null&&N.push(tf(b,q,O)))),F)break;b=b.return}0<N.length&&(w=new m(w,P,null,n,g),p.push({event:w,listeners:N}))}}if(!(e&7)){e:{if(w=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",w&&n!==x1&&(P=n.relatedTarget||n.fromElement)&&(xl(P)||P[To]))break e;if((m||w)&&(w=g.window===g?g:(w=g.ownerDocument)?w.defaultView||w.parentWindow:window,m?(P=n.relatedTarget||n.toElement,m=f,P=P?xl(P):null,P!==null&&(F=Kl(P),P!==F||P.tag!==5&&P.tag!==6)&&(P=null)):(m=null,P=f),m!==P)){if(N=Oy,q="onMouseLeave",A="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(N=Fy,q="onPointerLeave",A="onPointerEnter",b="pointer"),F=m==null?w:Mu(m),O=P==null?w:Mu(P),w=new N(q,b+"leave",m,n,g),w.target=F,w.relatedTarget=O,q=null,xl(g)===f&&(N=new N(A,b+"enter",P,n,g),N.target=O,N.relatedTarget=F,q=N),F=q,m&&P)t:{for(N=m,A=P,b=0,O=N;O;O=Au(O))b++;for(O=0,q=A;q;q=Au(q))O++;for(;0<b-O;)N=Au(N),b--;for(;0<O-b;)A=Au(A),O--;for(;b--;){if(N===A||A!==null&&N===A.alternate)break t;N=Au(N),A=Au(A)}N=null}else N=null;m!==null&&Gy(p,w,m,N,!1),P!==null&&F!==null&&Gy(p,F,P,N,!0)}}e:{if(w=f?Mu(f):window,m=w.nodeName&&w.nodeName.toLowerCase(),m==="select"||m==="input"&&w.type==="file")var X=dI;else if(By(w))if(fb)X=yI;else{X=mI;var ee=pI}else(m=w.nodeName)&&m.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(X=gI);if(X&&(X=X(t,f))){hb(p,X,n,g);break e}ee&&ee(t,w,f),t==="focusout"&&(ee=w._wrapperState)&&ee.controlled&&w.type==="number"&&_1(w,"number",w.value)}switch(ee=f?Mu(f):window,t){case"focusin":(By(ee)||ee.contentEditable==="true")&&(Du=ee,L1=f,Lh=null);break;case"focusout":Lh=L1=Du=null;break;case"mousedown":R1=!0;break;case"contextmenu":case"mouseup":case"dragend":R1=!1,$y(p,n,g);break;case"selectionchange":if(_I)break;case"keydown":case"keyup":$y(p,n,g)}var L;if(f2)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Ou?ub(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(lb&&n.locale!=="ko"&&(Ou||x!=="onCompositionStart"?x==="onCompositionEnd"&&Ou&&(L=ab()):(Na=g,u2="value"in Na?Na.value:Na.textContent,Ou=!0)),ee=Ep(f,x),0<ee.length&&(x=new Dy(x,t,null,n,g),p.push({event:x,listeners:ee}),L?x.data=L:(L=cb(n),L!==null&&(x.data=L)))),(L=lI?uI(t,n):cI(t,n))&&(f=Ep(f,"onBeforeInput"),0<f.length&&(g=new Dy("onBeforeInput","beforeinput",null,n,g),p.push({event:g,listeners:f}),g.data=L))}Ab(p,e)})}function tf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ep(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Kh(t,n),s!=null&&r.unshift(tf(t,s,i)),s=Kh(t,e),s!=null&&r.push(tf(t,s,i))),t=t.return}return r}function Au(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Gy(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,f=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&f!==null&&(a=f,i?(l=Kh(n,s),l!=null&&o.unshift(tf(n,l,a))):i||(l=Kh(n,s),l!=null&&o.push(tf(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var EI=/\r\n?/g,xI=/\u0000|\uFFFD/g;function Ky(t){return(typeof t=="string"?t:""+t).replace(EI,`
`).replace(xI,"")}function _d(t,e,n){if(e=Ky(e),Ky(t)!==e&&n)throw Error(Le(425))}function xp(){}var O1=null,D1=null;function F1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var M1=typeof setTimeout=="function"?setTimeout:void 0,II=typeof clearTimeout=="function"?clearTimeout:void 0,Jy=typeof Promise=="function"?Promise:void 0,NI=typeof queueMicrotask=="function"?queueMicrotask:typeof Jy<"u"?function(t){return Jy.resolve(null).then(t).catch(PI)}:M1;function PI(t){setTimeout(function(){throw t})}function Ng(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Qh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Qh(e)}function Oa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Xy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Tc=Math.random().toString(36).slice(2),js="__reactFiber$"+Tc,nf="__reactProps$"+Tc,To="__reactContainer$"+Tc,j1="__reactEvents$"+Tc,TI="__reactListeners$"+Tc,kI="__reactHandles$"+Tc;function xl(t){var e=t[js];if(e)return e;for(var n=t.parentNode;n;){if(e=n[To]||n[js]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Xy(t);t!==null;){if(n=t[js])return n;t=Xy(t)}return e}t=n,n=t.parentNode}return null}function Ef(t){return t=t[js]||t[To],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Mu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Le(33))}function ym(t){return t[nf]||null}var B1=[],ju=-1;function Qa(t){return{current:t}}function un(t){0>ju||(t.current=B1[ju],B1[ju]=null,ju--)}function en(t,e){ju++,B1[ju]=t.current,t.current=e}var $a={},Cr=Qa($a),ei=Qa(!1),Fl=$a;function dc(t,e){var n=t.type.contextTypes;if(!n)return $a;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ti(t){return t=t.childContextTypes,t!=null}function Ip(){un(ei),un(Cr)}function Qy(t,e,n){if(Cr.current!==$a)throw Error(Le(168));en(Cr,e),en(ei,n)}function Eb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Le(108,px(t)||"Unknown",i));return mn({},n,r)}function Np(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$a,Fl=Cr.current,en(Cr,t),en(ei,ei.current),!0}function Yy(t,e,n){var r=t.stateNode;if(!r)throw Error(Le(169));n?(t=Eb(t,e,Fl),r.__reactInternalMemoizedMergedChildContext=t,un(ei),un(Cr),en(Cr,t)):un(ei),en(ei,n)}var wo=null,vm=!1,Pg=!1;function xb(t){wo===null?wo=[t]:wo.push(t)}function CI(t){vm=!0,xb(t)}function Ya(){if(!Pg&&wo!==null){Pg=!0;var t=0,e=zt;try{var n=wo;for(zt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}wo=null,vm=!1}catch(i){throw wo!==null&&(wo=wo.slice(t+1)),X_(s2,Ya),i}finally{zt=e,Pg=!1}}return null}var Bu=[],Vu=0,Pp=null,Tp=0,Oi=[],Di=0,Ml=null,_o=1,bo="";function wl(t,e){Bu[Vu++]=Tp,Bu[Vu++]=Pp,Pp=t,Tp=e}function Ib(t,e,n){Oi[Di++]=_o,Oi[Di++]=bo,Oi[Di++]=Ml,Ml=t;var r=_o;t=bo;var i=32-hs(r)-1;r&=~(1<<i),n+=1;var s=32-hs(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,_o=1<<32-hs(e)+i|n<<i|r,bo=s+t}else _o=1<<s|n<<i|r,bo=t}function p2(t){t.return!==null&&(wl(t,1),Ib(t,1,0))}function m2(t){for(;t===Pp;)Pp=Bu[--Vu],Bu[Vu]=null,Tp=Bu[--Vu],Bu[Vu]=null;for(;t===Ml;)Ml=Oi[--Di],Oi[Di]=null,bo=Oi[--Di],Oi[Di]=null,_o=Oi[--Di],Oi[Di]=null}var _i=null,vi=null,cn=!1,ss=null;function Nb(t,e){var n=Fi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Zy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,_i=t,vi=Oa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,_i=t,vi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ml!==null?{id:_o,overflow:bo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Fi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,_i=t,vi=null,!0):!1;default:return!1}}function V1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function U1(t){if(cn){var e=vi;if(e){var n=e;if(!Zy(t,e)){if(V1(t))throw Error(Le(418));e=Oa(n.nextSibling);var r=_i;e&&Zy(t,e)?Nb(r,n):(t.flags=t.flags&-4097|2,cn=!1,_i=t)}}else{if(V1(t))throw Error(Le(418));t.flags=t.flags&-4097|2,cn=!1,_i=t}}}function ev(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_i=t}function bd(t){if(t!==_i)return!1;if(!cn)return ev(t),cn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!F1(t.type,t.memoizedProps)),e&&(e=vi)){if(V1(t))throw Pb(),Error(Le(418));for(;e;)Nb(t,e),e=Oa(e.nextSibling)}if(ev(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Le(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){vi=Oa(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}vi=null}}else vi=_i?Oa(t.stateNode.nextSibling):null;return!0}function Pb(){for(var t=vi;t;)t=Oa(t.nextSibling)}function pc(){vi=_i=null,cn=!1}function g2(t){ss===null?ss=[t]:ss.push(t)}var LI=Do.ReactCurrentBatchConfig;function lh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Le(309));var r=n.stateNode}if(!r)throw Error(Le(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Le(284));if(!n._owner)throw Error(Le(290,t))}return t}function Ad(t,e){throw t=Object.prototype.toString.call(e),Error(Le(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function tv(t){var e=t._init;return e(t._payload)}function Tb(t){function e(A,b){if(t){var O=A.deletions;O===null?(A.deletions=[b],A.flags|=16):O.push(b)}}function n(A,b){if(!t)return null;for(;b!==null;)e(A,b),b=b.sibling;return null}function r(A,b){for(A=new Map;b!==null;)b.key!==null?A.set(b.key,b):A.set(b.index,b),b=b.sibling;return A}function i(A,b){return A=ja(A,b),A.index=0,A.sibling=null,A}function s(A,b,O){return A.index=O,t?(O=A.alternate,O!==null?(O=O.index,O<b?(A.flags|=2,b):O):(A.flags|=2,b)):(A.flags|=1048576,b)}function o(A){return t&&A.alternate===null&&(A.flags|=2),A}function a(A,b,O,q){return b===null||b.tag!==6?(b=Dg(O,A.mode,q),b.return=A,b):(b=i(b,O),b.return=A,b)}function l(A,b,O,q){var X=O.type;return X===Ru?g(A,b,O.props.children,q,O.key):b!==null&&(b.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===wa&&tv(X)===b.type)?(q=i(b,O.props),q.ref=lh(A,b,O),q.return=A,q):(q=Zd(O.type,O.key,O.props,null,A.mode,q),q.ref=lh(A,b,O),q.return=A,q)}function f(A,b,O,q){return b===null||b.tag!==4||b.stateNode.containerInfo!==O.containerInfo||b.stateNode.implementation!==O.implementation?(b=Fg(O,A.mode,q),b.return=A,b):(b=i(b,O.children||[]),b.return=A,b)}function g(A,b,O,q,X){return b===null||b.tag!==7?(b=Cl(O,A.mode,q,X),b.return=A,b):(b=i(b,O),b.return=A,b)}function p(A,b,O){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Dg(""+b,A.mode,O),b.return=A,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case hd:return O=Zd(b.type,b.key,b.props,null,A.mode,O),O.ref=lh(A,null,b),O.return=A,O;case Lu:return b=Fg(b,A.mode,O),b.return=A,b;case wa:var q=b._init;return p(A,q(b._payload),O)}if(vh(b)||rh(b))return b=Cl(b,A.mode,O,null),b.return=A,b;Ad(A,b)}return null}function w(A,b,O,q){var X=b!==null?b.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return X!==null?null:a(A,b,""+O,q);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case hd:return O.key===X?l(A,b,O,q):null;case Lu:return O.key===X?f(A,b,O,q):null;case wa:return X=O._init,w(A,b,X(O._payload),q)}if(vh(O)||rh(O))return X!==null?null:g(A,b,O,q,null);Ad(A,O)}return null}function m(A,b,O,q,X){if(typeof q=="string"&&q!==""||typeof q=="number")return A=A.get(O)||null,a(b,A,""+q,X);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case hd:return A=A.get(q.key===null?O:q.key)||null,l(b,A,q,X);case Lu:return A=A.get(q.key===null?O:q.key)||null,f(b,A,q,X);case wa:var ee=q._init;return m(A,b,O,ee(q._payload),X)}if(vh(q)||rh(q))return A=A.get(O)||null,g(b,A,q,X,null);Ad(b,q)}return null}function P(A,b,O,q){for(var X=null,ee=null,L=b,x=b=0,R=null;L!==null&&x<O.length;x++){L.index>x?(R=L,L=null):R=L.sibling;var B=w(A,L,O[x],q);if(B===null){L===null&&(L=R);break}t&&L&&B.alternate===null&&e(A,L),b=s(B,b,x),ee===null?X=B:ee.sibling=B,ee=B,L=R}if(x===O.length)return n(A,L),cn&&wl(A,x),X;if(L===null){for(;x<O.length;x++)L=p(A,O[x],q),L!==null&&(b=s(L,b,x),ee===null?X=L:ee.sibling=L,ee=L);return cn&&wl(A,x),X}for(L=r(A,L);x<O.length;x++)R=m(L,A,x,O[x],q),R!==null&&(t&&R.alternate!==null&&L.delete(R.key===null?x:R.key),b=s(R,b,x),ee===null?X=R:ee.sibling=R,ee=R);return t&&L.forEach(function(S){return e(A,S)}),cn&&wl(A,x),X}function N(A,b,O,q){var X=rh(O);if(typeof X!="function")throw Error(Le(150));if(O=X.call(O),O==null)throw Error(Le(151));for(var ee=X=null,L=b,x=b=0,R=null,B=O.next();L!==null&&!B.done;x++,B=O.next()){L.index>x?(R=L,L=null):R=L.sibling;var S=w(A,L,B.value,q);if(S===null){L===null&&(L=R);break}t&&L&&S.alternate===null&&e(A,L),b=s(S,b,x),ee===null?X=S:ee.sibling=S,ee=S,L=R}if(B.done)return n(A,L),cn&&wl(A,x),X;if(L===null){for(;!B.done;x++,B=O.next())B=p(A,B.value,q),B!==null&&(b=s(B,b,x),ee===null?X=B:ee.sibling=B,ee=B);return cn&&wl(A,x),X}for(L=r(A,L);!B.done;x++,B=O.next())B=m(L,A,x,B.value,q),B!==null&&(t&&B.alternate!==null&&L.delete(B.key===null?x:B.key),b=s(B,b,x),ee===null?X=B:ee.sibling=B,ee=B);return t&&L.forEach(function(I){return e(A,I)}),cn&&wl(A,x),X}function F(A,b,O,q){if(typeof O=="object"&&O!==null&&O.type===Ru&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case hd:e:{for(var X=O.key,ee=b;ee!==null;){if(ee.key===X){if(X=O.type,X===Ru){if(ee.tag===7){n(A,ee.sibling),b=i(ee,O.props.children),b.return=A,A=b;break e}}else if(ee.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===wa&&tv(X)===ee.type){n(A,ee.sibling),b=i(ee,O.props),b.ref=lh(A,ee,O),b.return=A,A=b;break e}n(A,ee);break}else e(A,ee);ee=ee.sibling}O.type===Ru?(b=Cl(O.props.children,A.mode,q,O.key),b.return=A,A=b):(q=Zd(O.type,O.key,O.props,null,A.mode,q),q.ref=lh(A,b,O),q.return=A,A=q)}return o(A);case Lu:e:{for(ee=O.key;b!==null;){if(b.key===ee)if(b.tag===4&&b.stateNode.containerInfo===O.containerInfo&&b.stateNode.implementation===O.implementation){n(A,b.sibling),b=i(b,O.children||[]),b.return=A,A=b;break e}else{n(A,b);break}else e(A,b);b=b.sibling}b=Fg(O,A.mode,q),b.return=A,A=b}return o(A);case wa:return ee=O._init,F(A,b,ee(O._payload),q)}if(vh(O))return P(A,b,O,q);if(rh(O))return N(A,b,O,q);Ad(A,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,b!==null&&b.tag===6?(n(A,b.sibling),b=i(b,O),b.return=A,A=b):(n(A,b),b=Dg(O,A.mode,q),b.return=A,A=b),o(A)):n(A,b)}return F}var mc=Tb(!0),kb=Tb(!1),kp=Qa(null),Cp=null,Uu=null,y2=null;function v2(){y2=Uu=Cp=null}function w2(t){var e=kp.current;un(kp),t._currentValue=e}function z1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Qu(t,e){Cp=t,y2=Uu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Zr=!0),t.firstContext=null)}function ji(t){var e=t._currentValue;if(y2!==t)if(t={context:t,memoizedValue:e,next:null},Uu===null){if(Cp===null)throw Error(Le(308));Uu=t,Cp.dependencies={lanes:0,firstContext:t}}else Uu=Uu.next=t;return e}var Il=null;function _2(t){Il===null?Il=[t]:Il.push(t)}function Cb(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,_2(e)):(n.next=i.next,i.next=n),e.interleaved=n,ko(t,r)}function ko(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _a=!1;function b2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Da(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Rt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ko(t,n)}return i=r.interleaved,i===null?(e.next=e,_2(r)):(e.next=i.next,i.next=e),r.interleaved=e,ko(t,n)}function Gd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,o2(t,n)}}function nv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Lp(t,e,n,r){var i=t.updateQueue;_a=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,f=l.next;l.next=null,o===null?s=f:o.next=f,o=l;var g=t.alternate;g!==null&&(g=g.updateQueue,a=g.lastBaseUpdate,a!==o&&(a===null?g.firstBaseUpdate=f:a.next=f,g.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;o=0,g=f=l=null,a=s;do{var w=a.lane,m=a.eventTime;if((r&w)===w){g!==null&&(g=g.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var P=t,N=a;switch(w=e,m=n,N.tag){case 1:if(P=N.payload,typeof P=="function"){p=P.call(m,p,w);break e}p=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=N.payload,w=typeof P=="function"?P.call(m,p,w):P,w==null)break e;p=mn({},p,w);break e;case 2:_a=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,w=i.effects,w===null?i.effects=[a]:w.push(a))}else m={eventTime:m,lane:w,tag:a.tag,payload:a.payload,callback:a.callback,next:null},g===null?(f=g=m,l=p):g=g.next=m,o|=w;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;w=a,a=w.next,w.next=null,i.lastBaseUpdate=w,i.shared.pending=null}}while(!0);if(g===null&&(l=p),i.baseState=l,i.firstBaseUpdate=f,i.lastBaseUpdate=g,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Bl|=o,t.lanes=o,t.memoizedState=p}}function rv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Le(191,i));i.call(r)}}}var xf={},zs=Qa(xf),rf=Qa(xf),sf=Qa(xf);function Nl(t){if(t===xf)throw Error(Le(174));return t}function A2(t,e){switch(en(sf,e),en(rf,t),en(zs,xf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:A1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=A1(e,t)}un(zs),en(zs,e)}function gc(){un(zs),un(rf),un(sf)}function Rb(t){Nl(sf.current);var e=Nl(zs.current),n=A1(e,t.type);e!==n&&(en(rf,t),en(zs,n))}function S2(t){rf.current===t&&(un(zs),un(rf))}var dn=Qa(0);function Rp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Tg=[];function E2(){for(var t=0;t<Tg.length;t++)Tg[t]._workInProgressVersionPrimary=null;Tg.length=0}var Kd=Do.ReactCurrentDispatcher,kg=Do.ReactCurrentBatchConfig,jl=0,pn=null,qn=null,Jn=null,Op=!1,Rh=!1,of=0,RI=0;function yr(){throw Error(Le(321))}function x2(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ds(t[n],e[n]))return!1;return!0}function I2(t,e,n,r,i,s){if(jl=s,pn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Kd.current=t===null||t.memoizedState===null?MI:jI,t=n(r,i),Rh){s=0;do{if(Rh=!1,of=0,25<=s)throw Error(Le(301));s+=1,Jn=qn=null,e.updateQueue=null,Kd.current=BI,t=n(r,i)}while(Rh)}if(Kd.current=Dp,e=qn!==null&&qn.next!==null,jl=0,Jn=qn=pn=null,Op=!1,e)throw Error(Le(300));return t}function N2(){var t=of!==0;return of=0,t}function Ds(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jn===null?pn.memoizedState=Jn=t:Jn=Jn.next=t,Jn}function Bi(){if(qn===null){var t=pn.alternate;t=t!==null?t.memoizedState:null}else t=qn.next;var e=Jn===null?pn.memoizedState:Jn.next;if(e!==null)Jn=e,qn=t;else{if(t===null)throw Error(Le(310));qn=t,t={memoizedState:qn.memoizedState,baseState:qn.baseState,baseQueue:qn.baseQueue,queue:qn.queue,next:null},Jn===null?pn.memoizedState=Jn=t:Jn=Jn.next=t}return Jn}function af(t,e){return typeof e=="function"?e(t):e}function Cg(t){var e=Bi(),n=e.queue;if(n===null)throw Error(Le(311));n.lastRenderedReducer=t;var r=qn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,f=s;do{var g=f.lane;if((jl&g)===g)l!==null&&(l=l.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:t(r,f.action);else{var p={lane:g,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};l===null?(a=l=p,o=r):l=l.next=p,pn.lanes|=g,Bl|=g}f=f.next}while(f!==null&&f!==s);l===null?o=r:l.next=a,ds(r,e.memoizedState)||(Zr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,pn.lanes|=s,Bl|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Lg(t){var e=Bi(),n=e.queue;if(n===null)throw Error(Le(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ds(s,e.memoizedState)||(Zr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Ob(){}function Db(t,e){var n=pn,r=Bi(),i=e(),s=!ds(r.memoizedState,i);if(s&&(r.memoizedState=i,Zr=!0),r=r.queue,P2(jb.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Jn!==null&&Jn.memoizedState.tag&1){if(n.flags|=2048,lf(9,Mb.bind(null,n,r,i,e),void 0,null),Yn===null)throw Error(Le(349));jl&30||Fb(n,e,i)}return i}function Fb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pn.updateQueue,e===null?(e={lastEffect:null,stores:null},pn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Mb(t,e,n,r){e.value=n,e.getSnapshot=r,Bb(e)&&Vb(t)}function jb(t,e,n){return n(function(){Bb(e)&&Vb(t)})}function Bb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ds(t,n)}catch{return!0}}function Vb(t){var e=ko(t,1);e!==null&&fs(e,t,1,-1)}function iv(t){var e=Ds();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:af,lastRenderedState:t},e.queue=t,t=t.dispatch=FI.bind(null,pn,t),[e.memoizedState,t]}function lf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=pn.updateQueue,e===null?(e={lastEffect:null,stores:null},pn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Ub(){return Bi().memoizedState}function Jd(t,e,n,r){var i=Ds();pn.flags|=t,i.memoizedState=lf(1|e,n,void 0,r===void 0?null:r)}function wm(t,e,n,r){var i=Bi();r=r===void 0?null:r;var s=void 0;if(qn!==null){var o=qn.memoizedState;if(s=o.destroy,r!==null&&x2(r,o.deps)){i.memoizedState=lf(e,n,s,r);return}}pn.flags|=t,i.memoizedState=lf(1|e,n,s,r)}function sv(t,e){return Jd(8390656,8,t,e)}function P2(t,e){return wm(2048,8,t,e)}function zb(t,e){return wm(4,2,t,e)}function qb(t,e){return wm(4,4,t,e)}function $b(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Hb(t,e,n){return n=n!=null?n.concat([t]):null,wm(4,4,$b.bind(null,e,t),n)}function T2(){}function Wb(t,e){var n=Bi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&x2(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Gb(t,e){var n=Bi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&x2(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Kb(t,e,n){return jl&21?(ds(n,e)||(n=Z_(),pn.lanes|=n,Bl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Zr=!0),t.memoizedState=n)}function OI(t,e){var n=zt;zt=n!==0&&4>n?n:4,t(!0);var r=kg.transition;kg.transition={};try{t(!1),e()}finally{zt=n,kg.transition=r}}function Jb(){return Bi().memoizedState}function DI(t,e,n){var r=Ma(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xb(t))Qb(e,n);else if(n=Cb(t,e,n,r),n!==null){var i=Vr();fs(n,t,r,i),Yb(n,e,r)}}function FI(t,e,n){var r=Ma(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xb(t))Qb(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ds(a,o)){var l=e.interleaved;l===null?(i.next=i,_2(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Cb(t,e,i,r),n!==null&&(i=Vr(),fs(n,t,r,i),Yb(n,e,r))}}function Xb(t){var e=t.alternate;return t===pn||e!==null&&e===pn}function Qb(t,e){Rh=Op=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Yb(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,o2(t,n)}}var Dp={readContext:ji,useCallback:yr,useContext:yr,useEffect:yr,useImperativeHandle:yr,useInsertionEffect:yr,useLayoutEffect:yr,useMemo:yr,useReducer:yr,useRef:yr,useState:yr,useDebugValue:yr,useDeferredValue:yr,useTransition:yr,useMutableSource:yr,useSyncExternalStore:yr,useId:yr,unstable_isNewReconciler:!1},MI={readContext:ji,useCallback:function(t,e){return Ds().memoizedState=[t,e===void 0?null:e],t},useContext:ji,useEffect:sv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Jd(4194308,4,$b.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Jd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jd(4,2,t,e)},useMemo:function(t,e){var n=Ds();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ds();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=DI.bind(null,pn,t),[r.memoizedState,t]},useRef:function(t){var e=Ds();return t={current:t},e.memoizedState=t},useState:iv,useDebugValue:T2,useDeferredValue:function(t){return Ds().memoizedState=t},useTransition:function(){var t=iv(!1),e=t[0];return t=OI.bind(null,t[1]),Ds().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=pn,i=Ds();if(cn){if(n===void 0)throw Error(Le(407));n=n()}else{if(n=e(),Yn===null)throw Error(Le(349));jl&30||Fb(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,sv(jb.bind(null,r,s,t),[t]),r.flags|=2048,lf(9,Mb.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ds(),e=Yn.identifierPrefix;if(cn){var n=bo,r=_o;n=(r&~(1<<32-hs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=of++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=RI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},jI={readContext:ji,useCallback:Wb,useContext:ji,useEffect:P2,useImperativeHandle:Hb,useInsertionEffect:zb,useLayoutEffect:qb,useMemo:Gb,useReducer:Cg,useRef:Ub,useState:function(){return Cg(af)},useDebugValue:T2,useDeferredValue:function(t){var e=Bi();return Kb(e,qn.memoizedState,t)},useTransition:function(){var t=Cg(af)[0],e=Bi().memoizedState;return[t,e]},useMutableSource:Ob,useSyncExternalStore:Db,useId:Jb,unstable_isNewReconciler:!1},BI={readContext:ji,useCallback:Wb,useContext:ji,useEffect:P2,useImperativeHandle:Hb,useInsertionEffect:zb,useLayoutEffect:qb,useMemo:Gb,useReducer:Lg,useRef:Ub,useState:function(){return Lg(af)},useDebugValue:T2,useDeferredValue:function(t){var e=Bi();return qn===null?e.memoizedState=t:Kb(e,qn.memoizedState,t)},useTransition:function(){var t=Lg(af)[0],e=Bi().memoizedState;return[t,e]},useMutableSource:Ob,useSyncExternalStore:Db,useId:Jb,unstable_isNewReconciler:!1};function ts(t,e){if(t&&t.defaultProps){e=mn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function q1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:mn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var _m={isMounted:function(t){return(t=t._reactInternals)?Kl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Vr(),i=Ma(t),s=xo(r,i);s.payload=e,n!=null&&(s.callback=n),e=Da(t,s,i),e!==null&&(fs(e,t,i,r),Gd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Vr(),i=Ma(t),s=xo(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Da(t,s,i),e!==null&&(fs(e,t,i,r),Gd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Vr(),r=Ma(t),i=xo(n,r);i.tag=2,e!=null&&(i.callback=e),e=Da(t,i,r),e!==null&&(fs(e,t,r,n),Gd(e,t,r))}};function ov(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Zh(n,r)||!Zh(i,s):!0}function Zb(t,e,n){var r=!1,i=$a,s=e.contextType;return typeof s=="object"&&s!==null?s=ji(s):(i=ti(e)?Fl:Cr.current,r=e.contextTypes,s=(r=r!=null)?dc(t,i):$a),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_m,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function av(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&_m.enqueueReplaceState(e,e.state,null)}function $1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},b2(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ji(s):(s=ti(e)?Fl:Cr.current,i.context=dc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(q1(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&_m.enqueueReplaceState(i,i.state,null),Lp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function yc(t,e){try{var n="",r=e;do n+=dx(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Rg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function H1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var VI=typeof WeakMap=="function"?WeakMap:Map;function e4(t,e,n){n=xo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Mp||(Mp=!0,t0=r),H1(t,e)},n}function t4(t,e,n){n=xo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){H1(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){H1(t,e),typeof r!="function"&&(Fa===null?Fa=new Set([this]):Fa.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function lv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new VI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=e6.bind(null,t,e,n),e.then(t,t))}function uv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function cv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=xo(-1,1),e.tag=2,Da(n,e,1))),n.lanes|=1),t)}var UI=Do.ReactCurrentOwner,Zr=!1;function Br(t,e,n,r){e.child=t===null?kb(e,null,n,r):mc(e,t.child,n,r)}function hv(t,e,n,r,i){n=n.render;var s=e.ref;return Qu(e,i),r=I2(t,e,n,r,s,i),n=N2(),t!==null&&!Zr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Co(t,e,i)):(cn&&n&&p2(e),e.flags|=1,Br(t,e,r,i),e.child)}function fv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!M2(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,n4(t,e,s,r,i)):(t=Zd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Zh,n(o,r)&&t.ref===e.ref)return Co(t,e,i)}return e.flags|=1,t=ja(s,r),t.ref=e.ref,t.return=e,e.child=t}function n4(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Zh(s,r)&&t.ref===e.ref)if(Zr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Zr=!0);else return e.lanes=t.lanes,Co(t,e,i)}return W1(t,e,n,r,i)}function r4(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},en(qu,yi),yi|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,en(qu,yi),yi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,en(qu,yi),yi|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,en(qu,yi),yi|=r;return Br(t,e,i,n),e.child}function i4(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function W1(t,e,n,r,i){var s=ti(n)?Fl:Cr.current;return s=dc(e,s),Qu(e,i),n=I2(t,e,n,r,s,i),r=N2(),t!==null&&!Zr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Co(t,e,i)):(cn&&r&&p2(e),e.flags|=1,Br(t,e,n,i),e.child)}function dv(t,e,n,r,i){if(ti(n)){var s=!0;Np(e)}else s=!1;if(Qu(e,i),e.stateNode===null)Xd(t,e),Zb(e,n,r),$1(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,f=n.contextType;typeof f=="object"&&f!==null?f=ji(f):(f=ti(n)?Fl:Cr.current,f=dc(e,f));var g=n.getDerivedStateFromProps,p=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==f)&&av(e,o,r,f),_a=!1;var w=e.memoizedState;o.state=w,Lp(e,r,o,i),l=e.memoizedState,a!==r||w!==l||ei.current||_a?(typeof g=="function"&&(q1(e,n,g,r),l=e.memoizedState),(a=_a||ov(e,n,a,r,w,l,f))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=f,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Lb(t,e),a=e.memoizedProps,f=e.type===e.elementType?a:ts(e.type,a),o.props=f,p=e.pendingProps,w=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ji(l):(l=ti(n)?Fl:Cr.current,l=dc(e,l));var m=n.getDerivedStateFromProps;(g=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||w!==l)&&av(e,o,r,l),_a=!1,w=e.memoizedState,o.state=w,Lp(e,r,o,i);var P=e.memoizedState;a!==p||w!==P||ei.current||_a?(typeof m=="function"&&(q1(e,n,m,r),P=e.memoizedState),(f=_a||ov(e,n,f,r,w,P,l)||!1)?(g||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,P,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,P,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=P),o.props=r,o.state=P,o.context=l,r=f):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),r=!1)}return G1(t,e,n,r,s,i)}function G1(t,e,n,r,i,s){i4(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Yy(e,n,!1),Co(t,e,s);r=e.stateNode,UI.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=mc(e,t.child,null,s),e.child=mc(e,null,a,s)):Br(t,e,a,s),e.memoizedState=r.state,i&&Yy(e,n,!0),e.child}function s4(t){var e=t.stateNode;e.pendingContext?Qy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Qy(t,e.context,!1),A2(t,e.containerInfo)}function pv(t,e,n,r,i){return pc(),g2(i),e.flags|=256,Br(t,e,n,r),e.child}var K1={dehydrated:null,treeContext:null,retryLane:0};function J1(t){return{baseLanes:t,cachePool:null,transitions:null}}function o4(t,e,n){var r=e.pendingProps,i=dn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),en(dn,i&1),t===null)return U1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Sm(o,r,0,null),t=Cl(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=J1(n),e.memoizedState=K1,t):k2(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return zI(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ja(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ja(a,s):(s=Cl(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?J1(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=K1,r}return s=t.child,t=s.sibling,r=ja(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function k2(t,e){return e=Sm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Sd(t,e,n,r){return r!==null&&g2(r),mc(e,t.child,null,n),t=k2(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zI(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Rg(Error(Le(422))),Sd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Sm({mode:"visible",children:r.children},i,0,null),s=Cl(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&mc(e,t.child,null,o),e.child.memoizedState=J1(o),e.memoizedState=K1,s);if(!(e.mode&1))return Sd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Le(419)),r=Rg(s,r,void 0),Sd(t,e,o,r)}if(a=(o&t.childLanes)!==0,Zr||a){if(r=Yn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ko(t,i),fs(r,t,i,-1))}return F2(),r=Rg(Error(Le(421))),Sd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=t6.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,vi=Oa(i.nextSibling),_i=e,cn=!0,ss=null,t!==null&&(Oi[Di++]=_o,Oi[Di++]=bo,Oi[Di++]=Ml,_o=t.id,bo=t.overflow,Ml=e),e=k2(e,r.children),e.flags|=4096,e)}function mv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),z1(t.return,e,n)}function Og(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function a4(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Br(t,e,r.children,n),r=dn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mv(t,n,e);else if(t.tag===19)mv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(en(dn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Rp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Og(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Rp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Og(e,!0,n,null,s);break;case"together":Og(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Co(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Bl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Le(153));if(e.child!==null){for(t=e.child,n=ja(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ja(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function qI(t,e,n){switch(e.tag){case 3:s4(e),pc();break;case 5:Rb(e);break;case 1:ti(e.type)&&Np(e);break;case 4:A2(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;en(kp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(en(dn,dn.current&1),e.flags|=128,null):n&e.child.childLanes?o4(t,e,n):(en(dn,dn.current&1),t=Co(t,e,n),t!==null?t.sibling:null);en(dn,dn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return a4(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),en(dn,dn.current),r)break;return null;case 22:case 23:return e.lanes=0,r4(t,e,n)}return Co(t,e,n)}var l4,X1,u4,c4;l4=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};X1=function(){};u4=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Nl(zs.current);var s=null;switch(n){case"input":i=v1(t,i),r=v1(t,r),s=[];break;case"select":i=mn({},i,{value:void 0}),r=mn({},r,{value:void 0}),s=[];break;case"textarea":i=b1(t,i),r=b1(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xp)}S1(n,r);var o;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var a=i[f];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Wh.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(a=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&l!==a&&(l!=null||a!=null))if(f==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(f,n)),n=l;else f==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(f,l)):f==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(f,""+l):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Wh.hasOwnProperty(f)?(l!=null&&f==="onScroll"&&an("scroll",t),s||a===l||(s=[])):(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(e.updateQueue=f)&&(e.flags|=4)}};c4=function(t,e,n,r){n!==r&&(e.flags|=4)};function uh(t,e){if(!cn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function vr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $I(t,e,n){var r=e.pendingProps;switch(m2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vr(e),null;case 1:return ti(e.type)&&Ip(),vr(e),null;case 3:return r=e.stateNode,gc(),un(ei),un(Cr),E2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ss!==null&&(i0(ss),ss=null))),X1(t,e),vr(e),null;case 5:S2(e);var i=Nl(sf.current);if(n=e.type,t!==null&&e.stateNode!=null)u4(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Le(166));return vr(e),null}if(t=Nl(zs.current),bd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[js]=e,r[nf]=s,t=(e.mode&1)!==0,n){case"dialog":an("cancel",r),an("close",r);break;case"iframe":case"object":case"embed":an("load",r);break;case"video":case"audio":for(i=0;i<_h.length;i++)an(_h[i],r);break;case"source":an("error",r);break;case"img":case"image":case"link":an("error",r),an("load",r);break;case"details":an("toggle",r);break;case"input":Ey(r,s),an("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},an("invalid",r);break;case"textarea":Iy(r,s),an("invalid",r)}S1(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&_d(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&_d(r.textContent,a,t),i=["children",""+a]):Wh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&an("scroll",r)}switch(n){case"input":fd(r),xy(r,s,!0);break;case"textarea":fd(r),Ny(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=xp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=j_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[js]=e,t[nf]=r,l4(t,e,!1,!1),e.stateNode=t;e:{switch(o=E1(n,r),n){case"dialog":an("cancel",t),an("close",t),i=r;break;case"iframe":case"object":case"embed":an("load",t),i=r;break;case"video":case"audio":for(i=0;i<_h.length;i++)an(_h[i],t);i=r;break;case"source":an("error",t),i=r;break;case"img":case"image":case"link":an("error",t),an("load",t),i=r;break;case"details":an("toggle",t),i=r;break;case"input":Ey(t,r),i=v1(t,r),an("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=mn({},r,{value:void 0}),an("invalid",t);break;case"textarea":Iy(t,r),i=b1(t,r),an("invalid",t);break;default:i=r}S1(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?U_(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&B_(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Gh(t,l):typeof l=="number"&&Gh(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Wh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&an("scroll",t):l!=null&&e2(t,s,l,o))}switch(n){case"input":fd(t),xy(t,r,!1);break;case"textarea":fd(t),Ny(t);break;case"option":r.value!=null&&t.setAttribute("value",""+qa(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Gu(t,!!r.multiple,s,!1):r.defaultValue!=null&&Gu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=xp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return vr(e),null;case 6:if(t&&e.stateNode!=null)c4(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Le(166));if(n=Nl(sf.current),Nl(zs.current),bd(e)){if(r=e.stateNode,n=e.memoizedProps,r[js]=e,(s=r.nodeValue!==n)&&(t=_i,t!==null))switch(t.tag){case 3:_d(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_d(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[js]=e,e.stateNode=r}return vr(e),null;case 13:if(un(dn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(cn&&vi!==null&&e.mode&1&&!(e.flags&128))Pb(),pc(),e.flags|=98560,s=!1;else if(s=bd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Le(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Le(317));s[js]=e}else pc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;vr(e),s=!1}else ss!==null&&(i0(ss),ss=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||dn.current&1?$n===0&&($n=3):F2())),e.updateQueue!==null&&(e.flags|=4),vr(e),null);case 4:return gc(),X1(t,e),t===null&&ef(e.stateNode.containerInfo),vr(e),null;case 10:return w2(e.type._context),vr(e),null;case 17:return ti(e.type)&&Ip(),vr(e),null;case 19:if(un(dn),s=e.memoizedState,s===null)return vr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)uh(s,!1);else{if($n!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Rp(t),o!==null){for(e.flags|=128,uh(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return en(dn,dn.current&1|2),e.child}t=t.sibling}s.tail!==null&&Nn()>vc&&(e.flags|=128,r=!0,uh(s,!1),e.lanes=4194304)}else{if(!r)if(t=Rp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),uh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!cn)return vr(e),null}else 2*Nn()-s.renderingStartTime>vc&&n!==1073741824&&(e.flags|=128,r=!0,uh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Nn(),e.sibling=null,n=dn.current,en(dn,r?n&1|2:n&1),e):(vr(e),null);case 22:case 23:return D2(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?yi&1073741824&&(vr(e),e.subtreeFlags&6&&(e.flags|=8192)):vr(e),null;case 24:return null;case 25:return null}throw Error(Le(156,e.tag))}function HI(t,e){switch(m2(e),e.tag){case 1:return ti(e.type)&&Ip(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return gc(),un(ei),un(Cr),E2(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return S2(e),null;case 13:if(un(dn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Le(340));pc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return un(dn),null;case 4:return gc(),null;case 10:return w2(e.type._context),null;case 22:case 23:return D2(),null;case 24:return null;default:return null}}var Ed=!1,Ir=!1,WI=typeof WeakSet=="function"?WeakSet:Set,We=null;function zu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){bn(t,e,r)}else n.current=null}function Q1(t,e,n){try{n()}catch(r){bn(t,e,r)}}var gv=!1;function GI(t,e){if(O1=Ap,t=mb(),d2(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,f=0,g=0,p=t,w=null;t:for(;;){for(var m;p!==n||i!==0&&p.nodeType!==3||(a=o+i),p!==s||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(m=p.firstChild)!==null;)w=p,p=m;for(;;){if(p===t)break t;if(w===n&&++f===i&&(a=o),w===s&&++g===r&&(l=o),(m=p.nextSibling)!==null)break;p=w,w=p.parentNode}p=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(D1={focusedElem:t,selectionRange:n},Ap=!1,We=e;We!==null;)if(e=We,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,We=t;else for(;We!==null;){e=We;try{var P=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var N=P.memoizedProps,F=P.memoizedState,A=e.stateNode,b=A.getSnapshotBeforeUpdate(e.elementType===e.type?N:ts(e.type,N),F);A.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var O=e.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Le(163))}}catch(q){bn(e,e.return,q)}if(t=e.sibling,t!==null){t.return=e.return,We=t;break}We=e.return}return P=gv,gv=!1,P}function Oh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Q1(e,n,s)}i=i.next}while(i!==r)}}function bm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Y1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function h4(t){var e=t.alternate;e!==null&&(t.alternate=null,h4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[js],delete e[nf],delete e[j1],delete e[TI],delete e[kI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function f4(t){return t.tag===5||t.tag===3||t.tag===4}function yv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||f4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Z1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xp));else if(r!==4&&(t=t.child,t!==null))for(Z1(t,e,n),t=t.sibling;t!==null;)Z1(t,e,n),t=t.sibling}function e0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(e0(t,e,n),t=t.sibling;t!==null;)e0(t,e,n),t=t.sibling}var sr=null,is=!1;function fa(t,e,n){for(n=n.child;n!==null;)d4(t,e,n),n=n.sibling}function d4(t,e,n){if(Us&&typeof Us.onCommitFiberUnmount=="function")try{Us.onCommitFiberUnmount(dm,n)}catch{}switch(n.tag){case 5:Ir||zu(n,e);case 6:var r=sr,i=is;sr=null,fa(t,e,n),sr=r,is=i,sr!==null&&(is?(t=sr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):sr.removeChild(n.stateNode));break;case 18:sr!==null&&(is?(t=sr,n=n.stateNode,t.nodeType===8?Ng(t.parentNode,n):t.nodeType===1&&Ng(t,n),Qh(t)):Ng(sr,n.stateNode));break;case 4:r=sr,i=is,sr=n.stateNode.containerInfo,is=!0,fa(t,e,n),sr=r,is=i;break;case 0:case 11:case 14:case 15:if(!Ir&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Q1(n,e,o),i=i.next}while(i!==r)}fa(t,e,n);break;case 1:if(!Ir&&(zu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){bn(n,e,a)}fa(t,e,n);break;case 21:fa(t,e,n);break;case 22:n.mode&1?(Ir=(r=Ir)||n.memoizedState!==null,fa(t,e,n),Ir=r):fa(t,e,n);break;default:fa(t,e,n)}}function vv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new WI),e.forEach(function(r){var i=n6.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Qi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:sr=a.stateNode,is=!1;break e;case 3:sr=a.stateNode.containerInfo,is=!0;break e;case 4:sr=a.stateNode.containerInfo,is=!0;break e}a=a.return}if(sr===null)throw Error(Le(160));d4(s,o,i),sr=null,is=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(f){bn(i,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)p4(e,t),e=e.sibling}function p4(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qi(e,t),Ls(t),r&4){try{Oh(3,t,t.return),bm(3,t)}catch(N){bn(t,t.return,N)}try{Oh(5,t,t.return)}catch(N){bn(t,t.return,N)}}break;case 1:Qi(e,t),Ls(t),r&512&&n!==null&&zu(n,n.return);break;case 5:if(Qi(e,t),Ls(t),r&512&&n!==null&&zu(n,n.return),t.flags&32){var i=t.stateNode;try{Gh(i,"")}catch(N){bn(t,t.return,N)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&F_(i,s),E1(a,o);var f=E1(a,s);for(o=0;o<l.length;o+=2){var g=l[o],p=l[o+1];g==="style"?U_(i,p):g==="dangerouslySetInnerHTML"?B_(i,p):g==="children"?Gh(i,p):e2(i,g,p,f)}switch(a){case"input":w1(i,s);break;case"textarea":M_(i,s);break;case"select":var w=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Gu(i,!!s.multiple,m,!1):w!==!!s.multiple&&(s.defaultValue!=null?Gu(i,!!s.multiple,s.defaultValue,!0):Gu(i,!!s.multiple,s.multiple?[]:"",!1))}i[nf]=s}catch(N){bn(t,t.return,N)}}break;case 6:if(Qi(e,t),Ls(t),r&4){if(t.stateNode===null)throw Error(Le(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(N){bn(t,t.return,N)}}break;case 3:if(Qi(e,t),Ls(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qh(e.containerInfo)}catch(N){bn(t,t.return,N)}break;case 4:Qi(e,t),Ls(t);break;case 13:Qi(e,t),Ls(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(R2=Nn())),r&4&&vv(t);break;case 22:if(g=n!==null&&n.memoizedState!==null,t.mode&1?(Ir=(f=Ir)||g,Qi(e,t),Ir=f):Qi(e,t),Ls(t),r&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!g&&t.mode&1)for(We=t,g=t.child;g!==null;){for(p=We=g;We!==null;){switch(w=We,m=w.child,w.tag){case 0:case 11:case 14:case 15:Oh(4,w,w.return);break;case 1:zu(w,w.return);var P=w.stateNode;if(typeof P.componentWillUnmount=="function"){r=w,n=w.return;try{e=r,P.props=e.memoizedProps,P.state=e.memoizedState,P.componentWillUnmount()}catch(N){bn(r,n,N)}}break;case 5:zu(w,w.return);break;case 22:if(w.memoizedState!==null){_v(p);continue}}m!==null?(m.return=w,We=m):_v(p)}g=g.sibling}e:for(g=null,p=t;;){if(p.tag===5){if(g===null){g=p;try{i=p.stateNode,f?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=V_("display",o))}catch(N){bn(t,t.return,N)}}}else if(p.tag===6){if(g===null)try{p.stateNode.nodeValue=f?"":p.memoizedProps}catch(N){bn(t,t.return,N)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;g===p&&(g=null),p=p.return}g===p&&(g=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Qi(e,t),Ls(t),r&4&&vv(t);break;case 21:break;default:Qi(e,t),Ls(t)}}function Ls(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(f4(n)){var r=n;break e}n=n.return}throw Error(Le(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Gh(i,""),r.flags&=-33);var s=yv(t);e0(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=yv(t);Z1(t,a,o);break;default:throw Error(Le(161))}}catch(l){bn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function KI(t,e,n){We=t,m4(t)}function m4(t,e,n){for(var r=(t.mode&1)!==0;We!==null;){var i=We,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ed;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ir;a=Ed;var f=Ir;if(Ed=o,(Ir=l)&&!f)for(We=i;We!==null;)o=We,l=o.child,o.tag===22&&o.memoizedState!==null?bv(i):l!==null?(l.return=o,We=l):bv(i);for(;s!==null;)We=s,m4(s),s=s.sibling;We=i,Ed=a,Ir=f}wv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,We=s):wv(t)}}function wv(t){for(;We!==null;){var e=We;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ir||bm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ir)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ts(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&rv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}rv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var g=f.memoizedState;if(g!==null){var p=g.dehydrated;p!==null&&Qh(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Le(163))}Ir||e.flags&512&&Y1(e)}catch(w){bn(e,e.return,w)}}if(e===t){We=null;break}if(n=e.sibling,n!==null){n.return=e.return,We=n;break}We=e.return}}function _v(t){for(;We!==null;){var e=We;if(e===t){We=null;break}var n=e.sibling;if(n!==null){n.return=e.return,We=n;break}We=e.return}}function bv(t){for(;We!==null;){var e=We;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{bm(4,e)}catch(l){bn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){bn(e,i,l)}}var s=e.return;try{Y1(e)}catch(l){bn(e,s,l)}break;case 5:var o=e.return;try{Y1(e)}catch(l){bn(e,o,l)}}}catch(l){bn(e,e.return,l)}if(e===t){We=null;break}var a=e.sibling;if(a!==null){a.return=e.return,We=a;break}We=e.return}}var JI=Math.ceil,Fp=Do.ReactCurrentDispatcher,C2=Do.ReactCurrentOwner,Mi=Do.ReactCurrentBatchConfig,Rt=0,Yn=null,jn=null,cr=0,yi=0,qu=Qa(0),$n=0,uf=null,Bl=0,Am=0,L2=0,Dh=null,Yr=null,R2=0,vc=1/0,vo=null,Mp=!1,t0=null,Fa=null,xd=!1,Pa=null,jp=0,Fh=0,n0=null,Qd=-1,Yd=0;function Vr(){return Rt&6?Nn():Qd!==-1?Qd:Qd=Nn()}function Ma(t){return t.mode&1?Rt&2&&cr!==0?cr&-cr:LI.transition!==null?(Yd===0&&(Yd=Z_()),Yd):(t=zt,t!==0||(t=window.event,t=t===void 0?16:ob(t.type)),t):1}function fs(t,e,n,r){if(50<Fh)throw Fh=0,n0=null,Error(Le(185));Af(t,n,r),(!(Rt&2)||t!==Yn)&&(t===Yn&&(!(Rt&2)&&(Am|=n),$n===4&&Aa(t,cr)),ni(t,r),n===1&&Rt===0&&!(e.mode&1)&&(vc=Nn()+500,vm&&Ya()))}function ni(t,e){var n=t.callbackNode;Lx(t,e);var r=bp(t,t===Yn?cr:0);if(r===0)n!==null&&ky(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ky(n),e===1)t.tag===0?CI(Av.bind(null,t)):xb(Av.bind(null,t)),NI(function(){!(Rt&6)&&Ya()}),n=null;else{switch(eb(r)){case 1:n=s2;break;case 4:n=Q_;break;case 16:n=_p;break;case 536870912:n=Y_;break;default:n=_p}n=S4(n,g4.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function g4(t,e){if(Qd=-1,Yd=0,Rt&6)throw Error(Le(327));var n=t.callbackNode;if(Yu()&&t.callbackNode!==n)return null;var r=bp(t,t===Yn?cr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Bp(t,r);else{e=r;var i=Rt;Rt|=2;var s=v4();(Yn!==t||cr!==e)&&(vo=null,vc=Nn()+500,kl(t,e));do try{YI();break}catch(a){y4(t,a)}while(!0);v2(),Fp.current=s,Rt=i,jn!==null?e=0:(Yn=null,cr=0,e=$n)}if(e!==0){if(e===2&&(i=T1(t),i!==0&&(r=i,e=r0(t,i))),e===1)throw n=uf,kl(t,0),Aa(t,r),ni(t,Nn()),n;if(e===6)Aa(t,r);else{if(i=t.current.alternate,!(r&30)&&!XI(i)&&(e=Bp(t,r),e===2&&(s=T1(t),s!==0&&(r=s,e=r0(t,s))),e===1))throw n=uf,kl(t,0),Aa(t,r),ni(t,Nn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Le(345));case 2:_l(t,Yr,vo);break;case 3:if(Aa(t,r),(r&130023424)===r&&(e=R2+500-Nn(),10<e)){if(bp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Vr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=M1(_l.bind(null,t,Yr,vo),e);break}_l(t,Yr,vo);break;case 4:if(Aa(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-hs(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Nn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*JI(r/1960))-r,10<r){t.timeoutHandle=M1(_l.bind(null,t,Yr,vo),r);break}_l(t,Yr,vo);break;case 5:_l(t,Yr,vo);break;default:throw Error(Le(329))}}}return ni(t,Nn()),t.callbackNode===n?g4.bind(null,t):null}function r0(t,e){var n=Dh;return t.current.memoizedState.isDehydrated&&(kl(t,e).flags|=256),t=Bp(t,e),t!==2&&(e=Yr,Yr=n,e!==null&&i0(e)),t}function i0(t){Yr===null?Yr=t:Yr.push.apply(Yr,t)}function XI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ds(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Aa(t,e){for(e&=~L2,e&=~Am,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-hs(e),r=1<<n;t[n]=-1,e&=~r}}function Av(t){if(Rt&6)throw Error(Le(327));Yu();var e=bp(t,0);if(!(e&1))return ni(t,Nn()),null;var n=Bp(t,e);if(t.tag!==0&&n===2){var r=T1(t);r!==0&&(e=r,n=r0(t,r))}if(n===1)throw n=uf,kl(t,0),Aa(t,e),ni(t,Nn()),n;if(n===6)throw Error(Le(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_l(t,Yr,vo),ni(t,Nn()),null}function O2(t,e){var n=Rt;Rt|=1;try{return t(e)}finally{Rt=n,Rt===0&&(vc=Nn()+500,vm&&Ya())}}function Vl(t){Pa!==null&&Pa.tag===0&&!(Rt&6)&&Yu();var e=Rt;Rt|=1;var n=Mi.transition,r=zt;try{if(Mi.transition=null,zt=1,t)return t()}finally{zt=r,Mi.transition=n,Rt=e,!(Rt&6)&&Ya()}}function D2(){yi=qu.current,un(qu)}function kl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,II(n)),jn!==null)for(n=jn.return;n!==null;){var r=n;switch(m2(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ip();break;case 3:gc(),un(ei),un(Cr),E2();break;case 5:S2(r);break;case 4:gc();break;case 13:un(dn);break;case 19:un(dn);break;case 10:w2(r.type._context);break;case 22:case 23:D2()}n=n.return}if(Yn=t,jn=t=ja(t.current,null),cr=yi=e,$n=0,uf=null,L2=Am=Bl=0,Yr=Dh=null,Il!==null){for(e=0;e<Il.length;e++)if(n=Il[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Il=null}return t}function y4(t,e){do{var n=jn;try{if(v2(),Kd.current=Dp,Op){for(var r=pn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Op=!1}if(jl=0,Jn=qn=pn=null,Rh=!1,of=0,C2.current=null,n===null||n.return===null){$n=1,uf=e,jn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=cr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var f=l,g=a,p=g.tag;if(!(g.mode&1)&&(p===0||p===11||p===15)){var w=g.alternate;w?(g.updateQueue=w.updateQueue,g.memoizedState=w.memoizedState,g.lanes=w.lanes):(g.updateQueue=null,g.memoizedState=null)}var m=uv(o);if(m!==null){m.flags&=-257,cv(m,o,a,s,e),m.mode&1&&lv(s,f,e),e=m,l=f;var P=e.updateQueue;if(P===null){var N=new Set;N.add(l),e.updateQueue=N}else P.add(l);break e}else{if(!(e&1)){lv(s,f,e),F2();break e}l=Error(Le(426))}}else if(cn&&a.mode&1){var F=uv(o);if(F!==null){!(F.flags&65536)&&(F.flags|=256),cv(F,o,a,s,e),g2(yc(l,a));break e}}s=l=yc(l,a),$n!==4&&($n=2),Dh===null?Dh=[s]:Dh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var A=e4(s,l,e);nv(s,A);break e;case 1:a=l;var b=s.type,O=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Fa===null||!Fa.has(O)))){s.flags|=65536,e&=-e,s.lanes|=e;var q=t4(s,a,e);nv(s,q);break e}}s=s.return}while(s!==null)}_4(n)}catch(X){e=X,jn===n&&n!==null&&(jn=n=n.return);continue}break}while(!0)}function v4(){var t=Fp.current;return Fp.current=Dp,t===null?Dp:t}function F2(){($n===0||$n===3||$n===2)&&($n=4),Yn===null||!(Bl&268435455)&&!(Am&268435455)||Aa(Yn,cr)}function Bp(t,e){var n=Rt;Rt|=2;var r=v4();(Yn!==t||cr!==e)&&(vo=null,kl(t,e));do try{QI();break}catch(i){y4(t,i)}while(!0);if(v2(),Rt=n,Fp.current=r,jn!==null)throw Error(Le(261));return Yn=null,cr=0,$n}function QI(){for(;jn!==null;)w4(jn)}function YI(){for(;jn!==null&&!Sx();)w4(jn)}function w4(t){var e=A4(t.alternate,t,yi);t.memoizedProps=t.pendingProps,e===null?_4(t):jn=e,C2.current=null}function _4(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=HI(n,e),n!==null){n.flags&=32767,jn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$n=6,jn=null;return}}else if(n=$I(n,e,yi),n!==null){jn=n;return}if(e=e.sibling,e!==null){jn=e;return}jn=e=t}while(e!==null);$n===0&&($n=5)}function _l(t,e,n){var r=zt,i=Mi.transition;try{Mi.transition=null,zt=1,ZI(t,e,n,r)}finally{Mi.transition=i,zt=r}return null}function ZI(t,e,n,r){do Yu();while(Pa!==null);if(Rt&6)throw Error(Le(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Le(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Rx(t,s),t===Yn&&(jn=Yn=null,cr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xd||(xd=!0,S4(_p,function(){return Yu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Mi.transition,Mi.transition=null;var o=zt;zt=1;var a=Rt;Rt|=4,C2.current=null,GI(t,n),p4(n,t),wI(D1),Ap=!!O1,D1=O1=null,t.current=n,KI(n),Ex(),Rt=a,zt=o,Mi.transition=s}else t.current=n;if(xd&&(xd=!1,Pa=t,jp=i),s=t.pendingLanes,s===0&&(Fa=null),Nx(n.stateNode),ni(t,Nn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Mp)throw Mp=!1,t=t0,t0=null,t;return jp&1&&t.tag!==0&&Yu(),s=t.pendingLanes,s&1?t===n0?Fh++:(Fh=0,n0=t):Fh=0,Ya(),null}function Yu(){if(Pa!==null){var t=eb(jp),e=Mi.transition,n=zt;try{if(Mi.transition=null,zt=16>t?16:t,Pa===null)var r=!1;else{if(t=Pa,Pa=null,jp=0,Rt&6)throw Error(Le(331));var i=Rt;for(Rt|=4,We=t.current;We!==null;){var s=We,o=s.child;if(We.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var f=a[l];for(We=f;We!==null;){var g=We;switch(g.tag){case 0:case 11:case 15:Oh(8,g,s)}var p=g.child;if(p!==null)p.return=g,We=p;else for(;We!==null;){g=We;var w=g.sibling,m=g.return;if(h4(g),g===f){We=null;break}if(w!==null){w.return=m,We=w;break}We=m}}}var P=s.alternate;if(P!==null){var N=P.child;if(N!==null){P.child=null;do{var F=N.sibling;N.sibling=null,N=F}while(N!==null)}}We=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,We=o;else e:for(;We!==null;){if(s=We,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Oh(9,s,s.return)}var A=s.sibling;if(A!==null){A.return=s.return,We=A;break e}We=s.return}}var b=t.current;for(We=b;We!==null;){o=We;var O=o.child;if(o.subtreeFlags&2064&&O!==null)O.return=o,We=O;else e:for(o=b;We!==null;){if(a=We,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:bm(9,a)}}catch(X){bn(a,a.return,X)}if(a===o){We=null;break e}var q=a.sibling;if(q!==null){q.return=a.return,We=q;break e}We=a.return}}if(Rt=i,Ya(),Us&&typeof Us.onPostCommitFiberRoot=="function")try{Us.onPostCommitFiberRoot(dm,t)}catch{}r=!0}return r}finally{zt=n,Mi.transition=e}}return!1}function Sv(t,e,n){e=yc(n,e),e=e4(t,e,1),t=Da(t,e,1),e=Vr(),t!==null&&(Af(t,1,e),ni(t,e))}function bn(t,e,n){if(t.tag===3)Sv(t,t,n);else for(;e!==null;){if(e.tag===3){Sv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fa===null||!Fa.has(r))){t=yc(n,t),t=t4(e,t,1),e=Da(e,t,1),t=Vr(),e!==null&&(Af(e,1,t),ni(e,t));break}}e=e.return}}function e6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Vr(),t.pingedLanes|=t.suspendedLanes&n,Yn===t&&(cr&n)===n&&($n===4||$n===3&&(cr&130023424)===cr&&500>Nn()-R2?kl(t,0):L2|=n),ni(t,e)}function b4(t,e){e===0&&(t.mode&1?(e=md,md<<=1,!(md&130023424)&&(md=4194304)):e=1);var n=Vr();t=ko(t,e),t!==null&&(Af(t,e,n),ni(t,n))}function t6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),b4(t,n)}function n6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Le(314))}r!==null&&r.delete(e),b4(t,n)}var A4;A4=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ei.current)Zr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Zr=!1,qI(t,e,n);Zr=!!(t.flags&131072)}else Zr=!1,cn&&e.flags&1048576&&Ib(e,Tp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Xd(t,e),t=e.pendingProps;var i=dc(e,Cr.current);Qu(e,n),i=I2(null,e,r,t,i,n);var s=N2();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ti(r)?(s=!0,Np(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,b2(e),i.updater=_m,e.stateNode=i,i._reactInternals=e,$1(e,r,t,n),e=G1(null,e,r,!0,s,n)):(e.tag=0,cn&&s&&p2(e),Br(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Xd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=i6(r),t=ts(r,t),i){case 0:e=W1(null,e,r,t,n);break e;case 1:e=dv(null,e,r,t,n);break e;case 11:e=hv(null,e,r,t,n);break e;case 14:e=fv(null,e,r,ts(r.type,t),n);break e}throw Error(Le(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ts(r,i),W1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ts(r,i),dv(t,e,r,i,n);case 3:e:{if(s4(e),t===null)throw Error(Le(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Lb(t,e),Lp(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=yc(Error(Le(423)),e),e=pv(t,e,r,n,i);break e}else if(r!==i){i=yc(Error(Le(424)),e),e=pv(t,e,r,n,i);break e}else for(vi=Oa(e.stateNode.containerInfo.firstChild),_i=e,cn=!0,ss=null,n=kb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pc(),r===i){e=Co(t,e,n);break e}Br(t,e,r,n)}e=e.child}return e;case 5:return Rb(e),t===null&&U1(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,F1(r,i)?o=null:s!==null&&F1(r,s)&&(e.flags|=32),i4(t,e),Br(t,e,o,n),e.child;case 6:return t===null&&U1(e),null;case 13:return o4(t,e,n);case 4:return A2(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=mc(e,null,r,n):Br(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ts(r,i),hv(t,e,r,i,n);case 7:return Br(t,e,e.pendingProps,n),e.child;case 8:return Br(t,e,e.pendingProps.children,n),e.child;case 12:return Br(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,en(kp,r._currentValue),r._currentValue=o,s!==null)if(ds(s.value,o)){if(s.children===i.children&&!ei.current){e=Co(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=xo(-1,n&-n),l.tag=2;var f=s.updateQueue;if(f!==null){f=f.shared;var g=f.pending;g===null?l.next=l:(l.next=g.next,g.next=l),f.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),z1(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Le(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),z1(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Br(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Qu(e,n),i=ji(i),r=r(i),e.flags|=1,Br(t,e,r,n),e.child;case 14:return r=e.type,i=ts(r,e.pendingProps),i=ts(r.type,i),fv(t,e,r,i,n);case 15:return n4(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ts(r,i),Xd(t,e),e.tag=1,ti(r)?(t=!0,Np(e)):t=!1,Qu(e,n),Zb(e,r,i),$1(e,r,i,n),G1(null,e,r,!0,t,n);case 19:return a4(t,e,n);case 22:return r4(t,e,n)}throw Error(Le(156,e.tag))};function S4(t,e){return X_(t,e)}function r6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fi(t,e,n,r){return new r6(t,e,n,r)}function M2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function i6(t){if(typeof t=="function")return M2(t)?1:0;if(t!=null){if(t=t.$$typeof,t===n2)return 11;if(t===r2)return 14}return 2}function ja(t,e){var n=t.alternate;return n===null?(n=Fi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Zd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")M2(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ru:return Cl(n.children,i,s,e);case t2:o=8,i|=8;break;case p1:return t=Fi(12,n,e,i|2),t.elementType=p1,t.lanes=s,t;case m1:return t=Fi(13,n,e,i),t.elementType=m1,t.lanes=s,t;case g1:return t=Fi(19,n,e,i),t.elementType=g1,t.lanes=s,t;case R_:return Sm(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case C_:o=10;break e;case L_:o=9;break e;case n2:o=11;break e;case r2:o=14;break e;case wa:o=16,r=null;break e}throw Error(Le(130,t==null?t:typeof t,""))}return e=Fi(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Cl(t,e,n,r){return t=Fi(7,t,r,e),t.lanes=n,t}function Sm(t,e,n,r){return t=Fi(22,t,r,e),t.elementType=R_,t.lanes=n,t.stateNode={isHidden:!1},t}function Dg(t,e,n){return t=Fi(6,t,null,e),t.lanes=n,t}function Fg(t,e,n){return e=Fi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function s6(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gg(0),this.expirationTimes=gg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function j2(t,e,n,r,i,s,o,a,l){return t=new s6(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Fi(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},b2(s),t}function o6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function E4(t){if(!t)return $a;t=t._reactInternals;e:{if(Kl(t)!==t||t.tag!==1)throw Error(Le(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ti(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Le(171))}if(t.tag===1){var n=t.type;if(ti(n))return Eb(t,n,e)}return e}function x4(t,e,n,r,i,s,o,a,l){return t=j2(n,r,!0,t,i,s,o,a,l),t.context=E4(null),n=t.current,r=Vr(),i=Ma(n),s=xo(r,i),s.callback=e??null,Da(n,s,i),t.current.lanes=i,Af(t,i,r),ni(t,r),t}function Em(t,e,n,r){var i=e.current,s=Vr(),o=Ma(i);return n=E4(n),e.context===null?e.context=n:e.pendingContext=n,e=xo(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Da(i,e,o),t!==null&&(fs(t,i,o,s),Gd(t,i,o)),o}function Vp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ev(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function B2(t,e){Ev(t,e),(t=t.alternate)&&Ev(t,e)}function a6(){return null}var I4=typeof reportError=="function"?reportError:function(t){console.error(t)};function V2(t){this._internalRoot=t}xm.prototype.render=V2.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Le(409));Em(t,e,null,null)};xm.prototype.unmount=V2.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Vl(function(){Em(null,t,null,null)}),e[To]=null}};function xm(t){this._internalRoot=t}xm.prototype.unstable_scheduleHydration=function(t){if(t){var e=rb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ba.length&&e!==0&&e<ba[n].priority;n++);ba.splice(n,0,t),n===0&&sb(t)}};function U2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Im(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xv(){}function l6(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var f=Vp(o);s.call(f)}}var o=x4(e,r,t,0,null,!1,!1,"",xv);return t._reactRootContainer=o,t[To]=o.current,ef(t.nodeType===8?t.parentNode:t),Vl(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var f=Vp(l);a.call(f)}}var l=j2(t,0,!1,null,null,!1,!1,"",xv);return t._reactRootContainer=l,t[To]=l.current,ef(t.nodeType===8?t.parentNode:t),Vl(function(){Em(e,l,n,r)}),l}function Nm(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Vp(o);a.call(l)}}Em(e,o,t,i)}else o=l6(n,e,t,i,r);return Vp(o)}tb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wh(e.pendingLanes);n!==0&&(o2(e,n|1),ni(e,Nn()),!(Rt&6)&&(vc=Nn()+500,Ya()))}break;case 13:Vl(function(){var r=ko(t,1);if(r!==null){var i=Vr();fs(r,t,1,i)}}),B2(t,1)}};a2=function(t){if(t.tag===13){var e=ko(t,134217728);if(e!==null){var n=Vr();fs(e,t,134217728,n)}B2(t,134217728)}};nb=function(t){if(t.tag===13){var e=Ma(t),n=ko(t,e);if(n!==null){var r=Vr();fs(n,t,e,r)}B2(t,e)}};rb=function(){return zt};ib=function(t,e){var n=zt;try{return zt=t,e()}finally{zt=n}};I1=function(t,e,n){switch(e){case"input":if(w1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ym(r);if(!i)throw Error(Le(90));D_(r),w1(r,i)}}}break;case"textarea":M_(t,n);break;case"select":e=n.value,e!=null&&Gu(t,!!n.multiple,e,!1)}};$_=O2;H_=Vl;var u6={usingClientEntryPoint:!1,Events:[Ef,Mu,ym,z_,q_,O2]},ch={findFiberByHostInstance:xl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},c6={bundleType:ch.bundleType,version:ch.version,rendererPackageName:ch.rendererPackageName,rendererConfig:ch.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Do.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=K_(t),t===null?null:t.stateNode},findFiberByHostInstance:ch.findFiberByHostInstance||a6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Id.isDisabled&&Id.supportsFiber)try{dm=Id.inject(c6),Us=Id}catch{}}Ai.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u6;Ai.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!U2(e))throw Error(Le(200));return o6(t,e,null,n)};Ai.createRoot=function(t,e){if(!U2(t))throw Error(Le(299));var n=!1,r="",i=I4;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=j2(t,1,!1,null,null,n,!1,r,i),t[To]=e.current,ef(t.nodeType===8?t.parentNode:t),new V2(e)};Ai.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Le(188)):(t=Object.keys(t).join(","),Error(Le(268,t)));return t=K_(e),t=t===null?null:t.stateNode,t};Ai.flushSync=function(t){return Vl(t)};Ai.hydrate=function(t,e,n){if(!Im(e))throw Error(Le(200));return Nm(null,t,e,!0,n)};Ai.hydrateRoot=function(t,e,n){if(!U2(t))throw Error(Le(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=I4;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=x4(e,null,t,1,n??null,i,!1,s,o),t[To]=e.current,ef(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new xm(e)};Ai.render=function(t,e,n){if(!Im(e))throw Error(Le(200));return Nm(null,t,e,!1,n)};Ai.unmountComponentAtNode=function(t){if(!Im(t))throw Error(Le(40));return t._reactRootContainer?(Vl(function(){Nm(null,null,t,!1,function(){t._reactRootContainer=null,t[To]=null})}),!0):!1};Ai.unstable_batchedUpdates=O2;Ai.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Im(n))throw Error(Le(200));if(t==null||t._reactInternals===void 0)throw Error(Le(38));return Nm(t,e,n,!1,r)};Ai.version="18.3.1-next-f1338f8080-20240426";function N4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(N4)}catch(t){console.error(t)}}N4(),N_.exports=Ai;var h6=N_.exports,P4,Iv=h6;P4=Iv.createRoot,Iv.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var f6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),kc=(t,e)=>{const n=Tr.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...f},g)=>Tr.createElement("svg",{ref:g,...f6,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${d6(t)}`,a].join(" "),...f},[...e.map(([p,w])=>Tr.createElement(p,w)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=kc("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=kc("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=kc("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=kc("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=kc("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=kc("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);function T4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=T4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function _6(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=T4(t))&&(r&&(r+=" "),r+=e);return r}const z2="-",b6=t=>{const e=S6(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(z2);return a[0]===""&&a.length!==1&&a.shift(),k4(a,e)||A6(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},k4=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?k4(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(z2);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},Nv=/^\[(.+)\]$/,A6=t=>{if(Nv.test(t)){const e=Nv.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},S6=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return x6(Object.entries(t.classGroups),n).forEach(([s,o])=>{s0(o,r,s,e)}),r},s0=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:Pv(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(E6(i)){s0(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{s0(o,Pv(e,s),n,r)})})},Pv=(t,e)=>{let n=t;return e.split(z2).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},E6=t=>t.isThemeGetter,x6=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,I6=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},C4="!",N6=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let f=0,g=0,p;for(let F=0;F<a.length;F++){let A=a[F];if(f===0){if(A===i&&(r||a.slice(F,F+s)===e)){l.push(a.slice(g,F)),g=F+s;continue}if(A==="/"){p=F;continue}}A==="["?f++:A==="]"&&f--}const w=l.length===0?a:a.substring(g),m=w.startsWith(C4),P=m?w.substring(1):w,N=p&&p>g?p-g:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:P,maybePostfixModifierPosition:N}};return n?a=>n({className:a,parseClassName:o}):o},P6=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},T6=t=>({cache:I6(t.cacheSize),parseClassName:N6(t),...b6(t)}),k6=/\s+/,C6=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(k6);let a="";for(let l=o.length-1;l>=0;l-=1){const f=o[l],{modifiers:g,hasImportantModifier:p,baseClassName:w,maybePostfixModifierPosition:m}=n(f);let P=!!m,N=r(P?w.substring(0,m):w);if(!N){if(!P){a=f+(a.length>0?" "+a:a);continue}if(N=r(w),!N){a=f+(a.length>0?" "+a:a);continue}P=!1}const F=P6(g).join(":"),A=p?F+C4:F,b=A+N;if(s.includes(b))continue;s.push(b);const O=i(N,P);for(let q=0;q<O.length;++q){const X=O[q];s.push(A+X)}a=f+(a.length>0?" "+a:a)}return a};function L6(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=L4(e))&&(r&&(r+=" "),r+=n);return r}const L4=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=L4(t[r]))&&(n&&(n+=" "),n+=e);return n};function R6(t,...e){let n,r,i,s=o;function o(l){const f=e.reduce((g,p)=>p(g),t());return n=T6(f),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const f=r(l);if(f)return f;const g=C6(l,n);return i(l,g),g}return function(){return s(L6.apply(null,arguments))}}const on=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},R4=/^\[(?:([a-z-]+):)?(.+)\]$/i,O6=/^\d+\/\d+$/,D6=new Set(["px","full","screen"]),F6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,M6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,j6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,B6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,V6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,po=t=>Zu(t)||D6.has(t)||O6.test(t),da=t=>Cc(t,"length",K6),Zu=t=>!!t&&!Number.isNaN(Number(t)),Mg=t=>Cc(t,"number",Zu),hh=t=>!!t&&Number.isInteger(Number(t)),U6=t=>t.endsWith("%")&&Zu(t.slice(0,-1)),yt=t=>R4.test(t),pa=t=>F6.test(t),z6=new Set(["length","size","percentage"]),q6=t=>Cc(t,z6,O4),$6=t=>Cc(t,"position",O4),H6=new Set(["image","url"]),W6=t=>Cc(t,H6,X6),G6=t=>Cc(t,"",J6),fh=()=>!0,Cc=(t,e,n)=>{const r=R4.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},K6=t=>M6.test(t)&&!j6.test(t),O4=()=>!1,J6=t=>B6.test(t),X6=t=>V6.test(t),Q6=()=>{const t=on("colors"),e=on("spacing"),n=on("blur"),r=on("brightness"),i=on("borderColor"),s=on("borderRadius"),o=on("borderSpacing"),a=on("borderWidth"),l=on("contrast"),f=on("grayscale"),g=on("hueRotate"),p=on("invert"),w=on("gap"),m=on("gradientColorStops"),P=on("gradientColorStopPositions"),N=on("inset"),F=on("margin"),A=on("opacity"),b=on("padding"),O=on("saturate"),q=on("scale"),X=on("sepia"),ee=on("skew"),L=on("space"),x=on("translate"),R=()=>["auto","contain","none"],B=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto",yt,e],I=()=>[yt,e],T=()=>["",po,da],J=()=>["auto",Zu,yt],ge=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],pe=()=>["solid","dashed","dotted","double","none"],ve=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>["start","end","center","between","around","evenly","stretch"],le=()=>["","0",yt],ue=()=>["auto","avoid","all","avoid-page","page","left","right","column"],xe=()=>[Zu,yt];return{cacheSize:500,separator:":",theme:{colors:[fh],spacing:[po,da],blur:["none","",pa,yt],brightness:xe(),borderColor:[t],borderRadius:["none","","full",pa,yt],borderSpacing:I(),borderWidth:T(),contrast:xe(),grayscale:le(),hueRotate:xe(),invert:le(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[U6,da],inset:S(),margin:S(),opacity:xe(),padding:I(),saturate:xe(),scale:xe(),sepia:le(),skew:xe(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",yt]}],container:["container"],columns:[{columns:[pa]}],"break-after":[{"break-after":ue()}],"break-before":[{"break-before":ue()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ge(),yt]}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[N]}],"inset-x":[{"inset-x":[N]}],"inset-y":[{"inset-y":[N]}],start:[{start:[N]}],end:[{end:[N]}],top:[{top:[N]}],right:[{right:[N]}],bottom:[{bottom:[N]}],left:[{left:[N]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",hh,yt]}],basis:[{basis:S()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",yt]}],grow:[{grow:le()}],shrink:[{shrink:le()}],order:[{order:["first","last","none",hh,yt]}],"grid-cols":[{"grid-cols":[fh]}],"col-start-end":[{col:["auto",{span:["full",hh,yt]},yt]}],"col-start":[{"col-start":J()}],"col-end":[{"col-end":J()}],"grid-rows":[{"grid-rows":[fh]}],"row-start-end":[{row:["auto",{span:[hh,yt]},yt]}],"row-start":[{"row-start":J()}],"row-end":[{"row-end":J()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",yt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",yt]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal",...Q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[F]}],mx:[{mx:[F]}],my:[{my:[F]}],ms:[{ms:[F]}],me:[{me:[F]}],mt:[{mt:[F]}],mr:[{mr:[F]}],mb:[{mb:[F]}],ml:[{ml:[F]}],"space-x":[{"space-x":[L]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[L]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",yt,e]}],"min-w":[{"min-w":[yt,e,"min","max","fit"]}],"max-w":[{"max-w":[yt,e,"none","full","min","max","fit","prose",{screen:[pa]},pa]}],h:[{h:[yt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[yt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[yt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[yt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",pa,da]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Mg]}],"font-family":[{font:[fh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",yt]}],"line-clamp":[{"line-clamp":["none",Zu,Mg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",po,yt]}],"list-image":[{"list-image":["none",yt]}],"list-style-type":[{list:["none","disc","decimal",yt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[A]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[A]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...pe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",po,da]}],"underline-offset":[{"underline-offset":["auto",po,yt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",yt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",yt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[A]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ge(),$6]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",q6]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},W6]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[P]}],"gradient-via-pos":[{via:[P]}],"gradient-to-pos":[{to:[P]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[A]}],"border-style":[{border:[...pe(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[A]}],"divide-style":[{divide:pe()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...pe()]}],"outline-offset":[{"outline-offset":[po,yt]}],"outline-w":[{outline:[po,da]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[A]}],"ring-offset-w":[{"ring-offset":[po,da]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",pa,G6]}],"shadow-color":[{shadow:[fh]}],opacity:[{opacity:[A]}],"mix-blend":[{"mix-blend":[...ve(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ve()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",pa,yt]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[p]}],saturate:[{saturate:[O]}],sepia:[{sepia:[X]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[A]}],"backdrop-saturate":[{"backdrop-saturate":[O]}],"backdrop-sepia":[{"backdrop-sepia":[X]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",yt]}],duration:[{duration:xe()}],ease:[{ease:["linear","in","out","in-out",yt]}],delay:[{delay:xe()}],animate:[{animate:["none","spin","ping","pulse","bounce",yt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[q]}],"scale-x":[{"scale-x":[q]}],"scale-y":[{"scale-y":[q]}],rotate:[{rotate:[hh,yt]}],"translate-x":[{"translate-x":[x]}],"translate-y":[{"translate-y":[x]}],"skew-x":[{"skew-x":[ee]}],"skew-y":[{"skew-y":[ee]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",yt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",yt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",yt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[po,da,Mg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Y6=R6(Q6);function Mh(...t){return Y6(_6(t))}function Z6({value:t,onChange:e,onSubmit:n,isLoading:r}){return Je.jsx("div",{className:"w-full max-w-2xl",children:Je.jsxs("div",{className:"flex flex-col gap-2",children:[Je.jsx("label",{htmlFor:"text",className:"text-sm font-medium text-gray-700",children:"Enter your text for assessment"}),Je.jsx("div",{className:"flex gap-2",children:Je.jsx("textarea",{id:"text",value:t,onChange:i=>e(i.target.value),className:"flex-1 min-h-[150px] p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your text here..."})}),Je.jsxs("button",{onClick:n,disabled:r||!t.trim(),className:Mh("flex items-center justify-center gap-2 px-4 py-2 text-white bg-blue-600 rounded-lg","hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2","disabled:opacity-50 disabled:cursor-not-allowed"),children:[r?"Generating...":"Generate Assessment",Je.jsx(v6,{className:"w-4 h-4"})]})]})})}const eN="modulepreload",tN=function(t){return"/"+t},Tv={},o0=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=tN(l),l in Tv)return;Tv[l]=!0;const f=l.endsWith(".css"),g=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${g}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":eN,f||(p.as="script"),p.crossOrigin="",p.href=l,a&&p.setAttribute("nonce",a),document.head.appendChild(p),f)return new Promise((w,m)=>{p.addEventListener("load",w),p.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function Ut(t){"@babel/helpers - typeof";return Ut=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ut(t)}var Pr=Uint8Array,wi=Uint16Array,q2=Int32Array,Pm=new Pr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Tm=new Pr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a0=new Pr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),D4=function(t,e){for(var n=new wi(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new q2(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},F4=D4(Pm,2),M4=F4.b,l0=F4.r;M4[28]=258,l0[258]=28;var j4=D4(Tm,0),nN=j4.b,kv=j4.r,u0=new wi(32768);for(var ln=0;ln<32768;++ln){var ma=(ln&43690)>>1|(ln&21845)<<1;ma=(ma&52428)>>2|(ma&13107)<<2,ma=(ma&61680)>>4|(ma&3855)<<4,u0[ln]=((ma&65280)>>8|(ma&255)<<8)>>1}var qs=function(t,e,n){for(var r=t.length,i=0,s=new wi(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new wi(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new wi(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var f=i<<4|t[i],g=e-t[i],p=o[t[i]-1]++<<g,w=p|(1<<g)-1;p<=w;++p)a[u0[p]>>l]=f}else for(a=new wi(r),i=0;i<r;++i)t[i]&&(a[i]=u0[o[t[i]-1]++]>>15-t[i]);return a},Ha=new Pr(288);for(var ln=0;ln<144;++ln)Ha[ln]=8;for(var ln=144;ln<256;++ln)Ha[ln]=9;for(var ln=256;ln<280;++ln)Ha[ln]=7;for(var ln=280;ln<288;++ln)Ha[ln]=8;var cf=new Pr(32);for(var ln=0;ln<32;++ln)cf[ln]=5;var rN=qs(Ha,9,0),iN=qs(Ha,9,1),sN=qs(cf,5,0),oN=qs(cf,5,1),jg=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Yi=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},Bg=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},$2=function(t){return(t+7)/8|0},B4=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Pr(t.subarray(e,n))},aN=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ns=function(t,e,n){var r=new Error(e||aN[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,ns),!n)throw r;return r},lN=function(t,e,n,r){var i=t.length,s=0;if(!i||e.f&&!e.l)return n||new Pr(0);var o=!n,a=o||e.i!=2,l=e.i;o&&(n=new Pr(i*3));var f=function(Te){var je=n.length;if(Te>je){var Fe=new Pr(Math.max(je*2,Te));Fe.set(n),n=Fe}},g=e.f||0,p=e.p||0,w=e.b||0,m=e.l,P=e.d,N=e.m,F=e.n,A=i*8;do{if(!m){g=Yi(t,p,1);var b=Yi(t,p+1,3);if(p+=3,b)if(b==1)m=iN,P=oN,N=9,F=5;else if(b==2){var ee=Yi(t,p,31)+257,L=Yi(t,p+10,15)+4,x=ee+Yi(t,p+5,31)+1;p+=14;for(var R=new Pr(x),B=new Pr(19),S=0;S<L;++S)B[a0[S]]=Yi(t,p+S*3,7);p+=L*3;for(var I=jg(B),T=(1<<I)-1,J=qs(B,I,1),S=0;S<x;){var ge=J[Yi(t,p,T)];p+=ge&15;var O=ge>>4;if(O<16)R[S++]=O;else{var pe=0,ve=0;for(O==16?(ve=3+Yi(t,p,3),p+=2,pe=R[S-1]):O==17?(ve=3+Yi(t,p,7),p+=3):O==18&&(ve=11+Yi(t,p,127),p+=7);ve--;)R[S++]=pe}}var Q=R.subarray(0,ee),le=R.subarray(ee);N=jg(Q),F=jg(le),m=qs(Q,N,1),P=qs(le,F,1)}else ns(1);else{var O=$2(p)+4,q=t[O-4]|t[O-3]<<8,X=O+q;if(X>i){l&&ns(0);break}a&&f(w+q),n.set(t.subarray(O,X),w),e.b=w+=q,e.p=p=X*8,e.f=g;continue}if(p>A){l&&ns(0);break}}a&&f(w+131072);for(var ue=(1<<N)-1,xe=(1<<F)-1,D=p;;D=p){var pe=m[Bg(t,p)&ue],$=pe>>4;if(p+=pe&15,p>A){l&&ns(0);break}if(pe||ns(2),$<256)n[w++]=$;else if($==256){D=p,m=null;break}else{var G=$-254;if($>264){var S=$-257,Y=Pm[S];G=Yi(t,p,(1<<Y)-1)+M4[S],p+=Y}var re=P[Bg(t,p)&xe],ce=re>>4;re||ns(3),p+=re&15;var le=nN[ce];if(ce>3){var Y=Tm[ce];le+=Bg(t,p)&(1<<Y)-1,p+=Y}if(p>A){l&&ns(0);break}a&&f(w+131072);var me=w+G;if(w<le){var ye=s-le,Re=Math.min(le,me);for(ye+w<0&&ns(3);w<Re;++w)n[w]=r[ye+w]}for(;w<me;++w)n[w]=n[w-le]}}e.l=m,e.p=D,e.b=w,e.f=g,m&&(g=1,e.m=N,e.d=P,e.n=F)}while(!g);return w!=n.length&&o?B4(n,0,w):n.subarray(0,w)},mo=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},dh=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},Vg=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:U4,l:0};if(i==1){var o=new Pr(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(X,ee){return X.f-ee.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],f=0,g=1,p=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};g!=i-1;)a=n[n[f].f<n[p].f?f++:p++],l=n[f!=g&&n[f].f<n[p].f?f++:p++],n[g++]={s:-1,f:a.f+l.f,l:a,r:l};for(var w=s[0].s,r=1;r<i;++r)s[r].s>w&&(w=s[r].s);var m=new wi(w+1),P=c0(n[g-1],m,0);if(P>e){var r=0,N=0,F=P-e,A=1<<F;for(s.sort(function(ee,L){return m[L.s]-m[ee.s]||ee.f-L.f});r<i;++r){var b=s[r].s;if(m[b]>e)N+=A-(1<<P-m[b]),m[b]=e;else break}for(N>>=F;N>0;){var O=s[r].s;m[O]<e?N-=1<<e-m[O]++-1:++r}for(;r>=0&&N;--r){var q=s[r].s;m[q]==e&&(--m[q],++N)}P=e}return{t:new Pr(m),l:P}},c0=function(t,e,n){return t.s==-1?Math.max(c0(t.l,e,n+1),c0(t.r,e,n+1)):e[t.s]=n},Cv=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new wi(++e),r=0,i=t[0],s=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},ph=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},V4=function(t,e,n){var r=n.length,i=$2(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},Lv=function(t,e,n,r,i,s,o,a,l,f,g){mo(e,g++,n),++i[256];for(var p=Vg(i,15),w=p.t,m=p.l,P=Vg(s,15),N=P.t,F=P.l,A=Cv(w),b=A.c,O=A.n,q=Cv(N),X=q.c,ee=q.n,L=new wi(19),x=0;x<b.length;++x)++L[b[x]&31];for(var x=0;x<X.length;++x)++L[X[x]&31];for(var R=Vg(L,7),B=R.t,S=R.l,I=19;I>4&&!B[a0[I-1]];--I);var T=f+5<<3,J=ph(i,Ha)+ph(s,cf)+o,ge=ph(i,w)+ph(s,N)+o+14+3*I+ph(L,B)+2*L[16]+3*L[17]+7*L[18];if(l>=0&&T<=J&&T<=ge)return V4(e,g,t.subarray(l,l+f));var pe,ve,Q,le;if(mo(e,g,1+(ge<J)),g+=2,ge<J){pe=qs(w,m,0),ve=w,Q=qs(N,F,0),le=N;var ue=qs(B,S,0);mo(e,g,O-257),mo(e,g+5,ee-1),mo(e,g+10,I-4),g+=14;for(var x=0;x<I;++x)mo(e,g+3*x,B[a0[x]]);g+=3*I;for(var xe=[b,X],D=0;D<2;++D)for(var $=xe[D],x=0;x<$.length;++x){var G=$[x]&31;mo(e,g,ue[G]),g+=B[G],G>15&&(mo(e,g,$[x]>>5&127),g+=$[x]>>12)}}else pe=rN,ve=Ha,Q=sN,le=cf;for(var x=0;x<a;++x){var Y=r[x];if(Y>255){var G=Y>>18&31;dh(e,g,pe[G+257]),g+=ve[G+257],G>7&&(mo(e,g,Y>>23&31),g+=Pm[G]);var re=Y&31;dh(e,g,Q[re]),g+=le[re],re>3&&(dh(e,g,Y>>5&8191),g+=Tm[re])}else dh(e,g,pe[Y]),g+=ve[Y]}return dh(e,g,pe[256]),g+ve[256]},uN=new q2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),U4=new Pr(0),cN=function(t,e,n,r,i,s){var o=s.z||t.length,a=new Pr(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),f=s.l,g=(s.r||0)&7;if(e){g&&(l[0]=s.r>>3);for(var p=uN[e-1],w=p>>13,m=p&8191,P=(1<<n)-1,N=s.p||new wi(32768),F=s.h||new wi(P+1),A=Math.ceil(n/3),b=2*A,O=function(et){return(t[et]^t[et+1]<<A^t[et+2]<<b)&P},q=new q2(25e3),X=new wi(288),ee=new wi(32),L=0,x=0,R=s.i||0,B=0,S=s.w||0,I=0;R+2<o;++R){var T=O(R),J=R&32767,ge=F[T];if(N[J]=ge,F[T]=J,S<=R){var pe=o-R;if((L>7e3||B>24576)&&(pe>423||!f)){g=Lv(t,l,0,q,X,ee,x,B,I,R-I,g),B=L=x=0,I=R;for(var ve=0;ve<286;++ve)X[ve]=0;for(var ve=0;ve<30;++ve)ee[ve]=0}var Q=2,le=0,ue=m,xe=J-ge&32767;if(pe>2&&T==O(R-xe))for(var D=Math.min(w,pe)-1,$=Math.min(32767,R),G=Math.min(258,pe);xe<=$&&--ue&&J!=ge;){if(t[R+Q]==t[R+Q-xe]){for(var Y=0;Y<G&&t[R+Y]==t[R+Y-xe];++Y);if(Y>Q){if(Q=Y,le=xe,Y>D)break;for(var re=Math.min(xe,Y-2),ce=0,ve=0;ve<re;++ve){var me=R-xe+ve&32767,ye=N[me],Re=me-ye&32767;Re>ce&&(ce=Re,ge=me)}}}J=ge,ge=N[J],xe+=J-ge&32767}if(le){q[B++]=268435456|l0[Q]<<18|kv[le];var Te=l0[Q]&31,je=kv[le]&31;x+=Pm[Te]+Tm[je],++X[257+Te],++ee[je],S=R+Q,++L}else q[B++]=t[R],++X[t[R]]}}for(R=Math.max(R,S);R<o;++R)q[B++]=t[R],++X[t[R]];g=Lv(t,l,f,q,X,ee,x,B,I,R-I,g),f||(s.r=g&7|l[g/8|0]<<3,g-=7,s.h=F,s.p=N,s.i=R,s.w=S)}else{for(var R=s.w||0;R<o+f;R+=65535){var Fe=R+65535;Fe>=o&&(l[g/8|0]=f,Fe=o),g=V4(l,g+1,t.subarray(R,Fe))}s.i=o}return B4(a,0,r+$2(g)+i)},z4=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},hN=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new Pr(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return cN(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},q4=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},fN=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=z4();i.p(e.dictionary),q4(t,2,i.d())}},dN=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&ns(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&ns(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function h0(t,e){e||(e={});var n=z4();n.p(t);var r=hN(t,e,e.dictionary?6:2,4);return fN(r,e),q4(r,r.length-4,n.d()),r}function pN(t,e){return lN(t.subarray(dN(t,e),-4),{i:2},e,e)}var mN=typeof TextDecoder<"u"&&new TextDecoder,gN=0;try{mN.decode(U4,{stream:!0}),gN=1}catch{}var ot=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Ug(){ot.console&&typeof ot.console.log=="function"&&ot.console.log.apply(ot.console,arguments)}var Kt={log:Ug,warn:function(t){ot.console&&(typeof ot.console.warn=="function"?ot.console.warn.apply(ot.console,arguments):Ug.call(null,arguments))},error:function(t){ot.console&&(typeof ot.console.error=="function"?ot.console.error.apply(ot.console,arguments):Ug(t))}};function zg(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){bl(r.response,e,n)},r.onerror=function(){Kt.error("could not download file")},r.send()}function Rv(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Nd(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var jh,f0,bl=ot.saveAs||((typeof window>"u"?"undefined":Ut(window))!=="object"||window!==ot?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=ot.URL||ot.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?Rv(i.href)?zg(t,e,n):Nd(i,i.target="_blank"):Nd(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Nd(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(Rv(t))zg(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Nd(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Ut(s)!=="object"&&(Kt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return zg(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(ot.HTMLElement)||ot.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Ut(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var g=a.result;g=o?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=g:location=g,r=null},a.readAsDataURL(t)}else{var l=ot.URL||ot.webkitURL,f=l.createObjectURL(t);r?r.location=f:location.href=f,r=null,setTimeout(function(){l.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function $4(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),f=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),f.length==1&&(f="0"+f),"#"+a+l+f}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function qg(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=wr(n,r,i,s,e[0],7,-680876936),s=wr(s,n,r,i,e[1],12,-389564586),i=wr(i,s,n,r,e[2],17,606105819),r=wr(r,i,s,n,e[3],22,-1044525330),n=wr(n,r,i,s,e[4],7,-176418897),s=wr(s,n,r,i,e[5],12,1200080426),i=wr(i,s,n,r,e[6],17,-1473231341),r=wr(r,i,s,n,e[7],22,-45705983),n=wr(n,r,i,s,e[8],7,1770035416),s=wr(s,n,r,i,e[9],12,-1958414417),i=wr(i,s,n,r,e[10],17,-42063),r=wr(r,i,s,n,e[11],22,-1990404162),n=wr(n,r,i,s,e[12],7,1804603682),s=wr(s,n,r,i,e[13],12,-40341101),i=wr(i,s,n,r,e[14],17,-1502002290),n=_r(n,r=wr(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=_r(s,n,r,i,e[6],9,-1069501632),i=_r(i,s,n,r,e[11],14,643717713),r=_r(r,i,s,n,e[0],20,-373897302),n=_r(n,r,i,s,e[5],5,-701558691),s=_r(s,n,r,i,e[10],9,38016083),i=_r(i,s,n,r,e[15],14,-660478335),r=_r(r,i,s,n,e[4],20,-405537848),n=_r(n,r,i,s,e[9],5,568446438),s=_r(s,n,r,i,e[14],9,-1019803690),i=_r(i,s,n,r,e[3],14,-187363961),r=_r(r,i,s,n,e[8],20,1163531501),n=_r(n,r,i,s,e[13],5,-1444681467),s=_r(s,n,r,i,e[2],9,-51403784),i=_r(i,s,n,r,e[7],14,1735328473),n=br(n,r=_r(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=br(s,n,r,i,e[8],11,-2022574463),i=br(i,s,n,r,e[11],16,1839030562),r=br(r,i,s,n,e[14],23,-35309556),n=br(n,r,i,s,e[1],4,-1530992060),s=br(s,n,r,i,e[4],11,1272893353),i=br(i,s,n,r,e[7],16,-155497632),r=br(r,i,s,n,e[10],23,-1094730640),n=br(n,r,i,s,e[13],4,681279174),s=br(s,n,r,i,e[0],11,-358537222),i=br(i,s,n,r,e[3],16,-722521979),r=br(r,i,s,n,e[6],23,76029189),n=br(n,r,i,s,e[9],4,-640364487),s=br(s,n,r,i,e[12],11,-421815835),i=br(i,s,n,r,e[15],16,530742520),n=Ar(n,r=br(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Ar(s,n,r,i,e[7],10,1126891415),i=Ar(i,s,n,r,e[14],15,-1416354905),r=Ar(r,i,s,n,e[5],21,-57434055),n=Ar(n,r,i,s,e[12],6,1700485571),s=Ar(s,n,r,i,e[3],10,-1894986606),i=Ar(i,s,n,r,e[10],15,-1051523),r=Ar(r,i,s,n,e[1],21,-2054922799),n=Ar(n,r,i,s,e[8],6,1873313359),s=Ar(s,n,r,i,e[15],10,-30611744),i=Ar(i,s,n,r,e[6],15,-1560198380),r=Ar(r,i,s,n,e[13],21,1309151649),n=Ar(n,r,i,s,e[4],6,-145523070),s=Ar(s,n,r,i,e[11],10,-1120210379),i=Ar(i,s,n,r,e[2],15,718787259),r=Ar(r,i,s,n,e[9],21,-343485551),t[0]=Ta(n,t[0]),t[1]=Ta(r,t[1]),t[2]=Ta(i,t[2]),t[3]=Ta(s,t[3])}function km(t,e,n,r,i,s){return e=Ta(Ta(e,t),Ta(r,s)),Ta(e<<i|e>>>32-i,n)}function wr(t,e,n,r,i,s,o){return km(e&n|~e&r,t,e,i,s,o)}function _r(t,e,n,r,i,s,o){return km(e&r|n&~r,t,e,i,s,o)}function br(t,e,n,r,i,s,o){return km(e^n^r,t,e,i,s,o)}function Ar(t,e,n,r,i,s,o){return km(n^(e|~r),t,e,i,s,o)}function H4(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)qg(r,yN(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(qg(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,qg(r,i),r}function yN(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}jh=ot.atob.bind(ot),f0=ot.btoa.bind(ot);var Ov="0123456789abcdef".split("");function vN(t){for(var e="",n=0;n<4;n++)e+=Ov[t>>8*n+4&15]+Ov[t>>8*n&15];return e}function wN(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function d0(t){return H4(t).map(wN).join("")}var _N=function(t){for(var e=0;e<t.length;e++)t[e]=vN(t[e]);return t.join("")}(H4("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ta(t,e){if(_N){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function p0(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var f=0;for(l=0;l<256;l++){var g=a[l];f=(f+g+o.charCodeAt(l))%256,a[l]=a[f],a[f]=g}n=t,r=a}else a=r;var p=e.length,w=0,m=0,P="";for(l=0;l<p;l++)m=(m+(g=a[w=(w+1)%256]))%256,a[w]=a[m],a[m]=g,o=a[(a[w]+a[m])%256],P+=String.fromCharCode(e.charCodeAt(l)^o);return P}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Dv={print:4,modify:8,copy:16,"annot-forms":32};function Nu(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(Dv.perm!==void 0)throw new Error("Invalid permission: "+a);i+=Dv[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=d0(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=p0(this.encryptionKey,this.padding)}function Pu(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function Fv(t){if(Ut(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){ot.console&&Kt.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Up(t){if(!(this instanceof Up))return new Up(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function W4(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Sl(t,e,n,r,i){if(!(this instanceof Sl))return new Sl(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,W4.call(this,r,i)}function $u(t,e,n,r,i){if(!(this instanceof $u))return new $u(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,W4.call(this,r,i)}function st(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,f="S",g=null;Ut(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(g=t.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),f=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var p=t.putOnlyUsedFonts||!1,w={},m={internal:{},__private__:{}};m.__private__.PubSub=Fv;var P="1.3",N=m.__private__.getPdfVersion=function(){return P};m.__private__.setPdfVersion=function(d){P=d};var F={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return F};var A=m.__private__.getPageFormat=function(d){return F[d]};i=i||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},O=b.COMPAT;function q(){this.saveGraphicsState(),K(new He(qe,0,0,-qe,0,gr()*qe).toString()+" cm"),this.setFontSize(this.getFontSize()/qe),f="n",O=b.ADVANCED}function X(){this.restoreGraphicsState(),f="S",O=b.COMPAT}var ee=m.__private__.combineFontStyleAndFontWeight=function(d,k){if(d=="bold"&&k=="normal"||d=="bold"&&k==400||d=="normal"&&k=="italic"||d=="bold"&&k=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return k&&(d=k==400||k==="normal"?d==="italic"?"italic":"normal":k!=700&&k!=="bold"||d!=="normal"?(k==700?"bold":k)+""+d:"bold"),d};m.advancedAPI=function(d){var k=O===b.COMPAT;return k&&q.call(this),typeof d!="function"||(d(this),k&&X.call(this)),this},m.compatAPI=function(d){var k=O===b.ADVANCED;return k&&X.call(this),typeof d!="function"||(d(this),k&&q.call(this)),this},m.isAdvancedAPI=function(){return O===b.ADVANCED};var L,x=function(d){if(O!==b.ADVANCED)throw new Error(d+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},R=m.roundToPrecision=m.__private__.roundToPrecision=function(d,k){var W=e||k;if(isNaN(d)||isNaN(W))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return d.toFixed(W).replace(/0+$/,"")};L=m.hpf=m.__private__.hpf=typeof l=="number"?function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.hpf");return R(d,l)}:l==="smart"?function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.hpf");return R(d,d>-1&&d<1?16:5)}:function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.hpf");return R(d,16)};var B=m.f2=m.__private__.f2=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.f2");return R(d,2)},S=m.__private__.f3=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.f3");return R(d,3)},I=m.scale=m.__private__.scale=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.scale");return O===b.COMPAT?d*qe:O===b.ADVANCED?d:void 0},T=function(d){return O===b.COMPAT?gr()-d:O===b.ADVANCED?d:void 0},J=function(d){return I(T(d))};m.__private__.setPrecision=m.setPrecision=function(d){typeof parseInt(d,10)=="number"&&(e=parseInt(d,10))};var ge,pe="00000000000000000000000000000000",ve=m.__private__.getFileId=function(){return pe},Q=m.__private__.setFileId=function(d){return pe=d!==void 0&&/^[a-fA-F0-9]{32}$/.test(d)?d.toUpperCase():pe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(sn=new Nu(g.userPermissions,g.userPassword,g.ownerPassword,pe)),pe};m.setFileId=function(d){return Q(d),this},m.getFileId=function(){return ve()};var le=m.__private__.convertDateToPDFDate=function(d){var k=d.getTimezoneOffset(),W=k<0?"+":"-",Z=Math.floor(Math.abs(k/60)),oe=Math.abs(k%60),_e=[W,G(Z),"'",G(oe),"'"].join("");return["D:",d.getFullYear(),G(d.getMonth()+1),G(d.getDate()),G(d.getHours()),G(d.getMinutes()),G(d.getSeconds()),_e].join("")},ue=m.__private__.convertPDFDateToDate=function(d){var k=parseInt(d.substr(2,4),10),W=parseInt(d.substr(6,2),10)-1,Z=parseInt(d.substr(8,2),10),oe=parseInt(d.substr(10,2),10),_e=parseInt(d.substr(12,2),10),Ne=parseInt(d.substr(14,2),10);return new Date(k,W,Z,oe,_e,Ne,0)},xe=m.__private__.setCreationDate=function(d){var k;if(d===void 0&&(d=new Date),d instanceof Date)k=le(d);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(d))throw new Error("Invalid argument passed to jsPDF.setCreationDate");k=d}return ge=k},D=m.__private__.getCreationDate=function(d){var k=ge;return d==="jsDate"&&(k=ue(ge)),k};m.setCreationDate=function(d){return xe(d),this},m.getCreationDate=function(d){return D(d)};var $,G=m.__private__.padd2=function(d){return("0"+parseInt(d)).slice(-2)},Y=m.__private__.padd2Hex=function(d){return("00"+(d=d.toString())).substr(d.length)},re=0,ce=[],me=[],ye=0,Re=[],Te=[],je=!1,Fe=me,et=function(){re=0,ye=0,me=[],ce=[],Re=[],Vi=yn(),mr=yn()};m.__private__.setCustomOutputDestination=function(d){je=!0,Fe=d};var be=function(d){je||(Fe=d)};m.__private__.resetCustomOutputDestination=function(){je=!1,Fe=me};var K=m.__private__.out=function(d){return d=d.toString(),ye+=d.length+1,Fe.push(d),Fe},ht=m.__private__.write=function(d){return K(arguments.length===1?d.toString():Array.prototype.join.call(arguments," "))},Ke=m.__private__.getArrayBuffer=function(d){for(var k=d.length,W=new ArrayBuffer(k),Z=new Uint8Array(W);k--;)Z[k]=d.charCodeAt(k);return W},ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return ke};var De=t.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(d){return De=O===b.ADVANCED?d/qe:d,this};var ze,Ve=m.__private__.getFontSize=m.getFontSize=function(){return O===b.COMPAT?De:De*qe},Xe=t.R2L||!1;m.__private__.setR2L=m.setR2L=function(d){return Xe=d,this},m.__private__.getR2L=m.getR2L=function(){return Xe};var at,ft=m.__private__.setZoomMode=function(d){var k=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(d))ze=d;else if(isNaN(d)){if(k.indexOf(d)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+d+'" is not recognized.');ze=d}else ze=parseInt(d,10)};m.__private__.getZoomMode=function(){return ze};var Ye,it=m.__private__.setPageMode=function(d){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(d)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+d+'" is not recognized.');at=d};m.__private__.getPageMode=function(){return at};var kt=m.__private__.setLayoutMode=function(d){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(d)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+d+'" is not recognized.');Ye=d};m.__private__.getLayoutMode=function(){return Ye},m.__private__.setDisplayMode=m.setDisplayMode=function(d,k,W){return ft(d),kt(k),it(W),this};var rt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(d){if(Object.keys(rt).indexOf(d)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return rt[d]},m.__private__.getDocumentProperties=function(){return rt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(d){for(var k in rt)rt.hasOwnProperty(k)&&d[k]&&(rt[k]=d[k]);return this},m.__private__.setDocumentProperty=function(d,k){if(Object.keys(rt).indexOf(d)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return rt[d]=k};var vt,qe,gn,Et,qr,Ot={},Xt={},Ei=[],Nt={},vs={},nn={},er={},oi=null,Qt=0,tt=[],Ct=new Fv(m),xi=t.hotfixes||[],Ln={},dr={},ai=[],He=function d(k,W,Z,oe,_e,Ne){if(!(this instanceof d))return new d(k,W,Z,oe,_e,Ne);isNaN(k)&&(k=1),isNaN(W)&&(W=0),isNaN(Z)&&(Z=0),isNaN(oe)&&(oe=1),isNaN(_e)&&(_e=0),isNaN(Ne)&&(Ne=0),this._matrix=[k,W,Z,oe,_e,Ne]};Object.defineProperty(He.prototype,"sx",{get:function(){return this._matrix[0]},set:function(d){this._matrix[0]=d}}),Object.defineProperty(He.prototype,"shy",{get:function(){return this._matrix[1]},set:function(d){this._matrix[1]=d}}),Object.defineProperty(He.prototype,"shx",{get:function(){return this._matrix[2]},set:function(d){this._matrix[2]=d}}),Object.defineProperty(He.prototype,"sy",{get:function(){return this._matrix[3]},set:function(d){this._matrix[3]=d}}),Object.defineProperty(He.prototype,"tx",{get:function(){return this._matrix[4]},set:function(d){this._matrix[4]=d}}),Object.defineProperty(He.prototype,"ty",{get:function(){return this._matrix[5]},set:function(d){this._matrix[5]=d}}),Object.defineProperty(He.prototype,"a",{get:function(){return this._matrix[0]},set:function(d){this._matrix[0]=d}}),Object.defineProperty(He.prototype,"b",{get:function(){return this._matrix[1]},set:function(d){this._matrix[1]=d}}),Object.defineProperty(He.prototype,"c",{get:function(){return this._matrix[2]},set:function(d){this._matrix[2]=d}}),Object.defineProperty(He.prototype,"d",{get:function(){return this._matrix[3]},set:function(d){this._matrix[3]=d}}),Object.defineProperty(He.prototype,"e",{get:function(){return this._matrix[4]},set:function(d){this._matrix[4]=d}}),Object.defineProperty(He.prototype,"f",{get:function(){return this._matrix[5]},set:function(d){this._matrix[5]=d}}),Object.defineProperty(He.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(He.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(He.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(He.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),He.prototype.join=function(d){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(L).join(d)},He.prototype.multiply=function(d){var k=d.sx*this.sx+d.shy*this.shx,W=d.sx*this.shy+d.shy*this.sy,Z=d.shx*this.sx+d.sy*this.shx,oe=d.shx*this.shy+d.sy*this.sy,_e=d.tx*this.sx+d.ty*this.shx+this.tx,Ne=d.tx*this.shy+d.ty*this.sy+this.ty;return new He(k,W,Z,oe,_e,Ne)},He.prototype.decompose=function(){var d=this.sx,k=this.shy,W=this.shx,Z=this.sy,oe=this.tx,_e=this.ty,Ne=Math.sqrt(d*d+k*k),Be=(d/=Ne)*W+(k/=Ne)*Z;W-=d*Be,Z-=k*Be;var c=Math.sqrt(W*W+Z*Z);return Be/=c,d*(Z/=c)<k*(W/=c)&&(d=-d,k=-k,Be=-Be,Ne=-Ne),{scale:new He(Ne,0,0,c,0,0),translate:new He(1,0,0,1,oe,_e),rotate:new He(d,k,-k,d,0,0),skew:new He(1,0,Be,1,0,0)}},He.prototype.toString=function(d){return this.join(" ")},He.prototype.inversed=function(){var d=this.sx,k=this.shy,W=this.shx,Z=this.sy,oe=this.tx,_e=this.ty,Ne=1/(d*Z-k*W),Be=Z*Ne,c=-k*Ne,v=-W*Ne,E=d*Ne;return new He(Be,c,v,E,-Be*oe-v*_e,-c*oe-E*_e)},He.prototype.applyToPoint=function(d){var k=d.x*this.sx+d.y*this.shx+this.tx,W=d.x*this.shy+d.y*this.sy+this.ty;return new io(k,W)},He.prototype.applyToRectangle=function(d){var k=this.applyToPoint(d),W=this.applyToPoint(new io(d.x+d.w,d.y+d.h));return new Qo(k.x,k.y,W.x-k.x,W.y-k.y)},He.prototype.clone=function(){var d=this.sx,k=this.shy,W=this.shx,Z=this.sy,oe=this.tx,_e=this.ty;return new He(d,k,W,Z,oe,_e)},m.Matrix=He;var $r=m.matrixMult=function(d,k){return k.multiply(d)},pr=new He(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=pr;var Rn=function(d,k){if(!vs[d]){var W=(k instanceof Sl?"Sh":"P")+(Object.keys(Nt).length+1).toString(10);k.id=W,vs[d]=W,Nt[W]=k,Ct.publish("addPattern",k)}};m.ShadingPattern=Sl,m.TilingPattern=$u,m.addShadingPattern=function(d,k){return x("addShadingPattern()"),Rn(d,k),this},m.beginTilingPattern=function(d){x("beginTilingPattern()"),Yo(d.boundingBox[0],d.boundingBox[1],d.boundingBox[2]-d.boundingBox[0],d.boundingBox[3]-d.boundingBox[1],d.matrix)},m.endTilingPattern=function(d,k){x("endTilingPattern()"),k.stream=Te[$].join(`
`),Rn(d,k),Ct.publish("endTilingPattern",k),ai.pop().restore()};var Sn=m.__private__.newObject=function(){var d=yn();return On(d,!0),d},yn=m.__private__.newObjectDeferred=function(){return re++,ce[re]=function(){return ye},re},On=function(d,k){return k=typeof k=="boolean"&&k,ce[d]=ye,k&&K(d+" 0 obj"),d},Mo=m.__private__.newAdditionalObject=function(){var d={objId:yn(),content:""};return Re.push(d),d},Vi=yn(),mr=yn(),Hr=m.__private__.decodeColorString=function(d){var k=d.split(" ");if(k.length!==2||k[1]!=="g"&&k[1]!=="G")k.length===5&&(k[4]==="k"||k[4]==="K")&&(k=[(1-k[0])*(1-k[3]),(1-k[1])*(1-k[3]),(1-k[2])*(1-k[3]),"r"]);else{var W=parseFloat(k[0]);k=[W,W,W,"r"]}for(var Z="#",oe=0;oe<3;oe++)Z+=("0"+Math.floor(255*parseFloat(k[oe])).toString(16)).slice(-2);return Z},Rr=m.__private__.encodeColorString=function(d){var k;typeof d=="string"&&(d={ch1:d});var W=d.ch1,Z=d.ch2,oe=d.ch3,_e=d.ch4,Ne=d.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof W=="string"&&W.charAt(0)!=="#"){var Be=new $4(W);if(Be.ok)W=Be.toHex();else if(!/^\d*\.?\d*$/.test(W))throw new Error('Invalid color "'+W+'" passed to jsPDF.encodeColorString.')}if(typeof W=="string"&&/^#[0-9A-Fa-f]{3}$/.test(W)&&(W="#"+W[1]+W[1]+W[2]+W[2]+W[3]+W[3]),typeof W=="string"&&/^#[0-9A-Fa-f]{6}$/.test(W)){var c=parseInt(W.substr(1),16);W=c>>16&255,Z=c>>8&255,oe=255&c}if(Z===void 0||_e===void 0&&W===Z&&Z===oe)if(typeof W=="string")k=W+" "+Ne[0];else switch(d.precision){case 2:k=B(W/255)+" "+Ne[0];break;case 3:default:k=S(W/255)+" "+Ne[0]}else if(_e===void 0||Ut(_e)==="object"){if(_e&&!isNaN(_e.a)&&_e.a===0)return k=["1.","1.","1.",Ne[1]].join(" ");if(typeof W=="string")k=[W,Z,oe,Ne[1]].join(" ");else switch(d.precision){case 2:k=[B(W/255),B(Z/255),B(oe/255),Ne[1]].join(" ");break;default:case 3:k=[S(W/255),S(Z/255),S(oe/255),Ne[1]].join(" ")}}else if(typeof W=="string")k=[W,Z,oe,_e,Ne[2]].join(" ");else switch(d.precision){case 2:k=[B(W),B(Z),B(oe),B(_e),Ne[2]].join(" ");break;case 3:default:k=[S(W),S(Z),S(oe),S(_e),Ne[2]].join(" ")}return k},Or=m.__private__.getFilters=function(){return o},En=m.__private__.putStream=function(d){var k=(d=d||{}).data||"",W=d.filters||Or(),Z=d.alreadyAppliedFilters||[],oe=d.addLength1||!1,_e=k.length,Ne=d.objectId,Be=function(dt){return dt};if(g!==null&&Ne===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(Be=sn.encryptor(Ne,0));var c={};W===!0&&(W=["FlateEncode"]);var v=d.additionalKeyValues||[],E=(c=st.API.processDataByFilters!==void 0?st.API.processDataByFilters(k,W):{data:k,reverseChain:[]}).reverseChain+(Array.isArray(Z)?Z.join(" "):Z.toString());if(c.data.length!==0&&(v.push({key:"Length",value:c.data.length}),oe===!0&&v.push({key:"Length1",value:_e})),E.length!=0)if(E.split("/").length-1==1)v.push({key:"Filter",value:E});else{v.push({key:"Filter",value:"["+E+"]"});for(var V=0;V<v.length;V+=1)if(v[V].key==="DecodeParms"){for(var se=[],de=0;de<c.reverseChain.split("/").length-1;de+=1)se.push("null");se.push(v[V].value),v[V].value="["+se.join(" ")+"]"}}K("<<");for(var Pe=0;Pe<v.length;Pe++)K("/"+v[Pe].key+" "+v[Pe].value);K(">>"),c.data.length!==0&&(K("stream"),K(Be(c.data)),K("endstream"))},li=m.__private__.putPage=function(d){var k=d.number,W=d.data,Z=d.objId,oe=d.contentsObjId;On(Z,!0),K("<</Type /Page"),K("/Parent "+d.rootDictionaryObjId+" 0 R"),K("/Resources "+d.resourceDictionaryObjId+" 0 R"),K("/MediaBox ["+parseFloat(L(d.mediaBox.bottomLeftX))+" "+parseFloat(L(d.mediaBox.bottomLeftY))+" "+L(d.mediaBox.topRightX)+" "+L(d.mediaBox.topRightY)+"]"),d.cropBox!==null&&K("/CropBox ["+L(d.cropBox.bottomLeftX)+" "+L(d.cropBox.bottomLeftY)+" "+L(d.cropBox.topRightX)+" "+L(d.cropBox.topRightY)+"]"),d.bleedBox!==null&&K("/BleedBox ["+L(d.bleedBox.bottomLeftX)+" "+L(d.bleedBox.bottomLeftY)+" "+L(d.bleedBox.topRightX)+" "+L(d.bleedBox.topRightY)+"]"),d.trimBox!==null&&K("/TrimBox ["+L(d.trimBox.bottomLeftX)+" "+L(d.trimBox.bottomLeftY)+" "+L(d.trimBox.topRightX)+" "+L(d.trimBox.topRightY)+"]"),d.artBox!==null&&K("/ArtBox ["+L(d.artBox.bottomLeftX)+" "+L(d.artBox.bottomLeftY)+" "+L(d.artBox.topRightX)+" "+L(d.artBox.topRightY)+"]"),typeof d.userUnit=="number"&&d.userUnit!==1&&K("/UserUnit "+d.userUnit),Ct.publish("putPage",{objId:Z,pageContext:tt[k],pageNumber:k,page:W}),K("/Contents "+oe+" 0 R"),K(">>"),K("endobj");var _e=W.join(`
`);return O===b.ADVANCED&&(_e+=`
Q`),On(oe,!0),En({data:_e,filters:Or(),objectId:oe}),K("endobj"),Z},ws=m.__private__.putPages=function(){var d,k,W=[];for(d=1;d<=Qt;d++)tt[d].objId=yn(),tt[d].contentsObjId=yn();for(d=1;d<=Qt;d++)W.push(li({number:d,data:Te[d],objId:tt[d].objId,contentsObjId:tt[d].contentsObjId,mediaBox:tt[d].mediaBox,cropBox:tt[d].cropBox,bleedBox:tt[d].bleedBox,trimBox:tt[d].trimBox,artBox:tt[d].artBox,userUnit:tt[d].userUnit,rootDictionaryObjId:Vi,resourceDictionaryObjId:mr}));On(Vi,!0),K("<</Type /Pages");var Z="/Kids [";for(k=0;k<Qt;k++)Z+=W[k]+" 0 R ";K(Z+"]"),K("/Count "+Qt),K(">>"),K("endobj"),Ct.publish("postPutPages")},_s=function(d){Ct.publish("putFont",{font:d,out:K,newObject:Sn,putStream:En}),d.isAlreadyPutted!==!0&&(d.objectNumber=Sn(),K("<<"),K("/Type /Font"),K("/BaseFont /"+Pu(d.postScriptName)),K("/Subtype /Type1"),typeof d.encoding=="string"&&K("/Encoding /"+d.encoding),K("/FirstChar 32"),K("/LastChar 255"),K(">>"),K("endobj"))},bs=function(){for(var d in Ot)Ot.hasOwnProperty(d)&&(p===!1||p===!0&&w.hasOwnProperty(d))&&_s(Ot[d])},Js=function(d){d.objectNumber=Sn();var k=[];k.push({key:"Type",value:"/XObject"}),k.push({key:"Subtype",value:"/Form"}),k.push({key:"BBox",value:"["+[L(d.x),L(d.y),L(d.x+d.width),L(d.y+d.height)].join(" ")+"]"}),k.push({key:"Matrix",value:"["+d.matrix.toString()+"]"});var W=d.pages[1].join(`
`);En({data:W,additionalKeyValues:k,objectId:d.objectNumber}),K("endobj")},Xs=function(){for(var d in Ln)Ln.hasOwnProperty(d)&&Js(Ln[d])},Yl=function(d,k){var W,Z=[],oe=1/(k-1);for(W=0;W<1;W+=oe)Z.push(W);if(Z.push(1),d[0].offset!=0){var _e={offset:0,color:d[0].color};d.unshift(_e)}if(d[d.length-1].offset!=1){var Ne={offset:1,color:d[d.length-1].color};d.push(Ne)}for(var Be="",c=0,v=0;v<Z.length;v++){for(W=Z[v];W>d[c+1].offset;)c++;var E=d[c].offset,V=(W-E)/(d[c+1].offset-E),se=d[c].color,de=d[c+1].color;Be+=Y(Math.round((1-V)*se[0]+V*de[0]).toString(16))+Y(Math.round((1-V)*se[1]+V*de[1]).toString(16))+Y(Math.round((1-V)*se[2]+V*de[2]).toString(16))}return Be.trim()},jo=function(d,k){k||(k=21);var W=Sn(),Z=Yl(d.colors,k),oe=[];oe.push({key:"FunctionType",value:"0"}),oe.push({key:"Domain",value:"[0.0 1.0]"}),oe.push({key:"Size",value:"["+k+"]"}),oe.push({key:"BitsPerSample",value:"8"}),oe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),oe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),En({data:Z,additionalKeyValues:oe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:W}),K("endobj"),d.objectNumber=Sn(),K("<< /ShadingType "+d.type),K("/ColorSpace /DeviceRGB");var _e="/Coords ["+L(parseFloat(d.coords[0]))+" "+L(parseFloat(d.coords[1]))+" ";d.type===2?_e+=L(parseFloat(d.coords[2]))+" "+L(parseFloat(d.coords[3])):_e+=L(parseFloat(d.coords[2]))+" "+L(parseFloat(d.coords[3]))+" "+L(parseFloat(d.coords[4]))+" "+L(parseFloat(d.coords[5])),K(_e+="]"),d.matrix&&K("/Matrix ["+d.matrix.toString()+"]"),K("/Function "+W+" 0 R"),K("/Extend [true true]"),K(">>"),K("endobj")},Zl=function(d,k){var W=yn(),Z=Sn();k.push({resourcesOid:W,objectOid:Z}),d.objectNumber=Z;var oe=[];oe.push({key:"Type",value:"/Pattern"}),oe.push({key:"PatternType",value:"1"}),oe.push({key:"PaintType",value:"1"}),oe.push({key:"TilingType",value:"1"}),oe.push({key:"BBox",value:"["+d.boundingBox.map(L).join(" ")+"]"}),oe.push({key:"XStep",value:L(d.xStep)}),oe.push({key:"YStep",value:L(d.yStep)}),oe.push({key:"Resources",value:W+" 0 R"}),d.matrix&&oe.push({key:"Matrix",value:"["+d.matrix.toString()+"]"}),En({data:d.stream,additionalKeyValues:oe,objectId:d.objectNumber}),K("endobj")},As=function(d){var k;for(k in Nt)Nt.hasOwnProperty(k)&&(Nt[k]instanceof Sl?jo(Nt[k]):Nt[k]instanceof $u&&Zl(Nt[k],d))},Ss=function(d){for(var k in d.objectNumber=Sn(),K("<<"),d)switch(k){case"opacity":K("/ca "+B(d[k]));break;case"stroke-opacity":K("/CA "+B(d[k]))}K(">>"),K("endobj")},Ui=function(){var d;for(d in nn)nn.hasOwnProperty(d)&&Ss(nn[d])},Qs=function(){for(var d in K("/XObject <<"),Ln)Ln.hasOwnProperty(d)&&Ln[d].objectNumber>=0&&K("/"+d+" "+Ln[d].objectNumber+" 0 R");Ct.publish("putXobjectDict"),K(">>")},Bc=function(){sn.oid=Sn(),K("<<"),K("/Filter /Standard"),K("/V "+sn.v),K("/R "+sn.r),K("/U <"+sn.toHexString(sn.U)+">"),K("/O <"+sn.toHexString(sn.O)+">"),K("/P "+sn.P),K(">>"),K("endobj")},Za=function(){for(var d in K("/Font <<"),Ot)Ot.hasOwnProperty(d)&&(p===!1||p===!0&&w.hasOwnProperty(d))&&K("/"+d+" "+Ot[d].objectNumber+" 0 R");K(">>")},eu=function(){if(Object.keys(Nt).length>0){for(var d in K("/Shading <<"),Nt)Nt.hasOwnProperty(d)&&Nt[d]instanceof Sl&&Nt[d].objectNumber>=0&&K("/"+d+" "+Nt[d].objectNumber+" 0 R");Ct.publish("putShadingPatternDict"),K(">>")}},Ys=function(d){if(Object.keys(Nt).length>0){for(var k in K("/Pattern <<"),Nt)Nt.hasOwnProperty(k)&&Nt[k]instanceof m.TilingPattern&&Nt[k].objectNumber>=0&&Nt[k].objectNumber<d&&K("/"+k+" "+Nt[k].objectNumber+" 0 R");Ct.publish("putTilingPatternDict"),K(">>")}},el=function(){if(Object.keys(nn).length>0){var d;for(d in K("/ExtGState <<"),nn)nn.hasOwnProperty(d)&&nn[d].objectNumber>=0&&K("/"+d+" "+nn[d].objectNumber+" 0 R");Ct.publish("putGStateDict"),K(">>")}},rn=function(d){On(d.resourcesOid,!0),K("<<"),K("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Za(),eu(),Ys(d.objectOid),el(),Qs(),K(">>"),K("endobj")},tl=function(){var d=[];bs(),Ui(),Xs(),As(d),Ct.publish("putResources"),d.forEach(rn),rn({resourcesOid:mr,objectOid:Number.MAX_SAFE_INTEGER}),Ct.publish("postPutResources")},nl=function(){Ct.publish("putAdditionalObjects");for(var d=0;d<Re.length;d++){var k=Re[d];On(k.objId,!0),K(k.content),K("endobj")}Ct.publish("postPutAdditionalObjects")},tu=function(d){Xt[d.fontName]=Xt[d.fontName]||{},Xt[d.fontName][d.fontStyle]=d.id},rl=function(d,k,W,Z,oe){var _e={id:"F"+(Object.keys(Ot).length+1).toString(10),postScriptName:d,fontName:k,fontStyle:W,encoding:Z,isStandardFont:oe||!1,metadata:{}};return Ct.publish("addFont",{font:_e,instance:this}),Ot[_e.id]=_e,tu(_e),_e.id},nu=function(d){for(var k=0,W=ke.length;k<W;k++){var Z=rl.call(this,d[k][0],d[k][1],d[k][2],ke[k][3],!0);p===!1&&(w[Z]=!0);var oe=d[k][0].split("-");tu({id:Z,fontName:oe[0],fontStyle:oe[1]||""})}Ct.publish("addFonts",{fonts:Ot,dictionary:Xt})},Wr=function(d){return d.foo=function(){try{return d.apply(this,arguments)}catch(Z){var k=Z.stack||"";~k.indexOf(" at ")&&(k=k.split(" at ")[1]);var W="Error in function "+k.split(`
`)[0].split("<")[0]+": "+Z.message;if(!ot.console)throw new Error(W);ot.console.error(W,Z),ot.alert&&alert(W)}},d.foo.bar=d,d.foo},Bo=function(d,k){var W,Z,oe,_e,Ne,Be,c,v,E;if(oe=(k=k||{}).sourceEncoding||"Unicode",Ne=k.outputEncoding,(k.autoencode||Ne)&&Ot[vt].metadata&&Ot[vt].metadata[oe]&&Ot[vt].metadata[oe].encoding&&(_e=Ot[vt].metadata[oe].encoding,!Ne&&Ot[vt].encoding&&(Ne=Ot[vt].encoding),!Ne&&_e.codePages&&(Ne=_e.codePages[0]),typeof Ne=="string"&&(Ne=_e[Ne]),Ne)){for(c=!1,Be=[],W=0,Z=d.length;W<Z;W++)(v=Ne[d.charCodeAt(W)])?Be.push(String.fromCharCode(v)):Be.push(d[W]),Be[W].charCodeAt(0)>>8&&(c=!0);d=Be.join("")}for(W=d.length;c===void 0&&W!==0;)d.charCodeAt(W-1)>>8&&(c=!0),W--;if(!c)return d;for(Be=k.noBOM?[]:[254,255],W=0,Z=d.length;W<Z;W++){if((E=(v=d.charCodeAt(W))>>8)>>8)throw new Error("Character at position "+W+" of string '"+d+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Be.push(E),Be.push(v-(E<<8))}return String.fromCharCode.apply(void 0,Be)},vn=m.__private__.pdfEscape=m.pdfEscape=function(d,k){return Bo(d,k).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Dr=m.__private__.beginPage=function(d){Te[++Qt]=[],tt[Qt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(d[0]),topRightY:Number(d[1])}},il(Qt),be(Te[$])},Zs=function(d,k){var W,Z,oe;switch(n=k||n,typeof d=="string"&&(W=A(d.toLowerCase()),Array.isArray(W)&&(Z=W[0],oe=W[1])),Array.isArray(d)&&(Z=d[0]*qe,oe=d[1]*qe),isNaN(Z)&&(Z=i[0],oe=i[1]),(Z>14400||oe>14400)&&(Kt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Z=Math.min(14400,Z),oe=Math.min(14400,oe)),i=[Z,oe],n.substr(0,1)){case"l":oe>Z&&(i=[oe,Z]);break;case"p":Z>oe&&(i=[oe,Z])}Dr(i),ul(ll),K(tr),fl!==0&&K(fl+" J"),Xo!==0&&K(Xo+" j"),Ct.publish("addPage",{pageNumber:Qt})},Vo=function(d){d>0&&d<=Qt&&(Te.splice(d,1),tt.splice(d,1),Qt--,$>Qt&&($=Qt),this.setPage($))},il=function(d){d>0&&d<=Qt&&($=d)},jt=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Te.length-1},eo=function(d,k,W){var Z,oe=void 0;return W=W||{},d=d!==void 0?d:Ot[vt].fontName,k=k!==void 0?k:Ot[vt].fontStyle,Z=d.toLowerCase(),Xt[Z]!==void 0&&Xt[Z][k]!==void 0?oe=Xt[Z][k]:Xt[d]!==void 0&&Xt[d][k]!==void 0?oe=Xt[d][k]:W.disableWarning===!1&&Kt.warn("Unable to look up font label for font '"+d+"', '"+k+"'. Refer to getFontList() for available fonts."),oe||W.noFallback||(oe=Xt.times[k])==null&&(oe=Xt.times.normal),oe},to=m.__private__.putInfo=function(){var d=Sn(),k=function(Z){return Z};for(var W in g!==null&&(k=sn.encryptor(d,0)),K("<<"),K("/Producer ("+vn(k("jsPDF "+st.version))+")"),rt)rt.hasOwnProperty(W)&&rt[W]&&K("/"+W.substr(0,1).toUpperCase()+W.substr(1)+" ("+vn(k(rt[W]))+")");K("/CreationDate ("+vn(k(ge))+")"),K(">>"),K("endobj")},zi=m.__private__.putCatalog=function(d){var k=(d=d||{}).rootDictionaryObjId||Vi;switch(Sn(),K("<<"),K("/Type /Catalog"),K("/Pages "+k+" 0 R"),ze||(ze="fullwidth"),ze){case"fullwidth":K("/OpenAction [3 0 R /FitH null]");break;case"fullheight":K("/OpenAction [3 0 R /FitV null]");break;case"fullpage":K("/OpenAction [3 0 R /Fit]");break;case"original":K("/OpenAction [3 0 R /XYZ null null 1]");break;default:var W=""+ze;W.substr(W.length-1)==="%"&&(ze=parseInt(ze)/100),typeof ze=="number"&&K("/OpenAction [3 0 R /XYZ null null "+B(ze)+"]")}switch(Ye||(Ye="continuous"),Ye){case"continuous":K("/PageLayout /OneColumn");break;case"single":K("/PageLayout /SinglePage");break;case"two":case"twoleft":K("/PageLayout /TwoColumnLeft");break;case"tworight":K("/PageLayout /TwoColumnRight")}at&&K("/PageMode /"+at),Ct.publish("putCatalog"),K(">>"),K("endobj")},Vc=m.__private__.putTrailer=function(){K("trailer"),K("<<"),K("/Size "+(re+1)),K("/Root "+re+" 0 R"),K("/Info "+(re-1)+" 0 R"),g!==null&&K("/Encrypt "+sn.oid+" 0 R"),K("/ID [ <"+pe+"> <"+pe+"> ]"),K(">>")},ru=m.__private__.putHeader=function(){K("%PDF-"+P),K("%")},Uc=m.__private__.putXRef=function(){var d="0000000000";K("xref"),K("0 "+(re+1)),K("0000000000 65535 f ");for(var k=1;k<=re;k++)typeof ce[k]=="function"?K((d+ce[k]()).slice(-10)+" 00000 n "):ce[k]!==void 0?K((d+ce[k]).slice(-10)+" 00000 n "):K("0000000000 00000 n ")},qi=m.__private__.buildDocument=function(){et(),be(me),Ct.publish("buildDocument"),ru(),ws(),nl(),tl(),g!==null&&Bc(),to(),zi();var d=ye;return Uc(),Vc(),K("startxref"),K(""+d),K("%%EOF"),be(Te[$]),me.join(`
`)},Uo=m.__private__.getBlob=function(d){return new Blob([Ke(d)],{type:"application/pdf"})},zo=m.output=m.__private__.output=Wr(function(d,k){switch(typeof(k=k||{})=="string"?k={filename:k}:k.filename=k.filename||"generated.pdf",d){case void 0:return qi();case"save":m.save(k.filename);break;case"arraybuffer":return Ke(qi());case"blob":return Uo(qi());case"bloburi":case"bloburl":if(ot.URL!==void 0&&typeof ot.URL.createObjectURL=="function")return ot.URL&&ot.URL.createObjectURL(Uo(qi()))||void 0;Kt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var W="",Z=qi();try{W=f0(Z)}catch{W=f0(unescape(encodeURIComponent(Z)))}return"data:application/pdf;filename="+k.filename+";base64,"+W;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ot)==="[object Window]"){var oe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",_e=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';k.pdfObjectUrl&&(oe=k.pdfObjectUrl,_e="");var Ne='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+oe+'"'+_e+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(k)+");<\/script></body></html>",Be=ot.open();return Be!==null&&Be.document.write(Ne),Be}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ot)==="[object Window]"){var c='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(k.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+k.filename+'" width="500px" height="400px" /></body></html>',v=ot.open();if(v!==null){v.document.write(c);var E=this;v.document.documentElement.querySelector("#pdfViewer").onload=function(){v.document.title=k.filename,v.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(E.output("bloburl"))}}return v}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ot)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var V='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",k)+'"></iframe></body></html>',se=ot.open();if(se!==null&&(se.document.write(V),se.document.title=k.filename),se||typeof safari>"u")return se;break;case"datauri":case"dataurl":return ot.document.location.href=this.output("datauristring",k);default:return null}}),Es=function(d){return Array.isArray(xi)===!0&&xi.indexOf(d)>-1};switch(r){case"pt":qe=1;break;case"mm":qe=72/25.4;break;case"cm":qe=72/2.54;break;case"in":qe=72;break;case"px":qe=Es("px_scaling")==1?.75:96/72;break;case"pc":case"em":qe=12;break;case"ex":qe=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);qe=r}var sn=null;xe(),Q();var iu=function(d){return g!==null?sn.encryptor(d,0):function(k){return k}},sl=m.__private__.getPageInfo=m.getPageInfo=function(d){if(isNaN(d)||d%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:tt[d].objId,pageNumber:d,pageContext:tt[d]}},lt=m.__private__.getPageInfoByObjId=function(d){if(isNaN(d)||d%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var k in tt)if(tt[k].objId===d)break;return sl(k)},xs=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:tt[$].objId,pageNumber:$,pageContext:tt[$]}};m.addPage=function(){return Zs.apply(this,arguments),this},m.setPage=function(){return il.apply(this,arguments),be.call(this,Te[$]),this},m.insertPage=function(d){return this.addPage(),this.movePage($,d),this},m.movePage=function(d,k){var W,Z;if(d>k){W=Te[d],Z=tt[d];for(var oe=d;oe>k;oe--)Te[oe]=Te[oe-1],tt[oe]=tt[oe-1];Te[k]=W,tt[k]=Z,this.setPage(k)}else if(d<k){W=Te[d],Z=tt[d];for(var _e=d;_e<k;_e++)Te[_e]=Te[_e+1],tt[_e]=tt[_e+1];Te[k]=W,tt[k]=Z,this.setPage(k)}return this},m.deletePage=function(){return Vo.apply(this,arguments),this},m.__private__.text=m.text=function(d,k,W,Z,oe){var _e,Ne,Be,c,v,E,V,se,de,Pe=(Z=Z||{}).scope||this;if(typeof d=="number"&&typeof k=="number"&&(typeof W=="string"||Array.isArray(W))){var dt=W;W=k,k=d,d=dt}if(arguments[3]instanceof He?(x("The transform parameter of text() with a Matrix value"),de=oe):(Be=arguments[4],c=arguments[5],Ut(V=arguments[3])==="object"&&V!==null||(typeof Be=="string"&&(c=Be,Be=null),typeof V=="string"&&(c=V,V=null),typeof V=="number"&&(Be=V,V=null),Z={flags:V,angle:Be,align:c})),isNaN(k)||isNaN(W)||d==null)throw new Error("Invalid arguments passed to jsPDF.text");if(d.length===0)return Pe;var bt="",pt=!1,Mt=typeof Z.lineHeightFactor=="number"?Z.lineHeightFactor:Ft,Wt=Pe.internal.scaleFactor;function Ki(Yt){return Yt=Yt.split("	").join(Array(Z.TabLen||9).join(" ")),vn(Yt,V)}function nr(Yt){for(var Zt,In=Yt.concat(),Vn=[],uo=In.length;uo--;)typeof(Zt=In.shift())=="string"?Vn.push(Zt):Array.isArray(Yt)&&(Zt.length===1||Zt[1]===void 0&&Zt[2]===void 0)?Vn.push(Zt[0]):Vn.push([Zt[0],Zt[1],Zt[2]]);return Vn}function Ts(Yt,Zt){var In;if(typeof Yt=="string")In=Zt(Yt)[0];else if(Array.isArray(Yt)){for(var Vn,uo,Xc=Yt.concat(),yu=[],$f=Xc.length;$f--;)typeof(Vn=Xc.shift())=="string"?yu.push(Zt(Vn)[0]):Array.isArray(Vn)&&typeof Vn[0]=="string"&&(uo=Zt(Vn[0],Vn[1],Vn[2]),yu.push([uo[0],uo[1],uo[2]]));In=yu}return In}var ks=!1,qc=!0;if(typeof d=="string")ks=!0;else if(Array.isArray(d)){var $c=d.concat();Ne=[];for(var uu,rr=$c.length;rr--;)(typeof(uu=$c.shift())!="string"||Array.isArray(uu)&&typeof uu[0]!="string")&&(qc=!1);ks=qc}if(ks===!1)throw new Error('Type of text must be string or Array. "'+d+'" is not recognized.');typeof d=="string"&&(d=d.match(/[\r?\n]/)?d.split(/\r\n|\r|\n/g):[d]);var cu=De/Pe.internal.scaleFactor,hu=cu*(Mt-1);switch(Z.baseline){case"bottom":W-=hu;break;case"top":W+=cu-hu;break;case"hanging":W+=cu-2*hu;break;case"middle":W+=cu/2-hu}if((E=Z.maxWidth||0)>0&&(typeof d=="string"?d=Pe.splitTextToSize(d,E):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(Yt,Zt){return Yt.concat(Pe.splitTextToSize(Zt,E))},[]))),_e={text:d,x:k,y:W,options:Z,mutex:{pdfEscape:vn,activeFontKey:vt,fonts:Ot,activeFontSize:De}},Ct.publish("preProcessText",_e),d=_e.text,Be=(Z=_e.options).angle,!(de instanceof He)&&Be&&typeof Be=="number"){Be*=Math.PI/180,Z.rotationDirection===0&&(Be=-Be),O===b.ADVANCED&&(Be=-Be);var fu=Math.cos(Be),Hc=Math.sin(Be);de=new He(fu,Hc,-Hc,fu,0,0)}else Be&&Be instanceof He&&(de=Be);O!==b.ADVANCED||de||(de=pr),(v=Z.charSpace||ro)!==void 0&&(bt+=L(I(v))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(se=Z.horizontalScale)!==void 0&&(bt+=L(100*se)+` Tz
`),Z.lang;var Gr=-1,Gm=Z.renderingMode!==void 0?Z.renderingMode:Z.stroke,Wc=Pe.internal.getCurrentPageInfo().pageContext;switch(Gm){case 0:case!1:case"fill":Gr=0;break;case 1:case!0:case"stroke":Gr=1;break;case 2:case"fillThenStroke":Gr=2;break;case 3:case"invisible":Gr=3;break;case 4:case"fillAndAddForClipping":Gr=4;break;case 5:case"strokeAndAddPathForClipping":Gr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Gr=6;break;case 7:case"addToPathForClipping":Gr=7}var Vf=Wc.usedRenderingMode!==void 0?Wc.usedRenderingMode:-1;Gr!==-1?bt+=Gr+` Tr
`:Vf!==-1&&(bt+=`0 Tr
`),Gr!==-1&&(Wc.usedRenderingMode=Gr),c=Z.align||"left";var Ni,du=De*Mt,Uf=Pe.internal.pageSize.getWidth(),zf=Ot[vt];v=Z.charSpace||ro,E=Z.maxWidth||0,V=Object.assign({autoencode:!0,noBOM:!0},Z.flags);var ta=[],dl=function(Yt){return Pe.getStringUnitWidth(Yt,{font:zf,charSpace:v,fontSize:De,doKerning:!1})*De/Wt};if(Object.prototype.toString.call(d)==="[object Array]"){var Kr;Ne=nr(d),c!=="left"&&(Ni=Ne.map(dl));var Fr,na=0;if(c==="right"){k-=Ni[0],d=[],rr=Ne.length;for(var oo=0;oo<rr;oo++)oo===0?(Fr=hi(k),Kr=Bn(W)):(Fr=I(na-Ni[oo]),Kr=-du),d.push([Ne[oo],Fr,Kr]),na=Ni[oo]}else if(c==="center"){k-=Ni[0]/2,d=[],rr=Ne.length;for(var ao=0;ao<rr;ao++)ao===0?(Fr=hi(k),Kr=Bn(W)):(Fr=I((na-Ni[ao])/2),Kr=-du),d.push([Ne[ao],Fr,Kr]),na=Ni[ao]}else if(c==="left"){d=[],rr=Ne.length;for(var pu=0;pu<rr;pu++)d.push(Ne[pu])}else if(c==="justify"&&zf.encoding==="Identity-H"){d=[],rr=Ne.length,E=E!==0?E:Uf;for(var lo=0,xn=0;xn<rr;xn++)if(Kr=xn===0?Bn(W):-du,Fr=xn===0?hi(k):lo,xn<rr-1){var Gc=I((E-Ni[xn])/(Ne[xn].split(" ").length-1)),Mr=Ne[xn].split(" ");d.push([Mr[0]+" ",Fr,Kr]),lo=0;for(var Pi=1;Pi<Mr.length;Pi++){var mu=(dl(Mr[Pi-1]+" "+Mr[Pi])-dl(Mr[Pi]))*Wt+Gc;Pi==Mr.length-1?d.push([Mr[Pi],mu,0]):d.push([Mr[Pi]+" ",mu,0]),lo-=mu}}else d.push([Ne[xn],Fr,Kr]);d.push(["",lo,0])}else{if(c!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(d=[],rr=Ne.length,E=E!==0?E:Uf,xn=0;xn<rr;xn++)Kr=xn===0?Bn(W):-du,Fr=xn===0?hi(k):0,xn<rr-1?ta.push(L(I((E-Ni[xn])/(Ne[xn].split(" ").length-1)))):ta.push(0),d.push([Ne[xn],Fr,Kr])}}var qf=typeof Z.R2L=="boolean"?Z.R2L:Xe;qf===!0&&(d=Ts(d,function(Yt,Zt,In){return[Yt.split("").reverse().join(""),Zt,In]})),_e={text:d,x:k,y:W,options:Z,mutex:{pdfEscape:vn,activeFontKey:vt,fonts:Ot,activeFontSize:De}},Ct.publish("postProcessText",_e),d=_e.text,pt=_e.mutex.isHex||!1;var Kc=Ot[vt].encoding;Kc!=="WinAnsiEncoding"&&Kc!=="StandardEncoding"||(d=Ts(d,function(Yt,Zt,In){return[Ki(Yt),Zt,In]})),Ne=nr(d),d=[];for(var pl,ml,ra,gl=0,gu=1,yl=Array.isArray(Ne[0])?gu:gl,ia="",Jc=function(Yt,Zt,In){var Vn="";return In instanceof He?(In=typeof Z.angle=="number"?$r(In,new He(1,0,0,1,Yt,Zt)):$r(new He(1,0,0,1,Yt,Zt),In),O===b.ADVANCED&&(In=$r(new He(1,0,0,-1,0,0),In)),Vn=In.join(" ")+` Tm
`):Vn=L(Yt)+" "+L(Zt)+` Td
`,Vn},Ti=0;Ti<Ne.length;Ti++){switch(ia="",yl){case gu:ra=(pt?"<":"(")+Ne[Ti][0]+(pt?">":")"),pl=parseFloat(Ne[Ti][1]),ml=parseFloat(Ne[Ti][2]);break;case gl:ra=(pt?"<":"(")+Ne[Ti]+(pt?">":")"),pl=hi(k),ml=Bn(W)}ta!==void 0&&ta[Ti]!==void 0&&(ia=ta[Ti]+` Tw
`),Ti===0?d.push(ia+Jc(pl,ml,de)+ra):yl===gl?d.push(ia+ra):yl===gu&&d.push(ia+Jc(pl,ml,de)+ra)}d=yl===gl?d.join(` Tj
T* `):d.join(` Tj
`),d+=` Tj
`;var ki=`BT
/`;return ki+=vt+" "+De+` Tf
`,ki+=L(De*Mt)+` TL
`,ki+=Wi+`
`,ki+=bt,ki+=d,K(ki+="ET"),w[vt]=!0,Pe};var zc=m.__private__.clip=m.clip=function(d){return K(d==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return zc("evenodd")},m.__private__.discardPath=m.discardPath=function(){return K("n"),this};var Ii=m.__private__.isValidStyle=function(d){var k=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(d)!==-1&&(k=!0),k};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(d){return Ii(d)&&(f=d),this};var su=m.__private__.getStyle=m.getStyle=function(d){var k=f;switch(d){case"D":case"S":k="S";break;case"F":k="f";break;case"FD":case"DF":k="B";break;case"f":case"f*":case"B":case"B*":k=d}return k},ui=m.close=function(){return K("h"),this};m.stroke=function(){return K("S"),this},m.fill=function(d){return qo("f",d),this},m.fillEvenOdd=function(d){return qo("f*",d),this},m.fillStroke=function(d){return qo("B",d),this},m.fillStrokeEvenOdd=function(d){return qo("B*",d),this};var qo=function(d,k){Ut(k)==="object"?Ho(k,d):K(d)},ol=function(d){d===null||O===b.ADVANCED&&d===void 0||(d=su(d),K(d))};function $o(d,k,W,Z,oe){var _e=new $u(k||this.boundingBox,W||this.xStep,Z||this.yStep,this.gState,oe||this.matrix);_e.stream=this.stream;var Ne=d+"$$"+this.cloneIndex+++"$$";return Rn(Ne,_e),_e}var Ho=function(d,k){var W=vs[d.key],Z=Nt[W];if(Z instanceof Sl)K("q"),K(ou(k)),Z.gState&&m.setGState(Z.gState),K(d.matrix.toString()+" cm"),K("/"+W+" sh"),K("Q");else if(Z instanceof $u){var oe=new He(1,0,0,-1,0,gr());d.matrix&&(oe=oe.multiply(d.matrix||pr),W=$o.call(Z,d.key,d.boundingBox,d.xStep,d.yStep,oe).id),K("q"),K("/Pattern cs"),K("/"+W+" scn"),Z.gState&&m.setGState(Z.gState),K(k),K("Q")}},ou=function(d){switch(d){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},$i=m.moveTo=function(d,k){return K(L(I(d))+" "+L(J(k))+" m"),this},ci=m.lineTo=function(d,k){return K(L(I(d))+" "+L(J(k))+" l"),this},Hi=m.curveTo=function(d,k,W,Z,oe,_e){return K([L(I(d)),L(J(k)),L(I(W)),L(J(Z)),L(I(oe)),L(J(_e)),"c"].join(" ")),this};m.__private__.line=m.line=function(d,k,W,Z,oe){if(isNaN(d)||isNaN(k)||isNaN(W)||isNaN(Z)||!Ii(oe))throw new Error("Invalid arguments passed to jsPDF.line");return O===b.COMPAT?this.lines([[W-d,Z-k]],d,k,[1,1],oe||"S"):this.lines([[W-d,Z-k]],d,k,[1,1]).stroke()},m.__private__.lines=m.lines=function(d,k,W,Z,oe,_e){var Ne,Be,c,v,E,V,se,de,Pe,dt,bt,pt;if(typeof d=="number"&&(pt=W,W=k,k=d,d=pt),Z=Z||[1,1],_e=_e||!1,isNaN(k)||isNaN(W)||!Array.isArray(d)||!Array.isArray(Z)||!Ii(oe)||typeof _e!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for($i(k,W),Ne=Z[0],Be=Z[1],v=d.length,dt=k,bt=W,c=0;c<v;c++)(E=d[c]).length===2?(dt=E[0]*Ne+dt,bt=E[1]*Be+bt,ci(dt,bt)):(V=E[0]*Ne+dt,se=E[1]*Be+bt,de=E[2]*Ne+dt,Pe=E[3]*Be+bt,dt=E[4]*Ne+dt,bt=E[5]*Be+bt,Hi(V,se,de,Pe,dt,bt));return _e&&ui(),ol(oe),this},m.path=function(d){for(var k=0;k<d.length;k++){var W=d[k],Z=W.c;switch(W.op){case"m":$i(Z[0],Z[1]);break;case"l":ci(Z[0],Z[1]);break;case"c":Hi.apply(this,Z);break;case"h":ui()}}return this},m.__private__.rect=m.rect=function(d,k,W,Z,oe){if(isNaN(d)||isNaN(k)||isNaN(W)||isNaN(Z)||!Ii(oe))throw new Error("Invalid arguments passed to jsPDF.rect");return O===b.COMPAT&&(Z=-Z),K([L(I(d)),L(J(k)),L(I(W)),L(I(Z)),"re"].join(" ")),ol(oe),this},m.__private__.triangle=m.triangle=function(d,k,W,Z,oe,_e,Ne){if(isNaN(d)||isNaN(k)||isNaN(W)||isNaN(Z)||isNaN(oe)||isNaN(_e)||!Ii(Ne))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[W-d,Z-k],[oe-W,_e-Z],[d-oe,k-_e]],d,k,[1,1],Ne,!0),this},m.__private__.roundedRect=m.roundedRect=function(d,k,W,Z,oe,_e,Ne){if(isNaN(d)||isNaN(k)||isNaN(W)||isNaN(Z)||isNaN(oe)||isNaN(_e)||!Ii(Ne))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Be=4/3*(Math.SQRT2-1);return oe=Math.min(oe,.5*W),_e=Math.min(_e,.5*Z),this.lines([[W-2*oe,0],[oe*Be,0,oe,_e-_e*Be,oe,_e],[0,Z-2*_e],[0,_e*Be,-oe*Be,_e,-oe,_e],[2*oe-W,0],[-oe*Be,0,-oe,-_e*Be,-oe,-_e],[0,2*_e-Z],[0,-_e*Be,oe*Be,-_e,oe,-_e]],d+oe,k,[1,1],Ne,!0),this},m.__private__.ellipse=m.ellipse=function(d,k,W,Z,oe){if(isNaN(d)||isNaN(k)||isNaN(W)||isNaN(Z)||!Ii(oe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var _e=4/3*(Math.SQRT2-1)*W,Ne=4/3*(Math.SQRT2-1)*Z;return $i(d+W,k),Hi(d+W,k-Ne,d+_e,k-Z,d,k-Z),Hi(d-_e,k-Z,d-W,k-Ne,d-W,k),Hi(d-W,k+Ne,d-_e,k+Z,d,k+Z),Hi(d+_e,k+Z,d+W,k+Ne,d+W,k),ol(oe),this},m.__private__.circle=m.circle=function(d,k,W,Z){if(isNaN(d)||isNaN(k)||isNaN(W)||!Ii(Z))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(d,k,W,W,Z)},m.setFont=function(d,k,W){return W&&(k=ee(k,W)),vt=eo(d,k,{disableWarning:!1}),this};var al=m.__private__.getFont=m.getFont=function(){return Ot[eo.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var d,k,W={};for(d in Xt)if(Xt.hasOwnProperty(d))for(k in W[d]=[],Xt[d])Xt[d].hasOwnProperty(k)&&W[d].push(k);return W},m.addFont=function(d,k,W,Z,oe){var _e=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&_e.indexOf(arguments[3])!==-1?oe=arguments[3]:arguments[3]&&_e.indexOf(arguments[3])==-1&&(W=ee(W,Z)),oe=oe||"Identity-H",rl.call(this,d,k,W,oe)};var Ft,ll=t.lineWidth||.200025,Wo=m.__private__.getLineWidth=m.getLineWidth=function(){return ll},ul=m.__private__.setLineWidth=m.setLineWidth=function(d){return ll=d,K(L(I(d))+" w"),this};m.__private__.setLineDash=st.API.setLineDash=st.API.setLineDashPattern=function(d,k){if(d=d||[],k=k||0,isNaN(k)||!Array.isArray(d))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return d=d.map(function(W){return L(I(W))}).join(" "),k=L(I(k)),K("["+d+"] "+k+" d"),this};var cl=m.__private__.getLineHeight=m.getLineHeight=function(){return De*Ft};m.__private__.getLineHeight=m.getLineHeight=function(){return De*Ft};var hl=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(d){return typeof(d=d||1.15)=="number"&&(Ft=d),this},no=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Ft};hl(t.lineHeight);var hi=m.__private__.getHorizontalCoordinate=function(d){return I(d)},Bn=m.__private__.getVerticalCoordinate=function(d){return O===b.ADVANCED?d:tt[$].mediaBox.topRightY-tt[$].mediaBox.bottomLeftY-I(d)},au=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(d){return L(hi(d))},Is=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(d){return L(Bn(d))},tr=t.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return Hr(tr)},m.__private__.setStrokeColor=m.setDrawColor=function(d,k,W,Z){return tr=Rr({ch1:d,ch2:k,ch3:W,ch4:Z,pdfColorType:"draw",precision:2}),K(tr),this};var Go=t.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return Hr(Go)},m.__private__.setFillColor=m.setFillColor=function(d,k,W,Z){return Go=Rr({ch1:d,ch2:k,ch3:W,ch4:Z,pdfColorType:"fill",precision:2}),K(Go),this};var Wi=t.textColor||"0 g",Ko=m.__private__.getTextColor=m.getTextColor=function(){return Hr(Wi)};m.__private__.setTextColor=m.setTextColor=function(d,k,W,Z){return Wi=Rr({ch1:d,ch2:k,ch3:W,ch4:Z,pdfColorType:"text",precision:3}),this};var ro=t.charSpace,Jo=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(ro||0)};m.__private__.setCharSpace=m.setCharSpace=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ro=d,this};var fl=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(d){var k=m.CapJoinStyles[d];if(k===void 0)throw new Error("Line cap style of '"+d+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return fl=k,K(k+" J"),this};var Xo=0;m.__private__.setLineJoin=m.setLineJoin=function(d){var k=m.CapJoinStyles[d];if(k===void 0)throw new Error("Line join style of '"+d+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xo=k,K(k+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(d){if(d=d||0,isNaN(d))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return K(L(I(d))+" M"),this},m.GState=Up,m.setGState=function(d){(d=typeof d=="string"?nn[er[d]]:Ns(null,d)).equals(oi)||(K("/"+d.id+" gs"),oi=d)};var Ns=function(d,k){if(!d||!er[d]){var W=!1;for(var Z in nn)if(nn.hasOwnProperty(Z)&&nn[Z].equals(k)){W=!0;break}if(W)k=nn[Z];else{var oe="GS"+(Object.keys(nn).length+1).toString(10);nn[oe]=k,k.id=oe}return d&&(er[d]=k.id),Ct.publish("addGState",k),k}};m.addGState=function(d,k){return Ns(d,k),this},m.saveGraphicsState=function(){return K("q"),Ei.push({key:vt,size:De,color:Wi}),this},m.restoreGraphicsState=function(){K("Q");var d=Ei.pop();return vt=d.key,De=d.size,Wi=d.color,oi=null,this},m.setCurrentTransformationMatrix=function(d){return K(d.toString()+" cm"),this},m.comment=function(d){return K("#"+d),this};var io=function(d,k){var W=d||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return W},set:function(_e){isNaN(_e)||(W=parseFloat(_e))}});var Z=k||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Z},set:function(_e){isNaN(_e)||(Z=parseFloat(_e))}});var oe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return oe},set:function(_e){oe=_e.toString()}}),this},Qo=function(d,k,W,Z){io.call(this,d,k),this.type="rect";var oe=W||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return oe},set:function(Ne){isNaN(Ne)||(oe=parseFloat(Ne))}});var _e=Z||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return _e},set:function(Ne){isNaN(Ne)||(_e=parseFloat(Ne))}}),this},so=function(){this.page=Qt,this.currentPage=$,this.pages=Te.slice(0),this.pagesContext=tt.slice(0),this.x=gn,this.y=Et,this.matrix=qr,this.width=Ps($),this.height=gr($),this.outputDestination=Fe,this.id="",this.objectNumber=-1};so.prototype.restore=function(){Qt=this.page,$=this.currentPage,tt=this.pagesContext,Te=this.pages,gn=this.x,Et=this.y,qr=this.matrix,Zo($,this.width),ea($,this.height),Fe=this.outputDestination};var Yo=function(d,k,W,Z,oe){ai.push(new so),Qt=$=0,Te=[],gn=d,Et=k,qr=oe,Dr([W,Z])},lu=function(d){if(dr[d])ai.pop().restore();else{var k=new so,W="Xo"+(Object.keys(Ln).length+1).toString(10);k.id=W,dr[d]=W,Ln[W]=k,Ct.publish("addFormObject",k),ai.pop().restore()}};for(var Gi in m.beginFormObject=function(d,k,W,Z,oe){return Yo(d,k,W,Z,oe),this},m.endFormObject=function(d){return lu(d),this},m.doFormObject=function(d,k){var W=Ln[dr[d]];return K("q"),K(k.toString()+" cm"),K("/"+W.id+" Do"),K("Q"),this},m.getFormObject=function(d){var k=Ln[dr[d]];return{x:k.x,y:k.y,width:k.width,height:k.height,matrix:k.matrix}},m.save=function(d,k){return d=d||"generated.pdf",(k=k||{}).returnPromise=k.returnPromise||!1,k.returnPromise===!1?(bl(Uo(qi()),d),typeof bl.unload=="function"&&ot.setTimeout&&setTimeout(bl.unload,911),this):new Promise(function(W,Z){try{var oe=bl(Uo(qi()),d);typeof bl.unload=="function"&&ot.setTimeout&&setTimeout(bl.unload,911),W(oe)}catch(_e){Z(_e.message)}})},st.API)st.API.hasOwnProperty(Gi)&&(Gi==="events"&&st.API.events.length?function(d,k){var W,Z,oe;for(oe=k.length-1;oe!==-1;oe--)W=k[oe][0],Z=k[oe][1],d.subscribe.apply(d,[W].concat(typeof Z=="function"?[Z]:Z))}(Ct,st.API.events):m[Gi]=st.API[Gi]);var Ps=m.getPageWidth=function(d){return(tt[d=d||$].mediaBox.topRightX-tt[d].mediaBox.bottomLeftX)/qe},Zo=m.setPageWidth=function(d,k){tt[d].mediaBox.topRightX=k*qe+tt[d].mediaBox.bottomLeftX},gr=m.getPageHeight=function(d){return(tt[d=d||$].mediaBox.topRightY-tt[d].mediaBox.bottomLeftY)/qe},ea=m.setPageHeight=function(d,k){tt[d].mediaBox.topRightY=k*qe+tt[d].mediaBox.bottomLeftY};return m.internal={pdfEscape:vn,getStyle:su,getFont:al,getFontSize:Ve,getCharSpace:Jo,getTextColor:Ko,getLineHeight:cl,getLineHeightFactor:no,getLineWidth:Wo,write:ht,getHorizontalCoordinate:hi,getVerticalCoordinate:Bn,getCoordinateString:au,getVerticalCoordinateString:Is,collections:{},newObject:Sn,newAdditionalObject:Mo,newObjectDeferred:yn,newObjectDeferredBegin:On,getFilters:Or,putStream:En,events:Ct,scaleFactor:qe,pageSize:{getWidth:function(){return Ps($)},setWidth:function(d){Zo($,d)},getHeight:function(){return gr($)},setHeight:function(d){ea($,d)}},encryptionOptions:g,encryption:sn,getEncryptor:iu,output:zo,getNumberOfPages:jt,pages:Te,out:K,f2:B,f3:S,getPageInfo:sl,getPageInfoByObjId:lt,getCurrentPageInfo:xs,getPDFVersion:N,Point:io,Rectangle:Qo,Matrix:He,hasHotfix:Es},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Ps($)},set:function(d){Zo($,d)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return gr($)},set:function(d){ea($,d)},enumerable:!0,configurable:!0}),nu.call(m,ke),vt="F1",Zs(i,n),Ct.publish("initialized"),m}Nu.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Nu.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Nu.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Nu.prototype.processOwnerPassword=function(t,e){return p0(d0(e).substr(0,5),t)},Nu.prototype.encryptor=function(t,e){var n=d0(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return p0(n,r)}},Up.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Ut(t)!==Ut(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},st.API={events:[]},st.version="2.5.2";var _n=st.API,H2=1,Jl=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Su=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},mt=function(t){return t.toFixed(2)},ga=function(t){return t.toFixed(5)};_n.__acroform__={};var si=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Mv=function(t){return t*H2},Os=function(t){var e=new K4,n=Ge.internal.getHeight(t)||0,r=Ge.internal.getWidth(t)||0;return e.BBox=[0,0,Number(mt(r)),Number(mt(n))],e},bN=_n.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},AN=_n.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},SN=_n.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Pn=_n.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return SN(t,e-1)},Tn=_n.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return bN(t,e-1)},kn=_n.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return AN(t,e-1)},EN=_n.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(mt(l.lowerLeft_X)),Number(mt(l.lowerLeft_Y)),Number(mt(l.upperRight_X)),Number(mt(l.upperRight_Y))]},xN=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=m0(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+mt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Os(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},m0=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(S){return S.split(`
`)}):i.map(function(S){return[S]});var s=n,o=Ge.internal.getHeight(t)||0;o=o<0?-o:o;var a=Ge.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(S,I,T){if(S+1<i.length){var J=I+" "+i[S+1][0];return Pd(J,t,T).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var f,g,p=Pd("3",t,s).height,w=t.multiline?o-s:(o-p)/2,m=w+=2,P=0,N=0,F=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Pd(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var A="",b=0,O=0;O<i.length;O++)if(i.hasOwnProperty(O)){var q=!1;if(i[O].length!==1&&F!==i[O].length-1){if((p+2)*(b+2)+2>o)continue e;A+=i[O][F],q=!0,N=O,O--}else{A=(A+=i[O][F]+" ").substr(A.length-1)==" "?A.substr(0,A.length-1):A;var X=parseInt(O),ee=l(X,A,s),L=O>=i.length-1;if(ee&&!L){A+=" ",F=0;continue}if(ee||L){if(L)N=X;else if(t.multiline&&(p+2)*(b+2)+2>o)continue e}else{if(!t.multiline||(p+2)*(b+2)+2>o)continue e;N=X}}for(var x="",R=P;R<=N;R++){var B=i[R];if(t.multiline){if(R===N){x+=B[F]+" ",F=(F+1)%B.length;continue}if(R===P){x+=B[B.length-1]+" ";continue}}x+=B[0]+" "}switch(x=x.substr(x.length-1)==" "?x.substr(0,x.length-1):x,g=Pd(x,t,s).width,t.textAlign){case"right":f=a-g-2;break;case"center":f=(a-g)/2;break;case"left":default:f=2}e+=mt(f)+" "+mt(m)+` Td
`,e+="("+Jl(x)+`) Tj
`,e+=-mt(f)+` 0 Td
`,m=-(s+2),g=0,P=q?N:N+1,b++,A=""}break}return r.text=e,r.fontSize=s,r},Pd=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},IN={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},NN=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},PN=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),Ut(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},TN=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(ms.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(IN)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");H2=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new J4,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&NN(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],f=a.Rect;if(a.Rect&&(a.Rect=EN(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Ge.createDefaultAppearanceStream(a),Ut(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=f,a.hasAppearanceStream&&!a.appearanceStreamContent){var g=xN(a);l.push({key:"AP",value:"<</N "+g+">>"}),i.internal.acroformPlugin.xForms.push(g)}if(a.appearanceStreamContent){var p="";for(var w in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(w)){var m=a.appearanceStreamContent[w];if(p+="/"+w+" ",p+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var P=m[o];typeof P=="function"&&(P=P.call(i,a)),p+="/"+o+" "+P+" ",i.internal.acroformPlugin.xForms.indexOf(P)>=0||i.internal.acroformPlugin.xForms.push(P)}}else typeof(P=m)=="function"&&(P=P.call(i,a)),p+="/"+o+" "+P,i.internal.acroformPlugin.xForms.indexOf(P)>=0||i.internal.acroformPlugin.xForms.push(P);p+=">>"}l.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&PN(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},G4=_n.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Ut(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Jl(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},$g=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Jl(r(t))+")"},Bs=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Bs.prototype.toString=function(){return this.objId+" 0 R"},Bs.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Bs.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:G4(i,this.objId,this.scope)}):i instanceof Bs?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var K4=function(){Bs.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};si(K4,Bs);var J4=function(){Bs.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Jl(n(t))+")"}},set:function(n){t=n}})};si(J4,Bs);var ms=function t(){Bs.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute F supplied.');e=A}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Pn(e,3)},set:function(A){A?this.F=Tn(e,3):this.F=kn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute Ff supplied.');n=A}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(A){r=A!==void 0?A:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(A){r[0]=A}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(A){r[1]=A}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(A){r[2]=A}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(A){r[3]=A}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(A){switch(A){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=A;break;default:throw new Error('Invalid value "'+A+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof zp)return;s="FieldObject"+t.FieldNum++}var A=function(b){return b};return this.scope&&(A=this.scope.internal.getEncryptor(this.objId)),"("+Jl(A(s))+")"},set:function(A){s=A.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(A){s=A}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(A){o=A}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(A){a=A}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(A){l=A}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/H2:f},set:function(A){f=A}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(A){g=A}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof zp||this instanceof Ll))return $g(p,this.objId,this.scope)},set:function(A){A=A.toString(),p=A}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof Xn?w:$g(w,this.objId,this.scope)},set:function(A){A=A.toString(),w=this instanceof Xn?A:A.substr(0,1)==="("?Su(A.substr(1,A.length-2)):Su(A)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Xn?Su(w.substr(1,w.length-1)):w},set:function(A){A=A.toString(),w=this instanceof Xn?"/"+A:A}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(A){this.V=A}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Xn?m:$g(m,this.objId,this.scope)},set:function(A){A=A.toString(),m=this instanceof Xn?A:A.substr(0,1)==="("?Su(A.substr(1,A.length-2)):Su(A)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Xn?Su(m.substr(1,m.length-1)):m},set:function(A){A=A.toString(),m=this instanceof Xn?"/"+A:A}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var P,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(A){A=!!A,N=A}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(P)return P},set:function(A){P=A}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,1)},set:function(A){A?this.Ff=Tn(this.Ff,1):this.Ff=kn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,2)},set:function(A){A?this.Ff=Tn(this.Ff,2):this.Ff=kn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,3)},set:function(A){A?this.Ff=Tn(this.Ff,3):this.Ff=kn(this.Ff,3)}});var F=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(F!==null)return F},set:function(A){if([0,1,2].indexOf(A)===-1)throw new Error('Invalid value "'+A+'" for attribute Q supplied.');F=A}}),Object.defineProperty(this,"textAlign",{get:function(){var A;switch(F){case 0:default:A="left";break;case 1:A="center";break;case 2:A="right"}return A},configurable:!0,enumerable:!0,set:function(A){switch(A){case"right":case 2:F=2;break;case"center":case 1:F=1;break;case"left":case 0:default:F=0}}})};si(ms,Bs);var ec=function(){ms.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return G4(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,f=[];l=o.exec(s);)f.push(l[a]);return f}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,18)},set:function(n){n?this.Ff=Tn(this.Ff,18):this.Ff=kn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Tn(this.Ff,19):this.Ff=kn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,20)},set:function(n){n?(this.Ff=Tn(this.Ff,20),e.sort()):this.Ff=kn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,22)},set:function(n){n?this.Ff=Tn(this.Ff,22):this.Ff=kn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,23)},set:function(n){n?this.Ff=Tn(this.Ff,23):this.Ff=kn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,27)},set:function(n){n?this.Ff=Tn(this.Ff,27):this.Ff=kn(this.Ff,27)}}),this.hasAppearanceStream=!1};si(ec,ms);var tc=function(){ec.call(this),this.fontName="helvetica",this.combo=!1};si(tc,ec);var nc=function(){tc.call(this),this.combo=!0};si(nc,tc);var ep=function(){nc.call(this),this.edit=!0};si(ep,nc);var Xn=function(){ms.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,15)},set:function(n){n?this.Ff=Tn(this.Ff,15):this.Ff=kn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,16)},set:function(n){n?this.Ff=Tn(this.Ff,16):this.Ff=kn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,17)},set:function(n){n?this.Ff=Tn(this.Ff,17):this.Ff=kn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,26)},set:function(n){n?this.Ff=Tn(this.Ff,26):this.Ff=kn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Jl(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Ut(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};si(Xn,ms);var tp=function(){Xn.call(this),this.pushButton=!0};si(tp,Xn);var rc=function(){Xn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};si(rc,Xn);var zp=function(){var t,e;ms.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Jl(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Ut(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ge.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};si(zp,ms),rc.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},rc.prototype.createOption=function(t){var e=new zp;return e.Parent=this,e.optionName=t,this.Kids.push(e),kN.call(this.scope,e),e};var np=function(){Xn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ge.CheckBox.createAppearanceStream()};si(np,Xn);var Ll=function(){ms.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,13)},set:function(e){e?this.Ff=Tn(this.Ff,13):this.Ff=kn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,21)},set:function(e){e?this.Ff=Tn(this.Ff,21):this.Ff=kn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,23)},set:function(e){e?this.Ff=Tn(this.Ff,23):this.Ff=kn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,24)},set:function(e){e?this.Ff=Tn(this.Ff,24):this.Ff=kn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,25)},set:function(e){e?this.Ff=Tn(this.Ff,25):this.Ff=kn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,26)},set:function(e){e?this.Ff=Tn(this.Ff,26):this.Ff=kn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};si(Ll,ms);var rp=function(){Ll.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,14)},set:function(t){t?this.Ff=Tn(this.Ff,14):this.Ff=kn(this.Ff,14)}}),this.password=!0};si(rp,Ll);var Ge={CheckBox:{createAppearanceStream:function(){return{N:{On:Ge.CheckBox.YesNormal},D:{On:Ge.CheckBox.YesPushDown,Off:Ge.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Os(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=m0(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+mt(Ge.internal.getWidth(t))+" "+mt(Ge.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+mt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Os(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=Ge.internal.getHeight(t),o=Ge.internal.getWidth(t),a=m0(t,t.caption);return i.push("1 g"),i.push("0 0 "+mt(o)+" "+mt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+mt(o-1)+" "+mt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+mt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Os(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+mt(Ge.internal.getWidth(t))+" "+mt(Ge.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ge.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ge.RadioButton.Circle.YesNormal,e.D[t]=Ge.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Os(t);e.scope=t.scope;var n=[],r=Ge.internal.getWidth(t)<=Ge.internal.getHeight(t)?Ge.internal.getWidth(t)/4:Ge.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Ge.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+ga(Ge.internal.getWidth(t)/2)+" "+ga(Ge.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Os(t);e.scope=t.scope;var n=[],r=Ge.internal.getWidth(t)<=Ge.internal.getHeight(t)?Ge.internal.getWidth(t)/4:Ge.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ge.internal.Bezier_C).toFixed(5)),o=Number((r*Ge.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ga(Ge.internal.getWidth(t)/2)+" "+ga(Ge.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+ga(Ge.internal.getWidth(t)/2)+" "+ga(Ge.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Os(t);e.scope=t.scope;var n=[],r=Ge.internal.getWidth(t)<=Ge.internal.getHeight(t)?Ge.internal.getWidth(t)/4:Ge.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ge.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ga(Ge.internal.getWidth(t)/2)+" "+ga(Ge.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ge.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ge.RadioButton.Cross.YesNormal,e.D[t]=Ge.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Os(t);e.scope=t.scope;var n=[],r=Ge.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+mt(Ge.internal.getWidth(t)-2)+" "+mt(Ge.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(mt(r.x1.x)+" "+mt(r.x1.y)+" m"),n.push(mt(r.x2.x)+" "+mt(r.x2.y)+" l"),n.push(mt(r.x4.x)+" "+mt(r.x4.y)+" m"),n.push(mt(r.x3.x)+" "+mt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Os(t);e.scope=t.scope;var n=Ge.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+mt(Ge.internal.getWidth(t))+" "+mt(Ge.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+mt(Ge.internal.getWidth(t)-2)+" "+mt(Ge.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(mt(n.x1.x)+" "+mt(n.x1.y)+" m"),r.push(mt(n.x2.x)+" "+mt(n.x2.y)+" l"),r.push(mt(n.x4.x)+" "+mt(n.x4.y)+" m"),r.push(mt(n.x3.x)+" "+mt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Os(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+mt(Ge.internal.getWidth(t))+" "+mt(Ge.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Ge.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ge.internal.getWidth(t),n=Ge.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Ge.internal.getWidth=function(t){var e=0;return Ut(t)==="object"&&(e=Mv(t.Rect[2])),e},Ge.internal.getHeight=function(t){var e=0;return Ut(t)==="object"&&(e=Mv(t.Rect[3])),e};var kN=_n.addField=function(t){if(TN(this,t),!(t instanceof ms))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};_n.AcroFormChoiceField=ec,_n.AcroFormListBox=tc,_n.AcroFormComboBox=nc,_n.AcroFormEditBox=ep,_n.AcroFormButton=Xn,_n.AcroFormPushButton=tp,_n.AcroFormRadioButton=rc,_n.AcroFormCheckBox=np,_n.AcroFormTextField=Ll,_n.AcroFormPasswordField=rp,_n.AcroFormAppearance=Ge,_n.AcroForm={ChoiceField:ec,ListBox:tc,ComboBox:nc,EditBox:ep,Button:Xn,PushButton:tp,RadioButton:rc,CheckBox:np,TextField:Ll,PasswordField:rp,Appearance:Ge},st.AcroForm={ChoiceField:ec,ListBox:tc,ComboBox:nc,EditBox:ep,Button:Xn,PushButton:tp,RadioButton:rc,CheckBox:np,TextField:Ll,PasswordField:rp,Appearance:Ge};function X4(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(S,I){var T,J,ge,pe,ve,Q=e;if((I=I||e)==="RGBA"||S.data!==void 0&&S.data instanceof Uint8ClampedArray&&"height"in S&&"width"in S)return"RGBA";if(ee(S))for(ve in n)for(ge=n[ve],T=0;T<ge.length;T+=1){for(pe=!0,J=0;J<ge[T].length;J+=1)if(ge[T][J]!==void 0&&ge[T][J]!==S[J]){pe=!1;break}if(pe===!0){Q=ve;break}}else for(ve in n)for(ge=n[ve],T=0;T<ge.length;T+=1){for(pe=!0,J=0;J<ge[T].length;J+=1)if(ge[T][J]!==void 0&&ge[T][J]!==S.charCodeAt(J)){pe=!1;break}if(pe===!0){Q=ve;break}}return Q===e&&I!==e&&(Q=I),Q},i=function S(I){for(var T=this.internal.write,J=this.internal.putStream,ge=(0,this.internal.getFilters)();ge.indexOf("FlateEncode")!==-1;)ge.splice(ge.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var pe=[];if(pe.push({key:"Type",value:"/XObject"}),pe.push({key:"Subtype",value:"/Image"}),pe.push({key:"Width",value:I.width}),pe.push({key:"Height",value:I.height}),I.colorSpace===F.INDEXED?pe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(pe.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===F.DEVICE_CMYK&&pe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),pe.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&pe.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)){for(var ve="",Q=0,le=I.transparency.length;Q<le;Q++)ve+=I.transparency[Q]+" "+I.transparency[Q]+" ";pe.push({key:"Mask",value:"["+ve+"]"})}I.sMask!==void 0&&pe.push({key:"SMask",value:I.objectId+1+" 0 R"});var ue=I.filter!==void 0?["/"+I.filter]:void 0;if(J({data:I.data,additionalKeyValues:pe,alreadyAppliedFilters:ue,objectId:I.objectId}),T("endobj"),"sMask"in I&&I.sMask!==void 0){var xe="/Predictor "+I.predictor+" /Colors 1 /BitsPerComponent "+I.bitsPerComponent+" /Columns "+I.width,D={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:I.bitsPerComponent,decodeParameters:xe,data:I.sMask};"filter"in I&&(D.filter=I.filter),S.call(this,D)}if(I.colorSpace===F.INDEXED){var $=this.internal.newObject();J({data:x(new Uint8Array(I.palette)),objectId:$}),T("endobj")}},s=function(){var S=this.internal.collections.addImage_images;for(var I in S)i.call(this,S[I])},o=function(){var S,I=this.internal.collections.addImage_images,T=this.internal.write;for(var J in I)T("/I"+(S=I[J]).index,S.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var S=this.internal.collections.addImage_images;return a.call(this),S},f=function(){return Object.keys(this.internal.collections.addImage_images).length},g=function(S){return typeof t["process"+S.toUpperCase()]=="function"},p=function(S){return Ut(S)==="object"&&S.nodeType===1},w=function(S,I){if(S.nodeName==="IMG"&&S.hasAttribute("src")){var T=""+S.getAttribute("src");if(T.indexOf("data:image/")===0)return jh(unescape(T).split("base64,").pop());var J=t.loadFile(T,!0);if(J!==void 0)return J}if(S.nodeName==="CANVAS"){if(S.width===0||S.height===0)throw new Error("Given canvas must have data. Canvas width: "+S.width+", height: "+S.height);var ge;switch(I){case"PNG":ge="image/png";break;case"WEBP":ge="image/webp";break;case"JPEG":case"JPG":default:ge="image/jpeg"}return jh(S.toDataURL(ge,1).split("base64,").pop())}},m=function(S){var I=this.internal.collections.addImage_images;if(I){for(var T in I)if(S===I[T].alias)return I[T]}},P=function(S,I,T){return S||I||(S=-96,I=-96),S<0&&(S=-1*T.width*72/S/this.internal.scaleFactor),I<0&&(I=-1*T.height*72/I/this.internal.scaleFactor),S===0&&(S=I*T.width/T.height),I===0&&(I=S*T.height/T.width),[S,I]},N=function(S,I,T,J,ge,pe){var ve=P.call(this,T,J,ge),Q=this.internal.getCoordinateString,le=this.internal.getVerticalCoordinateString,ue=l.call(this);if(T=ve[0],J=ve[1],ue[ge.index]=ge,pe){pe*=Math.PI/180;var xe=Math.cos(pe),D=Math.sin(pe),$=function(Y){return Y.toFixed(4)},G=[$(xe),$(D),$(-1*D),$(xe),0,0,"cm"]}this.internal.write("q"),pe?(this.internal.write([1,"0","0",1,Q(S),le(I+J),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([Q(T),"0","0",Q(J),"0","0","cm"].join(" "))):this.internal.write([Q(T),"0","0",Q(J),Q(S),le(I+J),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ge.index+" Do"),this.internal.write("Q")},F=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var A=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=t.__addimage__.sHashCode=function(S){var I,T,J=0;if(typeof S=="string")for(T=S.length,I=0;I<T;I++)J=(J<<5)-J+S.charCodeAt(I),J|=0;else if(ee(S))for(T=S.byteLength/2,I=0;I<T;I++)J=(J<<5)-J+S[I],J|=0;return J},O=t.__addimage__.validateStringAsBase64=function(S){(S=S||"").toString().trim();var I=!0;return S.length===0&&(I=!1),S.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(S.substr(0,S.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(S.substr(-2))===!1&&(I=!1),I},q=t.__addimage__.extractImageFromDataUrl=function(S){var I=(S=S||"").split("base64,"),T=null;if(I.length===2){var J=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(I[0]);Array.isArray(J)&&(T={mimeType:J[1],charset:J[2],data:I[1]})}return T},X=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(S){return X()&&S instanceof ArrayBuffer};var ee=t.__addimage__.isArrayBufferView=function(S){return X()&&typeof Uint32Array<"u"&&(S instanceof Int8Array||S instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&S instanceof Uint8ClampedArray||S instanceof Int16Array||S instanceof Uint16Array||S instanceof Int32Array||S instanceof Uint32Array||S instanceof Float32Array||S instanceof Float64Array)},L=t.__addimage__.binaryStringToUint8Array=function(S){for(var I=S.length,T=new Uint8Array(I),J=0;J<I;J++)T[J]=S.charCodeAt(J);return T},x=t.__addimage__.arrayBufferToBinaryString=function(S){for(var I="",T=ee(S)?S:new Uint8Array(S),J=0;J<T.length;J+=8192)I+=String.fromCharCode.apply(null,T.subarray(J,J+8192));return I};t.addImage=function(){var S,I,T,J,ge,pe,ve,Q,le;if(typeof arguments[1]=="number"?(I=e,T=arguments[1],J=arguments[2],ge=arguments[3],pe=arguments[4],ve=arguments[5],Q=arguments[6],le=arguments[7]):(I=arguments[1],T=arguments[2],J=arguments[3],ge=arguments[4],pe=arguments[5],ve=arguments[6],Q=arguments[7],le=arguments[8]),Ut(S=arguments[0])==="object"&&!p(S)&&"imageData"in S){var ue=S;S=ue.imageData,I=ue.format||I||e,T=ue.x||T||0,J=ue.y||J||0,ge=ue.w||ue.width||ge,pe=ue.h||ue.height||pe,ve=ue.alias||ve,Q=ue.compression||Q,le=ue.rotation||ue.angle||le}var xe=this.internal.getFilters();if(Q===void 0&&xe.indexOf("FlateEncode")!==-1&&(Q="SLOW"),isNaN(T)||isNaN(J))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var D=R.call(this,S,I,ve,Q);return N.call(this,T,J,ge,pe,D,le),this};var R=function(S,I,T,J){var ge,pe,ve;if(typeof S=="string"&&r(S)===e){S=unescape(S);var Q=B(S,!1);(Q!==""||(Q=t.loadFile(S,!0))!==void 0)&&(S=Q)}if(p(S)&&(S=w(S,I)),I=r(S,I),!g(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((ve=T)==null||ve.length===0)&&(T=function(le){return typeof le=="string"||ee(le)?b(le):ee(le.data)?b(le.data):null}(S)),(ge=m.call(this,T))||(X()&&(S instanceof Uint8Array||I==="RGBA"||(pe=S,S=L(S))),ge=this["process"+I.toUpperCase()](S,f.call(this),T,function(le){return le&&typeof le=="string"&&(le=le.toUpperCase()),le in t.image_compression?le:A.NONE}(J),pe)),!ge)throw new Error("An unknown error occurred whilst processing the image.");return ge},B=t.__addimage__.convertBase64ToBinaryString=function(S,I){var T;I=typeof I!="boolean"||I;var J,ge="";if(typeof S=="string"){J=(T=q(S))!==null?T.data:S;try{ge=jh(J)}catch(pe){if(I)throw O(J)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+pe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ge};t.getImageProperties=function(S){var I,T,J="";if(p(S)&&(S=w(S)),typeof S=="string"&&r(S)===e&&((J=B(S,!1))===""&&(J=t.loadFile(S)||""),S=J),T=r(S),!g(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(!X()||S instanceof Uint8Array||(S=L(S)),!(I=this["process"+T.toUpperCase()](S)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=T,I}})(st.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};st.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),f=n.pageContext.annotations,g=!1,p=0;p<f.length&&!g;p++)switch((r=f[p]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var w=0;w<f.length;w++){r=f[w];var m=this.internal.pdfEscape,P=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),F=this.internal.newAdditionalObject(),A=this.internal.getEncryptor(N.objId),b=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+m(A(r.contents))+")",s+=" /Popup "+F.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+m(A(b))+") >>",N.content=s;var O=N.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+O,r.open&&(s+=" /Open true"),s+=" >>",F.content=s,this.internal.write(N.objId,"0 R",F.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var q=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(P(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+q+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var X=this.annotations._nameMap[r.options.name];r.options.pageNumber=X.page,r.options.top=X.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(P(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var ee=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+ee+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:f(r),w:l(n+i),h:f(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var g=this.splitTextToSize(n,a).length;o=Math.ceil(f*g)}else a=l,o=f;return this.text(n,r,i,s),i+=.2*f,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-f,a,o,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(st.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(N){return e[N.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},a=t.__arabicParser__.isArabicEndLetter=function(N){return o(N)&&s(N)&&e[N.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(N){return o(N)&&i.indexOf(N.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return o(N)&&s(N)&&e[N.charCodeAt(0)].length>=1};var f=t.__arabicParser__.arabicLetterHasFinalForm=function(N){return o(N)&&s(N)&&e[N.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(N){return o(N)&&s(N)&&e[N.charCodeAt(0)].length>=3};var g=t.__arabicParser__.arabicLetterHasMedialForm=function(N){return o(N)&&s(N)&&e[N.charCodeAt(0)].length==4},p=t.__arabicParser__.resolveLigatures=function(N){var F=0,A=n,b="",O=0;for(F=0;F<N.length;F+=1)A[N.charCodeAt(F)]!==void 0?(O++,typeof(A=A[N.charCodeAt(F)])=="number"&&(b+=String.fromCharCode(A),A=n,O=0),F===N.length-1&&(A=n,b+=N.charAt(F-(O-1)),F-=O-1,O=0)):(A=n,b+=N.charAt(F-O),F-=O,O=0);return b};t.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&r[N.charCodeAt(0)]!==void 0};var w=t.__arabicParser__.getCorrectForm=function(N,F,A){return o(N)?s(N)===!1?-1:!f(N)||!o(F)&&!o(A)||!o(A)&&a(F)||a(N)&&!o(F)||a(N)&&l(F)||a(N)&&a(F)?0:g(N)&&o(F)&&!a(F)&&o(A)&&f(A)?3:a(N)||!o(A)?1:2:-1},m=function(N){var F=0,A=0,b=0,O="",q="",X="",ee=(N=N||"").split("\\s+"),L=[];for(F=0;F<ee.length;F+=1){for(L.push(""),A=0;A<ee[F].length;A+=1)O=ee[F][A],q=ee[F][A-1],X=ee[F][A+1],o(O)?(b=w(O,q,X),L[F]+=b!==-1?String.fromCharCode(e[O.charCodeAt(0)][b]):O):L[F]+=O;L[F]=p(L[F])}return L.join(" ")},P=t.__arabicParser__.processArabic=t.processArabic=function(){var N,F=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,A=[];if(Array.isArray(F)){var b=0;for(A=[],b=0;b<F.length;b+=1)Array.isArray(F[b])?A.push([m(F[b][0]),F[b][1],F[b][2]]):A.push([m(F[b])]);N=A}else N=m(F);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};t.events.push(["preProcessText",P])}(st.API),st.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(st.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(N){l=N}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(N){f=N}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(N){g=N}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(N){p=N}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(N){w=N}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(N){m=N}});var P=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return P},set:function(N){P=N}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,f){r.call(this);var g=(f=f||{}).fontSize||this.getFontSize(),p=f.font||this.getFont(),w=f.scaleFactor||this.internal.scaleFactor,m=0,P=0,N=0,F=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var A=f.maxWidth;A>0?typeof l=="string"?l=this.splitTextToSize(l,A):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(O,q){return O.concat(F.splitTextToSize(q,A))},[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)m<(N=this.getStringUnitWidth(l[b],{font:p})*g)&&(m=N);return m!==0&&(P=l.length),{w:m/=w,h:Math.max((P*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/w,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var f=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,w=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===l.lineNumber?(l.x=(f.x||0)+(f.width||0),l.y=f.y||0):f.y+f.height+l.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=p.top,m&&w&&(this.printHeaderRow(l.lineNumber,!0),l.y+=w[0].height)):l.y=f.y+f.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-g,l.y+g,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+g,{align:"center",baseline:"top",maxWidth:l.width-g-g}):this.text(l.text,l.x+g,l.y+g,{align:"left",baseline:"top",maxWidth:l.width-g-g})),this.internal.__cell__.lastCell=l,this};t.table=function(l,f,g,p,w){if(r.call(this),!g)throw new Error("No data for PDF table.");var m,P,N,F,A=[],b=[],O=[],q={},X={},ee=[],L=[],x=(w=w||{}).autoSize||!1,R=w.printHeaders!==!1,B=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,S=w.margins||Object.assign({width:this.getPageWidth()},e),I=typeof w.padding=="number"?w.padding:3,T=w.headerBackgroundColor||"#c8c8c8",J=w.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=B,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=T,this.internal.__cell__.headerTextColor=J,this.setFontSize(B),p==null)b=A=Object.keys(g[0]),O=A.map(function(){return"left"});else if(Array.isArray(p)&&Ut(p[0])==="object")for(A=p.map(function(ue){return ue.name}),b=p.map(function(ue){return ue.prompt||ue.name||""}),O=p.map(function(ue){return ue.align||"left"}),m=0;m<p.length;m+=1)X[p[m].name]=p[m].width*(19.049976/25.4);else Array.isArray(p)&&typeof p[0]=="string"&&(b=A=p,O=A.map(function(){return"left"}));if(x||Array.isArray(p)&&typeof p[0]=="string")for(m=0;m<A.length;m+=1){for(q[F=A[m]]=g.map(function(ue){return ue[F]}),this.setFont(void 0,"bold"),ee.push(this.getTextDimensions(b[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),P=q[F],this.setFont(void 0,"normal"),N=0;N<P.length;N+=1)ee.push(this.getTextDimensions(P[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);X[F]=Math.max.apply(null,ee)+I+I,ee=[]}if(R){var ge={};for(m=0;m<A.length;m+=1)ge[A[m]]={},ge[A[m]].text=b[m],ge[A[m]].align=O[m];var pe=a.call(this,ge,X);L=A.map(function(ue){return new s(l,f,X[ue],pe,ge[ue].text,void 0,ge[ue].align)}),this.setTableHeaderRow(L),this.printHeaderRow(1,!1)}var ve=p.reduce(function(ue,xe){return ue[xe.name]=xe.align,ue},{});for(m=0;m<g.length;m+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:m,data:g[m]},this);var Q=a.call(this,g[m],X);for(N=0;N<A.length;N+=1){var le=g[m][A[N]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:m,col:N,data:le},this),o.call(this,new s(l,f,X[A[N]],Q,le,m+2,ve[A[N]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=f,this};var a=function(l,f){var g=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(l).map(function(m){var P=l[m];return this.splitTextToSize(P.hasOwnProperty("text")?P.text:P,f[m]-g-g)},this).map(function(m){return this.getLineHeightFactor()*m.length*p/w+g+g},this).reduce(function(m,P){return Math.max(m,P)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,f){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){g=this.internal.__cell__.tableHeaderRow[m].clone(),f&&(g.y=this.internal.__cell__.margins.top||0,w.push(g)),g.lineNumber=l;var P=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,g),this.setTextColor(P)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),n=!1}}(st.API);var Q4={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Y4=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],g0=X4(Y4),Z4=[100,200,300,400,500,600,700,800,900],CN=X4(Z4);function y0(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return Q4[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof g0[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function jv(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var LN={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Bv={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Vv(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function RN(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},LN,n.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=y0(e[a])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){o=t[s.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+Vv(s)+"' and default family '"+r+"'.");if(o=function(l,f){if(f[l])return f[l];var g=g0[l],p=g<=g0.normal?-1:1,w=jv(f,Y4,g,p);if(!w)throw new Error("Could not find a matching font-stretch value for "+l);return w}(s.stretch,o),o=function(l,f){if(f[l])return f[l];for(var g=Q4[l],p=0;p<g.length;++p)if(f[g[p]])return f[g[p]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,f){if(f[l])return f[l];if(l===400&&f[500])return f[500];if(l===500&&f[400])return f[400];var g=CN[l],p=jv(f,Z4,g,l<400?-1:1);if(!p)throw new Error("Could not find a matching font-weight for value "+l);return p}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+Vv(s)+"'.");return o}function Uv(t){return t.trimLeft()}function ON(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function DN(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Td,zv,qv,Hg=["times"];(function(t){var e,n,r,i,s,o,a,l,f,g=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new l,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new o,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new o,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,f=new g}]);var p=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var $=D;Object.defineProperty(this,"pdf",{get:function(){return $}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(be){G=!!be}});var Y=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Y},set:function(be){Y=!!be}});var re=0;Object.defineProperty(this,"posX",{get:function(){return re},set:function(be){isNaN(be)||(re=be)}});var ce=0;Object.defineProperty(this,"posY",{get:function(){return ce},set:function(be){isNaN(be)||(ce=be)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(be){var K;typeof be=="number"?K=[be,be,be,be]:((K=new Array(4))[0]=be[0],K[1]=be.length>=2?be[1]:K[0],K[2]=be.length>=3?be[2]:K[0],K[3]=be.length>=4?be[3]:K[1]),f.margin=K}});var me=!1;Object.defineProperty(this,"autoPaging",{get:function(){return me},set:function(be){me=be}});var ye=0;Object.defineProperty(this,"lastBreak",{get:function(){return ye},set:function(be){ye=be}});var Re=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Re},set:function(be){Re=be}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(be){be instanceof g&&(f=be)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(be){f.path=be}});var Te=[];Object.defineProperty(this,"ctxStack",{get:function(){return Te},set:function(be){Te=be}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(be){var K;K=w(be),this.ctx.fillStyle=K.style,this.ctx.isFillTransparent=K.a===0,this.ctx.fillOpacity=K.a,this.pdf.setFillColor(K.r,K.g,K.b,{a:K.a}),this.pdf.setTextColor(K.r,K.g,K.b,{a:K.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(be){var K=w(be);this.ctx.strokeStyle=K.style,this.ctx.isStrokeTransparent=K.a===0,this.ctx.strokeOpacity=K.a,K.a===0?this.pdf.setDrawColor(255,255,255):(K.a,this.pdf.setDrawColor(K.r,K.g,K.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(be){["butt","round","square"].indexOf(be)!==-1&&(this.ctx.lineCap=be,this.pdf.setLineCap(be))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(be){isNaN(be)||(this.ctx.lineWidth=be,this.pdf.setLineWidth(be))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(be){["bevel","round","miter"].indexOf(be)!==-1&&(this.ctx.lineJoin=be,this.pdf.setLineJoin(be))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(be){isNaN(be)||(this.ctx.miterLimit=be,this.pdf.setMiterLimit(be))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(be){this.ctx.textBaseline=be}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(be){["right","end","center","left","start"].indexOf(be)!==-1&&(this.ctx.textAlign=be)}});var je=null;function Fe(be,K){if(je===null){var ht=function(Ke){var ke=[];return Object.keys(Ke).forEach(function(De){Ke[De].forEach(function(ze){var Ve=null;switch(ze){case"bold":Ve={family:De,weight:"bold"};break;case"italic":Ve={family:De,style:"italic"};break;case"bolditalic":Ve={family:De,weight:"bold",style:"italic"};break;case"":case"normal":Ve={family:De}}Ve!==null&&(Ve.ref={name:De,style:ze},ke.push(Ve))})}),ke}(be.getFontList());je=function(Ke){for(var ke={},De=0;De<Ke.length;++De){var ze=y0(Ke[De]),Ve=ze.family,Xe=ze.stretch,at=ze.style,ft=ze.weight;ke[Ve]=ke[Ve]||{},ke[Ve][Xe]=ke[Ve][Xe]||{},ke[Ve][Xe][at]=ke[Ve][Xe][at]||{},ke[Ve][Xe][at][ft]=ze}return ke}(ht.concat(K))}return je}var et=null;Object.defineProperty(this,"fontFaces",{get:function(){return et},set:function(be){je=null,et=be}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(be){var K;if(this.ctx.font=be,(K=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(be))!==null){var ht=K[1],Ke=(K[2],K[3]),ke=K[4],De=(K[5],K[6]),ze=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ke)[2];ke=Math.floor(ze==="px"?parseFloat(ke)*this.pdf.internal.scaleFactor:ze==="em"?parseFloat(ke)*this.pdf.getFontSize():parseFloat(ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ke);var Ve=function(rt){var vt,qe,gn=[],Et=rt.trim();if(Et==="")return Hg;if(Et in Bv)return[Bv[Et]];for(;Et!=="";){switch(qe=null,vt=(Et=Uv(Et)).charAt(0)){case'"':case"'":qe=ON(Et.substring(1),vt);break;default:qe=DN(Et)}if(qe===null||(gn.push(qe[0]),(Et=Uv(qe[1]))!==""&&Et.charAt(0)!==","))return Hg;Et=Et.replace(/^,/,"")}return gn}(De);if(this.fontFaces){var Xe=RN(Fe(this.pdf,this.fontFaces),Ve.map(function(rt){return{family:rt,stretch:"normal",weight:Ke,style:ht}}));this.pdf.setFont(Xe.ref.name,Xe.ref.style)}else{var at="";(Ke==="bold"||parseInt(Ke,10)>=700||ht==="bold")&&(at="bold"),ht==="italic"&&(at+="italic"),at.length===0&&(at="normal");for(var ft="",Ye={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},it=0;it<Ve.length;it++){if(this.pdf.internal.getFont(Ve[it],at,{noFallback:!0,disableWarning:!0})!==void 0){ft=Ve[it];break}if(at==="bolditalic"&&this.pdf.internal.getFont(Ve[it],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ft=Ve[it],at="bold";else if(this.pdf.internal.getFont(Ve[it],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ft=Ve[it],at="normal";break}}if(ft===""){for(var kt=0;kt<Ve.length;kt++)if(Ye[Ve[kt]]){ft=Ye[Ve[kt]];break}}ft=ft===""?"Times":ft,this.pdf.setFont(ft,at)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(be){this.ctx.globalCompositeOperation=be}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(be){this.ctx.globalAlpha=be}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(be){this.ctx.lineDashOffset=be,xe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(be){this.ctx.lineDash=be,xe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(be){this.ctx.ignoreClearRect=!!be}})};p.prototype.setLineDash=function(D){this.lineDash=D},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){q.call(this,"fill",!1)},p.prototype.stroke=function(){q.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(D,$){if(isNaN(D)||isNaN($))throw Kt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new o(D,$));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(D,$)},p.prototype.closePath=function(){var D=new o(0,0),$=0;for($=this.path.length-1;$!==-1;$--)if(this.path[$].type==="begin"&&Ut(this.path[$+1])==="object"&&typeof this.path[$+1].x=="number"){D=new o(this.path[$+1].x,this.path[$+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(D.x,D.y)},p.prototype.lineTo=function(D,$){if(isNaN(D)||isNaN($))throw Kt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new o(D,$));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(G.x,G.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),q.call(this,null,!0)},p.prototype.quadraticCurveTo=function(D,$,G,Y){if(isNaN(G)||isNaN(Y)||isNaN(D)||isNaN($))throw Kt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var re=this.ctx.transform.applyToPoint(new o(G,Y)),ce=this.ctx.transform.applyToPoint(new o(D,$));this.path.push({type:"qct",x1:ce.x,y1:ce.y,x:re.x,y:re.y}),this.ctx.lastPoint=new o(re.x,re.y)},p.prototype.bezierCurveTo=function(D,$,G,Y,re,ce){if(isNaN(re)||isNaN(ce)||isNaN(D)||isNaN($)||isNaN(G)||isNaN(Y))throw Kt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var me=this.ctx.transform.applyToPoint(new o(re,ce)),ye=this.ctx.transform.applyToPoint(new o(D,$)),Re=this.ctx.transform.applyToPoint(new o(G,Y));this.path.push({type:"bct",x1:ye.x,y1:ye.y,x2:Re.x,y2:Re.y,x:me.x,y:me.y}),this.ctx.lastPoint=new o(me.x,me.y)},p.prototype.arc=function(D,$,G,Y,re,ce){if(isNaN(D)||isNaN($)||isNaN(G)||isNaN(Y)||isNaN(re))throw Kt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ce=!!ce,!this.ctx.transform.isIdentity){var me=this.ctx.transform.applyToPoint(new o(D,$));D=me.x,$=me.y;var ye=this.ctx.transform.applyToPoint(new o(0,G)),Re=this.ctx.transform.applyToPoint(new o(0,0));G=Math.sqrt(Math.pow(ye.x-Re.x,2)+Math.pow(ye.y-Re.y,2))}Math.abs(re-Y)>=2*Math.PI&&(Y=0,re=2*Math.PI),this.path.push({type:"arc",x:D,y:$,radius:G,startAngle:Y,endAngle:re,counterclockwise:ce})},p.prototype.arcTo=function(D,$,G,Y,re){throw new Error("arcTo not implemented.")},p.prototype.rect=function(D,$,G,Y){if(isNaN(D)||isNaN($)||isNaN(G)||isNaN(Y))throw Kt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,$),this.lineTo(D+G,$),this.lineTo(D+G,$+Y),this.lineTo(D,$+Y),this.lineTo(D,$),this.lineTo(D+G,$),this.lineTo(D,$)},p.prototype.fillRect=function(D,$,G,Y){if(isNaN(D)||isNaN($)||isNaN(G)||isNaN(Y))throw Kt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var re={};this.lineCap!=="butt"&&(re.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,$,G,Y),this.fill(),re.hasOwnProperty("lineCap")&&(this.lineCap=re.lineCap),re.hasOwnProperty("lineJoin")&&(this.lineJoin=re.lineJoin)}},p.prototype.strokeRect=function(D,$,G,Y){if(isNaN(D)||isNaN($)||isNaN(G)||isNaN(Y))throw Kt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");P.call(this)||(this.beginPath(),this.rect(D,$,G,Y),this.stroke())},p.prototype.clearRect=function(D,$,G,Y){if(isNaN(D)||isNaN($)||isNaN(G)||isNaN(Y))throw Kt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,$,G,Y))},p.prototype.save=function(D){D=typeof D!="boolean"||D;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage($),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var Y=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Y}},p.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage($),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(D){var $,G,Y,re;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))$=0,G=0,Y=0,re=0;else{var ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(ce!==null)$=parseInt(ce[1]),G=parseInt(ce[2]),Y=parseInt(ce[3]),re=1;else if((ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)$=parseInt(ce[1]),G=parseInt(ce[2]),Y=parseInt(ce[3]),re=parseFloat(ce[4]);else{if(re=1,typeof D=="string"&&D.charAt(0)!=="#"){var me=new $4(D);D=me.ok?me.toHex():"#000000"}D.length===4?($=D.substring(1,2),$+=$,G=D.substring(2,3),G+=G,Y=D.substring(3,4),Y+=Y):($=D.substring(1,3),G=D.substring(3,5),Y=D.substring(5,7)),$=parseInt($,16),G=parseInt(G,16),Y=parseInt(Y,16)}}return{r:$,g:G,b:Y,a:re,style:D}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},P=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(D,$,G,Y){if(isNaN($)||isNaN(G)||typeof D!="string")throw Kt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Y=isNaN(Y)?void 0:Y,!m.call(this)){var re=Q(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;I.call(this,{text:D,x:$,y:G,scale:ce,angle:re,align:this.textAlign,maxWidth:Y})}},p.prototype.strokeText=function(D,$,G,Y){if(isNaN($)||isNaN(G)||typeof D!="string")throw Kt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!P.call(this)){Y=isNaN(Y)?void 0:Y;var re=Q(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;I.call(this,{text:D,x:$,y:G,scale:ce,renderingMode:"stroke",angle:re,align:this.textAlign,maxWidth:Y})}},p.prototype.measureText=function(D){if(typeof D!="string")throw Kt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var $=this.pdf,G=this.pdf.internal.scaleFactor,Y=$.internal.getFontSize(),re=$.getStringUnitWidth(D)*Y/$.internal.scaleFactor,ce=function(me){var ye=(me=me||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ye}}),this};return new ce({width:re*=Math.round(96*G/72*1e4)/1e4})},p.prototype.scale=function(D,$){if(isNaN(D)||isNaN($))throw Kt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new l(D,0,0,$,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},p.prototype.rotate=function(D){if(isNaN(D))throw Kt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var $=new l(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply($)},p.prototype.translate=function(D,$){if(isNaN(D)||isNaN($))throw Kt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new l(1,0,0,1,D,$);this.ctx.transform=this.ctx.transform.multiply(G)},p.prototype.transform=function(D,$,G,Y,re,ce){if(isNaN(D)||isNaN($)||isNaN(G)||isNaN(Y)||isNaN(re)||isNaN(ce))throw Kt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var me=new l(D,$,G,Y,re,ce);this.ctx.transform=this.ctx.transform.multiply(me)},p.prototype.setTransform=function(D,$,G,Y,re,ce){D=isNaN(D)?1:D,$=isNaN($)?0:$,G=isNaN(G)?0:G,Y=isNaN(Y)?1:Y,re=isNaN(re)?0:re,ce=isNaN(ce)?0:ce,this.ctx.transform=new l(D,$,G,Y,re,ce)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(D,$,G,Y,re,ce,me,ye,Re){var Te=this.pdf.getImageProperties(D),je=1,Fe=1,et=1,be=1;Y!==void 0&&ye!==void 0&&(et=ye/Y,be=Re/re,je=Te.width/Y*ye/Y,Fe=Te.height/re*Re/re),ce===void 0&&(ce=$,me=G,$=0,G=0),Y!==void 0&&ye===void 0&&(ye=Y,Re=re),Y===void 0&&ye===void 0&&(ye=Te.width,Re=Te.height);for(var K,ht=this.ctx.transform.decompose(),Ke=Q(ht.rotate.shx),ke=new l,De=(ke=(ke=(ke=ke.multiply(ht.translate)).multiply(ht.skew)).multiply(ht.scale)).applyToRectangle(new a(ce-$*et,me-G*be,Y*je,re*Fe)),ze=F.call(this,De),Ve=[],Xe=0;Xe<ze.length;Xe+=1)Ve.indexOf(ze[Xe])===-1&&Ve.push(ze[Xe]);if(O(Ve),this.autoPaging)for(var at=Ve[0],ft=Ve[Ve.length-1],Ye=at;Ye<ft+1;Ye++){this.pdf.setPage(Ye);var it=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],kt=Ye===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qe=Ye===1?0:rt+(Ye-2)*vt;if(this.ctx.clip_path.length!==0){var gn=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(K,this.posX+this.margin[3],-qe+kt+this.ctx.prevPageLastElemOffset),X.call(this,"fill",!0),this.path=gn}var Et=JSON.parse(JSON.stringify(De));Et=b([Et],this.posX+this.margin[3],-qe+kt+this.ctx.prevPageLastElemOffset)[0];var qr=(Ye>at||Ye<ft)&&N.call(this);qr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,vt,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",Et.x,Et.y,Et.w,Et.h,null,null,Ke),qr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(D,"JPEG",De.x,De.y,De.w,De.h,null,null,Ke)};var F=function(D,$,G){var Y=[];$=$||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var re=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":Y.push(Math.floor((D.y+re)/G)+1);break;case"arc":Y.push(Math.floor((D.y+re-D.radius)/G)+1),Y.push(Math.floor((D.y+re+D.radius)/G)+1);break;case"qct":var ce=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);Y.push(Math.floor((ce.y+re)/G)+1),Y.push(Math.floor((ce.y+ce.h+re)/G)+1);break;case"bct":var me=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);Y.push(Math.floor((me.y+re)/G)+1),Y.push(Math.floor((me.y+me.h+re)/G)+1);break;case"rect":Y.push(Math.floor((D.y+re)/G)+1),Y.push(Math.floor((D.y+D.h+re)/G)+1)}for(var ye=0;ye<Y.length;ye+=1)for(;this.pdf.internal.getNumberOfPages()<Y[ye];)A.call(this);return Y},A=function(){var D=this.fillStyle,$=this.strokeStyle,G=this.font,Y=this.lineCap,re=this.lineWidth,ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=$,this.font=G,this.lineCap=Y,this.lineWidth=re,this.lineJoin=ce},b=function(D,$,G){for(var Y=0;Y<D.length;Y++)switch(D[Y].type){case"bct":D[Y].x2+=$,D[Y].y2+=G;case"qct":D[Y].x1+=$,D[Y].y1+=G;case"mt":case"lt":case"arc":default:D[Y].x+=$,D[Y].y+=G}return D},O=function(D){return D.sort(function($,G){return $-G})},q=function(D,$){for(var G,Y,re=this.fillStyle,ce=this.strokeStyle,me=this.lineCap,ye=this.lineWidth,Re=Math.abs(ye*this.ctx.transform.scaleX),Te=this.lineJoin,je=JSON.parse(JSON.stringify(this.path)),Fe=JSON.parse(JSON.stringify(this.path)),et=[],be=0;be<Fe.length;be++)if(Fe[be].x!==void 0)for(var K=F.call(this,Fe[be]),ht=0;ht<K.length;ht+=1)et.indexOf(K[ht])===-1&&et.push(K[ht]);for(var Ke=0;Ke<et.length;Ke++)for(;this.pdf.internal.getNumberOfPages()<et[Ke];)A.call(this);if(O(et),this.autoPaging)for(var ke=et[0],De=et[et.length-1],ze=ke;ze<De+1;ze++){this.pdf.setPage(ze),this.fillStyle=re,this.strokeStyle=ce,this.lineCap=me,this.lineWidth=Re,this.lineJoin=Te;var Ve=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xe=ze===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ye=ze===1?0:at+(ze-2)*ft;if(this.ctx.clip_path.length!==0){var it=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(G,this.posX+this.margin[3],-Ye+Xe+this.ctx.prevPageLastElemOffset),X.call(this,D,!0),this.path=it}if(Y=JSON.parse(JSON.stringify(je)),this.path=b(Y,this.posX+this.margin[3],-Ye+Xe+this.ctx.prevPageLastElemOffset),$===!1||ze===0){var kt=(ze>ke||ze<De)&&N.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ve,ft,null).clip().discardPath()),X.call(this,D,$),kt&&this.pdf.restoreGraphicsState()}this.lineWidth=ye}else this.lineWidth=Re,X.call(this,D,$),this.lineWidth=ye;this.path=je},X=function(D,$){if((D!=="stroke"||$||!P.call(this))&&(D==="stroke"||$||!m.call(this))){for(var G,Y,re=[],ce=this.path,me=0;me<ce.length;me++){var ye=ce[me];switch(ye.type){case"begin":re.push({begin:!0});break;case"close":re.push({close:!0});break;case"mt":re.push({start:ye,deltas:[],abs:[]});break;case"lt":var Re=re.length;if(ce[me-1]&&!isNaN(ce[me-1].x)&&(G=[ye.x-ce[me-1].x,ye.y-ce[me-1].y],Re>0)){for(;Re>=0;Re--)if(re[Re-1].close!==!0&&re[Re-1].begin!==!0){re[Re-1].deltas.push(G),re[Re-1].abs.push(ye);break}}break;case"bct":G=[ye.x1-ce[me-1].x,ye.y1-ce[me-1].y,ye.x2-ce[me-1].x,ye.y2-ce[me-1].y,ye.x-ce[me-1].x,ye.y-ce[me-1].y],re[re.length-1].deltas.push(G);break;case"qct":var Te=ce[me-1].x+2/3*(ye.x1-ce[me-1].x),je=ce[me-1].y+2/3*(ye.y1-ce[me-1].y),Fe=ye.x+2/3*(ye.x1-ye.x),et=ye.y+2/3*(ye.y1-ye.y),be=ye.x,K=ye.y;G=[Te-ce[me-1].x,je-ce[me-1].y,Fe-ce[me-1].x,et-ce[me-1].y,be-ce[me-1].x,K-ce[me-1].y],re[re.length-1].deltas.push(G);break;case"arc":re.push({deltas:[],abs:[],arc:!0}),Array.isArray(re[re.length-1].abs)&&re[re.length-1].abs.push(ye)}}Y=$?null:D==="stroke"?"stroke":"fill";for(var ht=!1,Ke=0;Ke<re.length;Ke++)if(re[Ke].arc)for(var ke=re[Ke].abs,De=0;De<ke.length;De++){var ze=ke[De];ze.type==="arc"?x.call(this,ze.x,ze.y,ze.radius,ze.startAngle,ze.endAngle,ze.counterclockwise,void 0,$,!ht):T.call(this,ze.x,ze.y),ht=!0}else if(re[Ke].close===!0)this.pdf.internal.out("h"),ht=!1;else if(re[Ke].begin!==!0){var Ve=re[Ke].start.x,Xe=re[Ke].start.y;J.call(this,re[Ke].deltas,Ve,Xe),ht=!0}Y&&R.call(this,Y),$&&B.call(this)}},ee=function(D){var $=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=$*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-G;case"top":return D+$-G;case"hanging":return D+$-2*G;case"middle":return D+$/2-G;case"ideographic":return D;case"alphabetic":default:return D}},L=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function($,G){this.colorStops.push([$,G])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var x=function(D,$,G,Y,re,ce,me,ye,Re){for(var Te=pe.call(this,G,Y,re,ce),je=0;je<Te.length;je++){var Fe=Te[je];je===0&&(Re?S.call(this,Fe.x1+D,Fe.y1+$):T.call(this,Fe.x1+D,Fe.y1+$)),ge.call(this,D,$,Fe.x2,Fe.y2,Fe.x3,Fe.y3,Fe.x4,Fe.y4)}ye?B.call(this):R.call(this,me)},R=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},B=function(){this.pdf.clip(),this.pdf.discardPath()},S=function(D,$){this.pdf.internal.out(n(D)+" "+r($)+" m")},I=function(D){var $;switch(D.align){case"right":case"end":$="right";break;case"center":$="center";break;case"left":case"start":default:$="left"}var G=this.pdf.getTextDimensions(D.text),Y=ee.call(this,D.y),re=L.call(this,Y)-G.h,ce=this.ctx.transform.applyToPoint(new o(D.x,Y)),me=this.ctx.transform.decompose(),ye=new l;ye=(ye=(ye=ye.multiply(me.translate)).multiply(me.skew)).multiply(me.scale);for(var Re,Te,je,Fe=this.ctx.transform.applyToRectangle(new a(D.x,Y,G.w,G.h)),et=ye.applyToRectangle(new a(D.x,re,G.w,G.h)),be=F.call(this,et),K=[],ht=0;ht<be.length;ht+=1)K.indexOf(be[ht])===-1&&K.push(be[ht]);if(O(K),this.autoPaging)for(var Ke=K[0],ke=K[K.length-1],De=Ke;De<ke+1;De++){this.pdf.setPage(De);var ze=De===1?this.posY+this.margin[0]:this.margin[0],Ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xe=this.pdf.internal.pageSize.height-this.margin[2],at=Xe-this.margin[0],ft=this.pdf.internal.pageSize.width-this.margin[1],Ye=ft-this.margin[3],it=De===1?0:Ve+(De-2)*at;if(this.ctx.clip_path.length!==0){var kt=this.path;Re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Re,this.posX+this.margin[3],-1*it+ze),X.call(this,"fill",!0),this.path=kt}var rt=b([JSON.parse(JSON.stringify(et))],this.posX+this.margin[3],-it+ze+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(Te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Te*D.scale),je=this.lineWidth,this.lineWidth=je*D.scale);var vt=this.autoPaging!=="text";if(vt||rt.y+rt.h<=Xe){if(vt||rt.y>=ze&&rt.x<=ft){var qe=vt?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||ft-rt.x)[0],gn=b([JSON.parse(JSON.stringify(Fe))],this.posX+this.margin[3],-it+ze+this.ctx.prevPageLastElemOffset)[0],Et=vt&&(De>Ke||De<ke)&&N.call(this);Et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ye,at,null).clip().discardPath()),this.pdf.text(qe,gn.x,gn.y,{angle:D.angle,align:$,renderingMode:D.renderingMode}),Et&&this.pdf.restoreGraphicsState()}}else rt.y<Xe&&(this.ctx.prevPageLastElemOffset+=Xe-rt.y);D.scale>=.01&&(this.pdf.setFontSize(Te),this.lineWidth=je)}else D.scale>=.01&&(Te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Te*D.scale),je=this.lineWidth,this.lineWidth=je*D.scale),this.pdf.text(D.text,ce.x+this.posX,ce.y+this.posY,{angle:D.angle,align:$,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(Te),this.lineWidth=je)},T=function(D,$,G,Y){G=G||0,Y=Y||0,this.pdf.internal.out(n(D+G)+" "+r($+Y)+" l")},J=function(D,$,G){return this.pdf.lines(D,$,G,null,null)},ge=function(D,$,G,Y,re,ce,me,ye){this.pdf.internal.out([e(i(G+D)),e(s(Y+$)),e(i(re+D)),e(s(ce+$)),e(i(me+D)),e(s(ye+$)),"c"].join(" "))},pe=function(D,$,G,Y){for(var re=2*Math.PI,ce=Math.PI/2;$>G;)$-=re;var me=Math.abs(G-$);me<re&&Y&&(me=re-me);for(var ye=[],Re=Y?-1:1,Te=$;me>1e-5;){var je=Te+Re*Math.min(me,ce);ye.push(ve.call(this,D,Te,je)),me-=Math.abs(je-Te),Te=je}return ye},ve=function(D,$,G){var Y=(G-$)/2,re=D*Math.cos(Y),ce=D*Math.sin(Y),me=re,ye=-ce,Re=me*me+ye*ye,Te=Re+me*re+ye*ce,je=4/3*(Math.sqrt(2*Re*Te)-Te)/(me*ce-ye*re),Fe=me-je*ye,et=ye+je*me,be=Fe,K=-et,ht=Y+$,Ke=Math.cos(ht),ke=Math.sin(ht);return{x1:D*Math.cos($),y1:D*Math.sin($),x2:Fe*Ke-et*ke,y2:Fe*ke+et*Ke,x3:be*Ke-K*ke,y3:be*ke+K*Ke,x4:D*Math.cos(G),y4:D*Math.sin(G)}},Q=function(D){return 180*D/Math.PI},le=function(D,$,G,Y,re,ce){var me=D+.5*(G-D),ye=$+.5*(Y-$),Re=re+.5*(G-re),Te=ce+.5*(Y-ce),je=Math.min(D,re,me,Re),Fe=Math.max(D,re,me,Re),et=Math.min($,ce,ye,Te),be=Math.max($,ce,ye,Te);return new a(je,et,Fe-je,be-et)},ue=function(D,$,G,Y,re,ce,me,ye){var Re,Te,je,Fe,et,be,K,ht,Ke,ke,De,ze,Ve,Xe,at=G-D,ft=Y-$,Ye=re-G,it=ce-Y,kt=me-re,rt=ye-ce;for(Te=0;Te<41;Te++)Ke=(K=(je=D+(Re=Te/40)*at)+Re*((et=G+Re*Ye)-je))+Re*(et+Re*(re+Re*kt-et)-K),ke=(ht=(Fe=$+Re*ft)+Re*((be=Y+Re*it)-Fe))+Re*(be+Re*(ce+Re*rt-be)-ht),Te==0?(De=Ke,ze=ke,Ve=Ke,Xe=ke):(De=Math.min(De,Ke),ze=Math.min(ze,ke),Ve=Math.max(Ve,Ke),Xe=Math.max(Xe,ke));return new a(Math.round(De),Math.round(ze),Math.round(Ve-De),Math.round(Xe-ze))},xe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,$,G=(D=this.ctx.lineDash,$=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:$}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(st.API),function(t){var e=function(s){var o,a,l,f,g,p,w,m,P,N;for(a=[],l=0,f=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;f>l;l+=4)(g=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(p=(g=((g=((g=((g=(g-(N=g%85))/85)-(P=g%85))/85)-(m=g%85))/85)-(w=g%85))/85)%85,a.push(p+33,w+33,m+33,P+33,N+33)):a.push(122);return function(F,A){for(var b=A;b>0;b--)F.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,l,f,g,p=String,w="length",m=255,P="charCodeAt",N="slice",F="replace";for(s[N](-2),s=s[N](0,-2)[F](/\s/g,"")[F]("z","!!!!!"),l=[],f=0,g=(s+=o="uuuuu"[N](s[w]%5||5))[w];g>f;f+=5)a=52200625*(s[P](f)-33)+614125*(s[P](f+1)-33)+7225*(s[P](f+2)-33)+85*(s[P](f+3)-33)+(s[P](f+4)-33),l.push(m&a>>24,m&a>>16,m&a>>8,m&a);return function(A,b){for(var O=b;O>0;O--)A.pop()}(l,o[w]),p.fromCharCode.apply(p,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=h0(o)).reduce(function(l,f){return l+String.fromCharCode(f)},"")};t.processDataByFilters=function(s,o){var a=0,l=s||"",f=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(g){return("0"+g.charCodeAt().toString(16)).slice(-2)}).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:f.reverse().join(" ")}}}(st.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,f,g){var p=new XMLHttpRequest,w=0,m=function(P){var N=P.length,F=[],A=String.fromCharCode;for(w=0;w<N;w+=1)F.push(A(255&P.charCodeAt(w)));return F.join("")};if(p.open("GET",l,!f),p.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(p.onload=function(){p.status===200?g(m(this.responseText)):g(void 0)}),p.send(null),f&&p.status===200)return m(p.responseText)}(i,s,o)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(st.API),function(t){function e(){return(ot.html2canvas?Promise.resolve(ot.html2canvas):o0(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(ot.DOMPurify?Promise.resolve(ot.DOMPurify):o0(()=>import("./purify.es-a-CayzAK.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=Ut(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var f in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[f]=a.style[f];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),f=o.convert(Promise.resolve(),l);return f=(f=f.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(f,g){for(var p=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),w=f.firstChild;w;w=w.nextSibling)g!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||p.appendChild(l(w,g));return f.nodeType===1&&(f.nodeName==="CANVAS"?(p.width=f.width,p.height=f.height,p.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(p.value=f.value),p.addEventListener("load",function(){p.scrollTop=f.scrollTop,p.scrollLeft=f.scrollLeft},!0)),p}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=this.opt.jsPDF,f=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=f,f)for(var w=0;w<f.length;++w){var m=f[w],P=m.src.find(function(N){return N.format==="truetype"});P&&l.addFont(P.url,m.ref.name,m.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,l.context2d.save(!0),a(this.prop.container,p)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,f){return Math.floor(l*f/72*96)}return this.then(function(){(o=o||st.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,f){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,f){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,f?this.progress.stack.concat(f):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(f,g){return l.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(p){return l.updateProgress(null,f),p}).then(f,g).then(function(p){return l.updateProgress(1),p})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),g=l.call(f,o,a);return s.convert(g,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,st.getPageSize=function(o,a,l){if(Ut(o)==="object"){var f=o;o=f.orientation,a=f.unit||a,l=f.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var g,p=(""+l).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+a}var m,P=0,N=0;if(w.hasOwnProperty(p))P=w[p][1]/g,N=w[p][0]/g;else try{P=l[1],N=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",N>P&&(m=N,N=P,P=m);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",P>N&&(m=N,N=P,P=m)}return{width:N,height:P,unit:a,k:g,orientation:o}},t.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(y0):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(st.API),st.API.addJS=function(t){return qv=t,this.internal.events.subscribe("postPutResources",function(){Td=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Td+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+qv+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Td!==void 0&&zv!==void 0&&this.internal.out("/Names <</JavaScript "+Td+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,g=[];for(s=0;s<f;s++){var p=n.internal.newObject();g.push(p);var w=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var m=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<g.length;s++)n.internal.write("(page_"+(s+1)+")"+g[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+m+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<r.children.length;f++)this.renderItems(r.children[f])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(st.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var l,f=this.decode.DCT_DECODE,g=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(p){for(var w,m=256*p.charCodeAt(4)+p.charCodeAt(5),P=p.length,N={width:0,height:0,numcomponents:1},F=4;F<P;F+=2){if(F+=m,e.indexOf(p.charCodeAt(F+1))!==-1){w=256*p.charCodeAt(F+5)+p.charCodeAt(F+6),N={width:256*p.charCodeAt(F+7)+p.charCodeAt(F+8),height:w,numcomponents:p.charCodeAt(F+9)};break}m=256*p.charCodeAt(F+2)+p.charCodeAt(F+3)}return N}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}g={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:f,index:r,alias:i}}return g}}(st.API);var Eu,kd,$v,Hv,Wv,FN=function(){var t,e,n;function r(s){var o,a,l,f,g,p,w,m,P,N,F,A,b,O;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},p=null;;){switch(o=this.readUInt32(),P=(function(){var q,X;for(X=[],q=0;q<4;++q)X.push(String.fromCharCode(this.data[this.pos++]));return X}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":p&&this.animation.frames.push(p),this.pos+=4,p={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},g=this.readUInt16(),f=this.readUInt16()||100,p.delay=1e3*g/f,p.disposeOp=this.data[this.pos++],p.blendOp=this.data[this.pos++],p.data=[];break;case"IDAT":case"fdAT":for(P==="fdAT"&&(this.pos+=4,o-=4),s=(p!=null?p.data:void 0)||this.imgData,A=0;0<=o?A<o:A>o;0<=o?++A:--A)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((N=l-this.transparency.indexed.length)>0)for(b=0;0<=N?b<N:b>N;0<=N?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":w=(F=this.read(o)).indexOf(0),m=String.fromCharCode.apply(String,F.slice(0,w)),this.text[m]=String.fromCharCode.apply(String,F.slice(w+1));break;case"IEND":return p&&this.animation.frames.push(p),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(O=this.colorType)===4||O===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,f=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function g(p,w,m,P){var N,F,A,b,O,q,X,ee,L,x,R,B,S,I,T,J,ge,pe,ve,Q,le,ue=Math.ceil((f.width-p)/m),xe=Math.ceil((f.height-w)/P),D=f.width==ue&&f.height==xe;for(I=o*ue,B=D?a:new Uint8Array(I*xe),q=s.length,S=0,F=0;S<xe&&l<q;){switch(s[l++]){case 0:for(b=ge=0;ge<I;b=ge+=1)B[F++]=s[l++];break;case 1:for(b=pe=0;pe<I;b=pe+=1)N=s[l++],O=b<o?0:B[F-o],B[F++]=(N+O)%256;break;case 2:for(b=ve=0;ve<I;b=ve+=1)N=s[l++],A=(b-b%o)/o,T=S&&B[(S-1)*I+A*o+b%o],B[F++]=(T+N)%256;break;case 3:for(b=Q=0;Q<I;b=Q+=1)N=s[l++],A=(b-b%o)/o,O=b<o?0:B[F-o],T=S&&B[(S-1)*I+A*o+b%o],B[F++]=(N+Math.floor((O+T)/2))%256;break;case 4:for(b=le=0;le<I;b=le+=1)N=s[l++],A=(b-b%o)/o,O=b<o?0:B[F-o],S===0?T=J=0:(T=B[(S-1)*I+A*o+b%o],J=A&&B[(S-1)*I+(A-1)*o+b%o]),X=O+T-J,ee=Math.abs(X-O),x=Math.abs(X-T),R=Math.abs(X-J),L=ee<=x&&ee<=R?O:x<=R?T:J,B[F++]=(N+L)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!D){var $=((w+S*P)*f.width+p)*o,G=S*I;for(b=0;b<ue;b+=1){for(var Y=0;Y<o;Y+=1)a[$++]=B[G++];$+=(m-1)*o}}S++}}return s=pN(s),f.interlaceMethod==1?(g(0,0,8,8),g(4,0,8,8),g(0,4,4,8),g(2,0,4,4),g(0,2,2,4),g(1,0,2,2),g(0,1,1,2)):g(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,f,g,p,w,m;for(a=this.palette,g=this.transparency.indexed||[],f=new Uint8Array((g.length||0)+a.length),l=0,s=0,o=p=0,w=a.length;p<w;o=p+=3)f[l++]=a[o],f[l++]=a[o+1],f[l++]=a[o+2],f[l++]=(m=g[s++])!=null?m:255;return f},r.prototype.copyToImageData=function(s,o){var a,l,f,g,p,w,m,P,N,F,A;if(l=this.colors,N=null,a=this.hasAlphaChannel,this.palette.length&&(N=(A=this._decodedPalette)!=null?A:this._decodedPalette=this.decodePalette(),l=4,a=!0),P=(f=s.data||s).length,p=N||o,g=w=0,l===1)for(;g<P;)m=N?4*o[g/4]:w,F=p[m++],f[g++]=F,f[g++]=F,f[g++]=F,f[g++]=a?p[m++]:255,w=m;else for(;g<P;)m=N?4*o[g/4]:w,f[g++]=p[m++],f[g++]=p[m++],f[g++]=p[m++],f[g++]=a?p[m++]:255,w=m},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(ot)==="[object Window]"){try{e=ot.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,f,g,p,w,m;if(this.animation){for(m=[],a=g=0,p=(w=this.animation.frames).length;g<p;a=++g)o=w[a],l=s.createImageData(o.width,o.height),f=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,f),o.imageData=l,m.push(o.image=t(l));return m}},r.prototype.renderFrame=function(s,o){var a,l,f;return a=(l=this.animation.frames)[o],f=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(f!=null?f.disposeOp:void 0)===1?s.clearRect(f.xOffset,f.yOffset,f.width,f.height):(f!=null?f.disposeOp:void 0)===2&&s.putImageData(f.imageData,f.xOffset,f.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,f,g,p,w=this;return a=0,p=this.animation,f=p.numFrames,l=p.frames,g=p.numPlays,(o=function(){var m,P;if(m=a++%f,P=l[m],w.renderFrame(s,m),f>1&&a/f<g)return w.animation._timeout=setTimeout(o,P.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function MN(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var f=!0,g=[],p=0,w=null,m=0,P=null;for(this.width=n,this.height=r;f&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,P=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var N=t[e++];p=t[e++]|t[e++]<<8,w=t[e++],!(1&N)&&(w=null),m=N>>2&7,e++;break;case 254:for(;;){if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var F=t[e++]|t[e++]<<8,A=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,O=t[e++]|t[e++]<<8,q=t[e++],X=q>>6&1,ee=1<<(7&q)+1,L=a,x=l,R=!1;q>>7&&(R=!0,L=e,x=ee,e+=3*ee);var B=e;for(e++;;){var S;if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}g.push({x:F,y:A,width:b,height:O,has_local_palette:R,palette_offset:L,palette_size:x,data_offset:B,data_length:e-B,transparent_index:w,interlaced:!!X,delay:p,disposal:m});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return P},this.frameInfo=function(I){if(I<0||I>=g.length)throw new Error("Frame index out of range.");return g[I]},this.decodeAndBlitFrameBGRA=function(I,T){var J=this.frameInfo(I),ge=J.width*J.height,pe=new Uint8Array(ge);Gv(t,J.data_offset,pe,ge);var ve=J.palette_offset,Q=J.transparent_index;Q===null&&(Q=256);var le=J.width,ue=n-le,xe=le,D=4*(J.y*n+J.x),$=4*((J.y+J.height)*n+J.x),G=D,Y=4*ue;J.interlaced===!0&&(Y+=4*n*7);for(var re=8,ce=0,me=pe.length;ce<me;++ce){var ye=pe[ce];if(xe===0&&(xe=le,(G+=Y)>=$&&(Y=4*ue+4*n*(re-1),G=D+(le+ue)*(re<<1),re>>=1)),ye===Q)G+=4;else{var Re=t[ve+3*ye],Te=t[ve+3*ye+1],je=t[ve+3*ye+2];T[G++]=je,T[G++]=Te,T[G++]=Re,T[G++]=255}--xe}},this.decodeAndBlitFrameRGBA=function(I,T){var J=this.frameInfo(I),ge=J.width*J.height,pe=new Uint8Array(ge);Gv(t,J.data_offset,pe,ge);var ve=J.palette_offset,Q=J.transparent_index;Q===null&&(Q=256);var le=J.width,ue=n-le,xe=le,D=4*(J.y*n+J.x),$=4*((J.y+J.height)*n+J.x),G=D,Y=4*ue;J.interlaced===!0&&(Y+=4*n*7);for(var re=8,ce=0,me=pe.length;ce<me;++ce){var ye=pe[ce];if(xe===0&&(xe=le,(G+=Y)>=$&&(Y=4*ue+4*n*(re-1),G=D+(le+ue)*(re<<1),re>>=1)),ye===Q)G+=4;else{var Re=t[ve+3*ye],Te=t[ve+3*ye+1],je=t[ve+3*ye+2];T[G++]=Re,T[G++]=Te,T[G++]=je,T[G++]=255}--xe}}}function Gv(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,f=(1<<l)-1,g=0,p=0,w=0,m=t[e++],P=new Int32Array(4096),N=null;;){for(;g<16&&m!==0;)p|=t[e++]<<g,g+=8,m===1?m=t[e++]:--m;if(g<l)break;var F=p&f;if(p>>=l,g-=l,F!==s){if(F===o)break;for(var A=F<a?F:N,b=0,O=A;O>s;)O=P[O]>>8,++b;var q=O;if(w+b+(A!==F?1:0)>r)return void Kt.log("Warning, gif stream longer than expected.");n[w++]=q;var X=w+=b;for(A!==F&&(n[w++]=q),O=A;b--;)O=P[O],n[--X]=255&O,O>>=8;N!==null&&a<4096&&(P[a++]=N<<8|q,a>=f+1&&l<12&&(++l,f=f<<1|1)),N=F}else a=o+1,f=(1<<(l=i+1))-1,N=null}return w!==r&&Kt.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Wg(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),f=new Array(64),g=new Array(64),p=new Array(65535),w=new Array(65535),m=new Array(64),P=new Array(64),N=[],F=0,A=7,b=new Array(64),O=new Array(64),q=new Array(64),X=new Array(256),ee=new Array(2048),L=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],x=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],S=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ge=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function pe(D,$){for(var G=0,Y=0,re=new Array,ce=1;ce<=16;ce++){for(var me=1;me<=D[ce];me++)re[$[Y]]=[],re[$[Y]][0]=G,re[$[Y]][1]=ce,Y++,G++;G*=2}return re}function ve(D){for(var $=D[0],G=D[1]-1;G>=0;)$&1<<G&&(F|=1<<A),G--,--A<0&&(F==255?(Q(255),Q(0)):Q(F),A=7,F=0)}function Q(D){N.push(D)}function le(D){Q(D>>8&255),Q(255&D)}function ue(D,$,G,Y,re){for(var ce,me=re[0],ye=re[240],Re=function(ke,De){var ze,Ve,Xe,at,ft,Ye,it,kt,rt,vt,qe=0;for(rt=0;rt<8;++rt){ze=ke[qe],Ve=ke[qe+1],Xe=ke[qe+2],at=ke[qe+3],ft=ke[qe+4],Ye=ke[qe+5],it=ke[qe+6];var gn=ze+(kt=ke[qe+7]),Et=ze-kt,qr=Ve+it,Ot=Ve-it,Xt=Xe+Ye,Ei=Xe-Ye,Nt=at+ft,vs=at-ft,nn=gn+Nt,er=gn-Nt,oi=qr+Xt,Qt=qr-Xt;ke[qe]=nn+oi,ke[qe+4]=nn-oi;var tt=.707106781*(Qt+er);ke[qe+2]=er+tt,ke[qe+6]=er-tt;var Ct=.382683433*((nn=vs+Ei)-(Qt=Ot+Et)),xi=.5411961*nn+Ct,Ln=1.306562965*Qt+Ct,dr=.707106781*(oi=Ei+Ot),ai=Et+dr,He=Et-dr;ke[qe+5]=He+xi,ke[qe+3]=He-xi,ke[qe+1]=ai+Ln,ke[qe+7]=ai-Ln,qe+=8}for(qe=0,rt=0;rt<8;++rt){ze=ke[qe],Ve=ke[qe+8],Xe=ke[qe+16],at=ke[qe+24],ft=ke[qe+32],Ye=ke[qe+40],it=ke[qe+48];var $r=ze+(kt=ke[qe+56]),pr=ze-kt,Rn=Ve+it,Sn=Ve-it,yn=Xe+Ye,On=Xe-Ye,Mo=at+ft,Vi=at-ft,mr=$r+Mo,Hr=$r-Mo,Rr=Rn+yn,Or=Rn-yn;ke[qe]=mr+Rr,ke[qe+32]=mr-Rr;var En=.707106781*(Or+Hr);ke[qe+16]=Hr+En,ke[qe+48]=Hr-En;var li=.382683433*((mr=Vi+On)-(Or=Sn+pr)),ws=.5411961*mr+li,_s=1.306562965*Or+li,bs=.707106781*(Rr=On+Sn),Js=pr+bs,Xs=pr-bs;ke[qe+40]=Xs+ws,ke[qe+24]=Xs-ws,ke[qe+8]=Js+_s,ke[qe+56]=Js-_s,qe++}for(rt=0;rt<64;++rt)vt=ke[rt]*De[rt],m[rt]=vt>0?vt+.5|0:vt-.5|0;return m}(D,$),Te=0;Te<64;++Te)P[L[Te]]=Re[Te];var je=P[0]-G;G=P[0],je==0?ve(Y[0]):(ve(Y[w[ce=32767+je]]),ve(p[ce]));for(var Fe=63;Fe>0&&P[Fe]==0;)Fe--;if(Fe==0)return ve(me),G;for(var et,be=1;be<=Fe;){for(var K=be;P[be]==0&&be<=Fe;)++be;var ht=be-K;if(ht>=16){et=ht>>4;for(var Ke=1;Ke<=et;++Ke)ve(ye);ht&=15}ce=32767+P[be],ve(re[(ht<<4)+w[ce]]),ve(p[ce]),be++}return Fe!=63&&ve(me),G}function xe(D){D=Math.min(Math.max(D,1),100),s!=D&&(function($){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Y=0;Y<64;Y++){var re=o((G[Y]*$+50)/100);re=Math.min(Math.max(re,1),255),a[L[Y]]=re}for(var ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],me=0;me<64;me++){var ye=o((ce[me]*$+50)/100);ye=Math.min(Math.max(ye,1),255),l[L[me]]=ye}for(var Re=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Te=0,je=0;je<8;je++)for(var Fe=0;Fe<8;Fe++)f[Te]=1/(a[L[Te]]*Re[je]*Re[Fe]*8),g[Te]=1/(l[L[Te]]*Re[je]*Re[Fe]*8),Te++}(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),s=D)}this.encode=function(D,$){$&&xe($),N=new Array,F=0,A=7,le(65496),le(65504),le(16),Q(74),Q(70),Q(73),Q(70),Q(0),Q(1),Q(1),Q(0),le(1),le(1),Q(0),Q(0),function(){le(65499),le(132),Q(0);for(var Ve=0;Ve<64;Ve++)Q(a[Ve]);Q(1);for(var Xe=0;Xe<64;Xe++)Q(l[Xe])}(),function(Ve,Xe){le(65472),le(17),Q(8),le(Xe),le(Ve),Q(3),Q(1),Q(17),Q(0),Q(2),Q(17),Q(1),Q(3),Q(17),Q(1)}(D.width,D.height),function(){le(65476),le(418),Q(0);for(var Ve=0;Ve<16;Ve++)Q(x[Ve+1]);for(var Xe=0;Xe<=11;Xe++)Q(R[Xe]);Q(16);for(var at=0;at<16;at++)Q(B[at+1]);for(var ft=0;ft<=161;ft++)Q(S[ft]);Q(1);for(var Ye=0;Ye<16;Ye++)Q(I[Ye+1]);for(var it=0;it<=11;it++)Q(T[it]);Q(17);for(var kt=0;kt<16;kt++)Q(J[kt+1]);for(var rt=0;rt<=161;rt++)Q(ge[rt])}(),le(65498),le(12),Q(3),Q(1),Q(0),Q(2),Q(17),Q(3),Q(17),Q(0),Q(63),Q(0);var G=0,Y=0,re=0;F=0,A=7,this.encode.displayName="_encode_";for(var ce,me,ye,Re,Te,je,Fe,et,be,K=D.data,ht=D.width,Ke=D.height,ke=4*ht,De=0;De<Ke;){for(ce=0;ce<ke;){for(Te=ke*De+ce,Fe=-1,et=0,be=0;be<64;be++)je=Te+(et=be>>3)*ke+(Fe=4*(7&be)),De+et>=Ke&&(je-=ke*(De+1+et-Ke)),ce+Fe>=ke&&(je-=ce+Fe-ke+4),me=K[je++],ye=K[je++],Re=K[je++],b[be]=(ee[me]+ee[ye+256>>0]+ee[Re+512>>0]>>16)-128,O[be]=(ee[me+768>>0]+ee[ye+1024>>0]+ee[Re+1280>>0]>>16)-128,q[be]=(ee[me+1280>>0]+ee[ye+1536>>0]+ee[Re+1792>>0]>>16)-128;G=ue(b,f,G,e,r),Y=ue(O,g,Y,n,i),re=ue(q,g,re,n,i),ce+=32}De+=8}if(A>=0){var ze=[];ze[1]=A+1,ze[0]=(1<<A+1)-1,ve(ze)}return le(65497),new Uint8Array(N)},t=t||50,function(){for(var D=String.fromCharCode,$=0;$<256;$++)X[$]=D($)}(),e=pe(x,R),n=pe(I,T),r=pe(B,S),i=pe(J,ge),function(){for(var D=1,$=2,G=1;G<=15;G++){for(var Y=D;Y<$;Y++)w[32767+Y]=G,p[32767+Y]=[],p[32767+Y][1]=G,p[32767+Y][0]=Y;for(var re=-($-1);re<=-D;re++)w[32767+re]=G,p[32767+re]=[],p[32767+re][1]=G,p[32767+re][0]=$-1+re;D<<=1,$<<=1}}(),function(){for(var D=0;D<256;D++)ee[D]=19595*D,ee[D+256>>0]=38470*D,ee[D+512>>0]=7471*D+32768,ee[D+768>>0]=-11059*D,ee[D+1024>>0]=-21709*D,ee[D+1280>>0]=32768*D+8421375,ee[D+1536>>0]=-27439*D,ee[D+1792>>0]=-5329*D}(),xe(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Zi(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Kv(t){function e(x){if(!x)throw Error("assert :P")}function n(x,R,B){for(var S=0;4>S;S++)if(x[R+S]!=B.charCodeAt(S))return!0;return!1}function r(x,R,B,S,I){for(var T=0;T<I;T++)x[R+T]=B[S+T]}function i(x,R,B,S){for(var I=0;I<S;I++)x[R+I]=B}function s(x){return new Int32Array(x)}function o(x,R){for(var B=[],S=0;S<x;S++)B.push(new R);return B}function a(x,R){var B=[];return function S(I,T,J){for(var ge=J[T],pe=0;pe<ge&&(I.push(J.length>T+1?[]:new R),!(J.length<T+1));pe++)S(I[pe],T+1,J)}(B,0,x),B}var l=function(){var x=this;function R(u,h){for(var y=1<<h-1>>>0;u&y;)y>>>=1;return y?(u&y-1)+y:u}function B(u,h,y,_,C){e(!(_%y));do u[h+(_-=y)]=C;while(0<_)}function S(u,h,y,_,C){if(e(2328>=C),512>=C)var M=s(512);else if((M=s(C))==null)return 0;return function(j,U,z,H,te,he){var fe,ae,Ee=U,we=1<<z,ne=s(16),ie=s(16);for(e(te!=0),e(H!=null),e(j!=null),e(0<z),ae=0;ae<te;++ae){if(15<H[ae])return 0;++ne[H[ae]]}if(ne[0]==te)return 0;for(ie[1]=0,fe=1;15>fe;++fe){if(ne[fe]>1<<fe)return 0;ie[fe+1]=ie[fe]+ne[fe]}for(ae=0;ae<te;++ae)fe=H[ae],0<H[ae]&&(he[ie[fe]++]=ae);if(ie[15]==1)return(H=new I).g=0,H.value=he[0],B(j,Ee,1,we,H),we;var Ae,Ie=-1,Se=we-1,$e=0,Me=1,nt=1,Ue=1<<z;for(ae=0,fe=1,te=2;fe<=z;++fe,te<<=1){if(Me+=nt<<=1,0>(nt-=ne[fe]))return 0;for(;0<ne[fe];--ne[fe])(H=new I).g=fe,H.value=he[ae++],B(j,Ee+$e,te,Ue,H),$e=R($e,fe)}for(fe=z+1,te=2;15>=fe;++fe,te<<=1){if(Me+=nt<<=1,0>(nt-=ne[fe]))return 0;for(;0<ne[fe];--ne[fe]){if(H=new I,($e&Se)!=Ie){for(Ee+=Ue,Ae=1<<(Ie=fe)-z;15>Ie&&!(0>=(Ae-=ne[Ie]));)++Ie,Ae<<=1;we+=Ue=1<<(Ae=Ie-z),j[U+(Ie=$e&Se)].g=Ae+z,j[U+Ie].value=Ee-U-Ie}H.g=fe-z,H.value=he[ae++],B(j,Ee+($e>>z),te,Ue,H),$e=R($e,fe)}}return Me!=2*ie[15]-1?0:we}(u,h,y,_,C,M)}function I(){this.value=this.g=0}function T(){this.value=this.g=0}function J(){this.G=o(5,I),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(rr,T)}function ge(u,h,y,_){e(u!=null),e(h!=null),e(2147483648>_),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=h,u.pa=y,u.Jd=h,u.Yc=y+_,u.Zc=4<=_?y+_-4+1:y,ce(u)}function pe(u,h){for(var y=0;0<h--;)y|=ye(u,128)<<h;return y}function ve(u,h){var y=pe(u,h);return me(u)?-y:y}function Q(u,h,y,_){var C,M=0;for(e(u!=null),e(h!=null),e(4294967288>_),u.Sb=_,u.Ra=0,u.u=0,u.h=0,4<_&&(_=4),C=0;C<_;++C)M+=h[y+C]<<8*C;u.Ra=M,u.bb=_,u.oa=h,u.pa=y}function le(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<fu-8>>>0,++u.bb,u.u-=8;G(u)&&(u.h=1,u.u=0)}function ue(u,h){if(e(0<=h),!u.h&&h<=hu){var y=$(u)&cu[h];return u.u+=h,le(u),y}return u.h=1,u.u=0}function xe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function D(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function $(u){return u.Ra>>>(u.u&fu-1)>>>0}function G(u){return e(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>fu}function Y(u,h){u.u=h,u.h=G(u)}function re(u){u.u>=Hc&&(e(u.u>=Hc),le(u))}function ce(u){e(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(e(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function me(u){return pe(u,1)}function ye(u,h){var y=u.Ca;0>u.b&&ce(u);var _=u.b,C=y*h>>>8,M=(u.I>>>_>C)+0;for(M?(y-=C,u.I-=C+1<<_>>>0):y=C+1,_=y,C=0;256<=_;)C+=8,_>>=8;return _=7^C+Gr[_],u.b-=_,u.Ca=(y<<_)-1,M}function Re(u,h,y){u[h+0]=y>>24&255,u[h+1]=y>>16&255,u[h+2]=y>>8&255,u[h+3]=y>>0&255}function Te(u,h){return u[h+0]<<0|u[h+1]<<8}function je(u,h){return Te(u,h)|u[h+2]<<16}function Fe(u,h){return Te(u,h)|Te(u,h+2)<<16}function et(u,h){var y=1<<h;return e(u!=null),e(0<h),u.X=s(y),u.X==null?0:(u.Mb=32-h,u.Xa=h,1)}function be(u,h){e(u!=null),e(h!=null),e(u.Xa==h.Xa),r(h.X,0,u.X,0,1<<h.Xa)}function K(){this.X=[],this.Xa=this.Mb=0}function ht(u,h,y,_){e(y!=null),e(_!=null);var C=y[0],M=_[0];return C==0&&(C=(u*M+h/2)/h),M==0&&(M=(h*C+u/2)/u),0>=C||0>=M?0:(y[0]=C,_[0]=M,1)}function Ke(u,h){return u+(1<<h)-1>>>h}function ke(u,h){return((4278255360&u)+(4278255360&h)>>>0&4278255360)+((16711935&u)+(16711935&h)>>>0&16711935)>>>0}function De(u,h){x[h]=function(y,_,C,M,j,U,z){var H;for(H=0;H<j;++H){var te=x[u](U[z+H-1],C,M+H);U[z+H]=ke(y[_+H],te)}}}function ze(){this.ud=this.hd=this.jd=0}function Ve(u,h){return((4278124286&(u^h))>>>1)+(u&h)>>>0}function Xe(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function at(u,h){return Xe(u+(u-h+.5>>1))}function ft(u,h,y){return Math.abs(h-y)-Math.abs(u-y)}function Ye(u,h,y,_,C,M,j){for(_=M[j-1],y=0;y<C;++y)M[j+y]=_=ke(u[h+y],_)}function it(u,h,y,_,C){var M;for(M=0;M<y;++M){var j=u[h+M],U=j>>8&255,z=16711935&(z=(z=16711935&j)+((U<<16)+U));_[C+M]=(4278255360&j)+z>>>0}}function kt(u,h){h.jd=u>>0&255,h.hd=u>>8&255,h.ud=u>>16&255}function rt(u,h,y,_,C,M){var j;for(j=0;j<_;++j){var U=h[y+j],z=U>>>8,H=U,te=255&(te=(te=U>>>16)+((u.jd<<24>>24)*(z<<24>>24)>>>5));H=255&(H=(H=H+((u.hd<<24>>24)*(z<<24>>24)>>>5))+((u.ud<<24>>24)*(te<<24>>24)>>>5)),C[M+j]=(4278255360&U)+(te<<16)+H}}function vt(u,h,y,_,C){x[h]=function(M,j,U,z,H,te,he,fe,ae){for(z=he;z<fe;++z)for(he=0;he<ae;++he)H[te++]=C(U[_(M[j++])])},x[u]=function(M,j,U,z,H,te,he){var fe=8>>M.b,ae=M.Ea,Ee=M.K[0],we=M.w;if(8>fe)for(M=(1<<M.b)-1,we=(1<<fe)-1;j<U;++j){var ne,ie=0;for(ne=0;ne<ae;++ne)ne&M||(ie=_(z[H++])),te[he++]=C(Ee[ie&we]),ie>>=fe}else x["VP8LMapColor"+y](z,H,Ee,we,te,he,j,U,ae)}}function qe(u,h,y,_,C){for(y=h+y;h<y;){var M=u[h++];_[C++]=M>>16&255,_[C++]=M>>8&255,_[C++]=M>>0&255}}function gn(u,h,y,_,C){for(y=h+y;h<y;){var M=u[h++];_[C++]=M>>16&255,_[C++]=M>>8&255,_[C++]=M>>0&255,_[C++]=M>>24&255}}function Et(u,h,y,_,C){for(y=h+y;h<y;){var M=(j=u[h++])>>16&240|j>>12&15,j=j>>0&240|j>>28&15;_[C++]=M,_[C++]=j}}function qr(u,h,y,_,C){for(y=h+y;h<y;){var M=(j=u[h++])>>16&248|j>>13&7,j=j>>5&224|j>>3&31;_[C++]=M,_[C++]=j}}function Ot(u,h,y,_,C){for(y=h+y;h<y;){var M=u[h++];_[C++]=M>>0&255,_[C++]=M>>8&255,_[C++]=M>>16&255}}function Xt(u,h,y,_,C,M){if(M==0)for(y=h+y;h<y;)Re(_,((M=u[h++])[0]>>24|M[1]>>8&65280|M[2]<<8&16711680|M[3]<<24)>>>0),C+=32;else r(_,C,u,h,y)}function Ei(u,h){x[h][0]=x[u+"0"],x[h][1]=x[u+"1"],x[h][2]=x[u+"2"],x[h][3]=x[u+"3"],x[h][4]=x[u+"4"],x[h][5]=x[u+"5"],x[h][6]=x[u+"6"],x[h][7]=x[u+"7"],x[h][8]=x[u+"8"],x[h][9]=x[u+"9"],x[h][10]=x[u+"10"],x[h][11]=x[u+"11"],x[h][12]=x[u+"12"],x[h][13]=x[u+"13"],x[h][14]=x[u+"0"],x[h][15]=x[u+"0"]}function Nt(u){return u==Xm||u==Qm||u==Xf||u==Ym}function vs(){this.eb=[],this.size=this.A=this.fb=0}function nn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function er(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new vs,this.f.kb=new nn,this.sd=null}function oi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Qt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function tt(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function Ct(u,h){var y=u.T,_=h.ba.f.RGBA,C=_.eb,M=_.fb+u.ka*_.A,j=Li[h.ba.S],U=u.y,z=u.O,H=u.f,te=u.N,he=u.ea,fe=u.W,ae=h.cc,Ee=h.dc,we=h.Mc,ne=h.Nc,ie=u.ka,Ae=u.ka+u.T,Ie=u.U,Se=Ie+1>>1;for(ie==0?j(U,z,null,null,H,te,he,fe,H,te,he,fe,C,M,null,null,Ie):(j(h.ec,h.fc,U,z,ae,Ee,we,ne,H,te,he,fe,C,M-_.A,C,M,Ie),++y);ie+2<Ae;ie+=2)ae=H,Ee=te,we=he,ne=fe,te+=u.Rc,fe+=u.Rc,M+=2*_.A,j(U,(z+=2*u.fa)-u.fa,U,z,ae,Ee,we,ne,H,te,he,fe,C,M-_.A,C,M,Ie);return z+=u.fa,u.j+Ae<u.o?(r(h.ec,h.fc,U,z,Ie),r(h.cc,h.dc,H,te,Se),r(h.Mc,h.Nc,he,fe,Se),y--):1&Ae||j(U,z,null,null,H,te,he,fe,H,te,he,fe,C,M+_.A,null,null,Ie),y}function xi(u,h,y){var _=u.F,C=[u.J];if(_!=null){var M=u.U,j=h.ba.S,U=j==Jf||j==Xf;h=h.ba.f.RGBA;var z=[0],H=u.ka;z[0]=u.T,u.Kb&&(H==0?--z[0]:(--H,C[0]-=u.width),u.j+u.ka+u.T==u.o&&(z[0]=u.o-u.j-H));var te=h.eb;H=h.fb+H*h.A,u=Zt(_,C[0],u.width,M,z,te,H+(U?0:3),h.A),e(y==z),u&&Nt(j)&&ki(te,H,U,M,z,h.A)}return 0}function Ln(u){var h=u.ma,y=h.ba.S,_=11>y,C=y==Gf||y==Kf||y==Jf||y==Jm||y==12||Nt(y);if(h.memory=null,h.Ib=null,h.Jb=null,h.Nd=null,!qc(h.Oa,u,C?11:12))return 0;if(C&&Nt(y)&&Ne(),u.da)alert("todo:use_scaling");else{if(_){if(h.Ib=tt,u.Kb){if(y=u.U+1>>1,h.memory=s(u.U+2*y),h.memory==null)return 0;h.ec=h.memory,h.fc=0,h.cc=h.ec,h.dc=h.fc+u.U,h.Mc=h.cc,h.Nc=h.dc+y,h.Ib=Ct,Ne()}}else alert("todo:EmitYUV");C&&(h.Jb=xi,_&&oe())}if(_&&!ey){for(u=0;256>u;++u)bE[u]=89858*(u-128)+Yf>>Qf,EE[u]=-22014*(u-128)+Yf,SE[u]=-45773*(u-128),AE[u]=113618*(u-128)+Yf>>Qf;for(u=Yc;u<tg;++u)h=76283*(u-16)+Yf>>Qf,xE[u-Yc]=Mt(h,255),IE[u-Yc]=Mt(h+8>>4,15);ey=1}return 1}function dr(u){var h=u.ma,y=u.U,_=u.T;return e(!(1&u.ka)),0>=y||0>=_?0:(y=h.Ib(u,h),h.Jb!=null&&h.Jb(u,h,y),h.Dc+=y,1)}function ai(u){u.ma.memory=null}function He(u,h,y,_){return ue(u,8)!=47?0:(h[0]=ue(u,14)+1,y[0]=ue(u,14)+1,_[0]=ue(u,1),ue(u,3)!=0?0:!u.h)}function $r(u,h){if(4>u)return u+1;var y=u-2>>1;return(2+(1&u)<<y)+ue(h,y)+1}function pr(u,h){return 120<h?h-120:1<=(y=((y=aE[h-1])>>4)*u+(8-(15&y)))?y:1;var y}function Rn(u,h,y){var _=$(y),C=u[h+=255&_].g-8;return 0<C&&(Y(y,y.u+8),_=$(y),h+=u[h].value,h+=_&(1<<C)-1),Y(y,y.u+u[h].g),u[h].value}function Sn(u,h,y){return y.g+=u.g,y.value+=u.value<<h>>>0,e(8>=y.g),u.g}function yn(u,h,y){var _=u.xc;return e((h=_==0?0:u.vc[u.md*(y>>_)+(h>>_)])<u.Wb),u.Ya[h]}function On(u,h,y,_){var C=u.ab,M=u.c*h,j=u.C;h=j+h;var U=y,z=_;for(_=u.Ta,y=u.Ua;0<C--;){var H=u.gc[C],te=j,he=h,fe=U,ae=z,Ee=(z=_,U=y,H.Ea);switch(e(te<he),e(he<=H.nc),H.hc){case 2:Vf(fe,ae,(he-te)*Ee,z,U);break;case 0:var we=te,ne=he,ie=z,Ae=U,Ie=(Ue=H).Ea;we==0&&(Gm(fe,ae,null,null,1,ie,Ae),Ye(fe,ae+1,0,0,Ie-1,ie,Ae+1),ae+=Ie,Ae+=Ie,++we);for(var Se=1<<Ue.b,$e=Se-1,Me=Ke(Ie,Ue.b),nt=Ue.K,Ue=Ue.w+(we>>Ue.b)*Me;we<ne;){var Dt=nt,Bt=Ue,Lt=1;for(Wc(fe,ae,ie,Ae-Ie,1,ie,Ae);Lt<Ie;){var At=(Lt&~$e)+Se;At>Ie&&(At=Ie),(0,ta[Dt[Bt++]>>8&15])(fe,ae+ +Lt,ie,Ae+Lt-Ie,At-Lt,ie,Ae+Lt),Lt=At}ae+=Ie,Ae+=Ie,++we&$e||(Ue+=Me)}he!=H.nc&&r(z,U-Ee,z,U+(he-te-1)*Ee,Ee);break;case 1:for(Ee=fe,ne=ae,Ie=(fe=H.Ea)-(Ae=fe&~(ie=(ae=1<<H.b)-1)),we=Ke(fe,H.b),Se=H.K,H=H.w+(te>>H.b)*we;te<he;){for($e=Se,Me=H,nt=new ze,Ue=ne+Ae,Dt=ne+fe;ne<Ue;)kt($e[Me++],nt),dl(nt,Ee,ne,ae,z,U),ne+=ae,U+=ae;ne<Dt&&(kt($e[Me++],nt),dl(nt,Ee,ne,Ie,z,U),ne+=Ie,U+=Ie),++te&ie||(H+=we)}break;case 3:if(fe==z&&ae==U&&0<H.b){for(ne=z,fe=Ee=U+(he-te)*Ee-(Ae=(he-te)*Ke(H.Ea,H.b)),ae=z,ie=U,we=[],Ae=(Ie=Ae)-1;0<=Ae;--Ae)we[Ae]=ae[ie+Ae];for(Ae=Ie-1;0<=Ae;--Ae)ne[fe+Ae]=we[Ae];Ni(H,te,he,z,Ee,z,U)}else Ni(H,te,he,fe,ae,z,U)}U=_,z=y}z!=y&&r(_,y,U,z,M)}function Mo(u,h){var y=u.V,_=u.Ba+u.c*u.C,C=h-u.C;if(e(h<=u.l.o),e(16>=C),0<C){var M=u.l,j=u.Ta,U=u.Ua,z=M.width;if(On(u,C,y,_),C=U=[U],e((y=u.C)<(_=h)),e(M.v<M.va),_>M.o&&(_=M.o),y<M.j){var H=M.j-y;y=M.j,C[0]+=H*z}if(y>=_?y=0:(C[0]+=4*M.v,M.ka=y-M.j,M.U=M.va-M.v,M.T=_-y,y=1),y){if(U=U[0],11>(y=u.ca).S){var te=y.f.RGBA,he=(_=y.S,C=M.U,M=M.T,H=te.eb,te.A),fe=M;for(te=te.fb+u.Ma*te.A;0<fe--;){var ae=j,Ee=U,we=C,ne=H,ie=te;switch(_){case Wf:Kr(ae,Ee,we,ne,ie);break;case Gf:Fr(ae,Ee,we,ne,ie);break;case Xm:Fr(ae,Ee,we,ne,ie),ki(ne,ie,0,we,1,0);break;case $5:ao(ae,Ee,we,ne,ie);break;case Kf:Xt(ae,Ee,we,ne,ie,1);break;case Qm:Xt(ae,Ee,we,ne,ie,1),ki(ne,ie,0,we,1,0);break;case Jf:Xt(ae,Ee,we,ne,ie,0);break;case Xf:Xt(ae,Ee,we,ne,ie,0),ki(ne,ie,1,we,1,0);break;case Jm:na(ae,Ee,we,ne,ie);break;case Ym:na(ae,Ee,we,ne,ie),Yt(ne,ie,we,1,0);break;case H5:oo(ae,Ee,we,ne,ie);break;default:e(0)}U+=z,te+=he}u.Ma+=M}else alert("todo:EmitRescaledRowsYUVA");e(u.Ma<=y.height)}}u.C=h,e(u.C<=u.i)}function Vi(u){var h;if(0<u.ua)return 0;for(h=0;h<u.Wb;++h){var y=u.Ya[h].G,_=u.Ya[h].H;if(0<y[1][_[1]+0].g||0<y[2][_[2]+0].g||0<y[3][_[3]+0].g)return 0}return 1}function mr(u,h,y,_,C,M){if(u.Z!=0){var j=u.qd,U=u.rd;for(e(oa[u.Z]!=null);h<y;++h)oa[u.Z](j,U,_,C,_,C,M),j=_,U=C,C+=M;u.qd=j,u.rd=U}}function Hr(u,h){var y=u.l.ma,_=y.Z==0||y.Z==1?u.l.j:u.C;if(_=u.C<_?_:u.C,e(h<=u.l.o),h>_){var C=u.l.width,M=y.ca,j=y.tb+C*_,U=u.V,z=u.Ba+u.c*_,H=u.gc;e(u.ab==1),e(H[0].hc==3),Uf(H[0],_,h,U,z,M,j),mr(y,_,h,M,j,C)}u.C=u.Ma=h}function Rr(u,h,y,_,C,M,j){var U=u.$/_,z=u.$%_,H=u.m,te=u.s,he=y+u.$,fe=he;C=y+_*C;var ae=y+_*M,Ee=280+te.ua,we=u.Pb?U:16777216,ne=0<te.ua?te.Wa:null,ie=te.wc,Ae=he<ae?yn(te,z,U):null;e(u.C<M),e(ae<=C);var Ie=!1;e:for(;;){for(;Ie||he<ae;){var Se=0;if(U>=we){var $e=he-y;e((we=u).Pb),we.wd=we.m,we.xd=$e,0<we.s.ua&&be(we.s.Wa,we.s.vb),we=U+uE}if(z&ie||(Ae=yn(te,z,U)),e(Ae!=null),Ae.Qb&&(h[he]=Ae.qb,Ie=!0),!Ie)if(re(H),Ae.jc){Se=H,$e=h;var Me=he,nt=Ae.pd[$(Se)&rr-1];e(Ae.jc),256>nt.g?(Y(Se,Se.u+nt.g),$e[Me]=nt.value,Se=0):(Y(Se,Se.u+nt.g-256),e(256<=nt.value),Se=nt.value),Se==0&&(Ie=!0)}else Se=Rn(Ae.G[0],Ae.H[0],H);if(H.h)break;if(Ie||256>Se){if(!Ie)if(Ae.nd)h[he]=(Ae.qb|Se<<8)>>>0;else{if(re(H),Ie=Rn(Ae.G[1],Ae.H[1],H),re(H),$e=Rn(Ae.G[2],Ae.H[2],H),Me=Rn(Ae.G[3],Ae.H[3],H),H.h)break;h[he]=(Me<<24|Ie<<16|Se<<8|$e)>>>0}if(Ie=!1,++he,++z>=_&&(z=0,++U,j!=null&&U<=M&&!(U%16)&&j(u,U),ne!=null))for(;fe<he;)Se=h[fe++],ne.X[(506832829*Se&4294967295)>>>ne.Mb]=Se}else if(280>Se){if(Se=$r(Se-256,H),$e=Rn(Ae.G[4],Ae.H[4],H),re(H),$e=pr(_,$e=$r($e,H)),H.h)break;if(he-y<$e||C-he<Se)break e;for(Me=0;Me<Se;++Me)h[he+Me]=h[he+Me-$e];for(he+=Se,z+=Se;z>=_;)z-=_,++U,j!=null&&U<=M&&!(U%16)&&j(u,U);if(e(he<=C),z&ie&&(Ae=yn(te,z,U)),ne!=null)for(;fe<he;)Se=h[fe++],ne.X[(506832829*Se&4294967295)>>>ne.Mb]=Se}else{if(!(Se<Ee))break e;for(Ie=Se-280,e(ne!=null);fe<he;)Se=h[fe++],ne.X[(506832829*Se&4294967295)>>>ne.Mb]=Se;Se=he,e(!(Ie>>>($e=ne).Xa)),h[Se]=$e.X[Ie],Ie=!0}Ie||e(H.h==G(H))}if(u.Pb&&H.h&&he<C)e(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&be(u.s.vb,u.s.Wa);else{if(H.h)break e;j!=null&&j(u,U>M?M:U),u.a=0,u.$=he-y}return 1}return u.a=3,0}function Or(u){e(u!=null),u.vc=null,u.yc=null,u.Ya=null;var h=u.Wa;h!=null&&(h.X=null),u.vb=null,e(u!=null)}function En(){var u=new lu;return u==null?null:(u.a=0,u.xb=K5,Ei("Predictor","VP8LPredictors"),Ei("Predictor","VP8LPredictors_C"),Ei("PredictorAdd","VP8LPredictorsAdd"),Ei("PredictorAdd","VP8LPredictorsAdd_C"),Vf=it,dl=rt,Kr=qe,Fr=gn,na=Et,oo=qr,ao=Ot,x.VP8LMapColor32b=du,x.VP8LMapColor8b=zf,u)}function li(u,h,y,_,C){var M=1,j=[u],U=[h],z=_.m,H=_.s,te=null,he=0;e:for(;;){if(y)for(;M&&ue(z,1);){var fe=j,ae=U,Ee=_,we=1,ne=Ee.m,ie=Ee.gc[Ee.ab],Ae=ue(ne,2);if(Ee.Oc&1<<Ae)M=0;else{switch(Ee.Oc|=1<<Ae,ie.hc=Ae,ie.Ea=fe[0],ie.nc=ae[0],ie.K=[null],++Ee.ab,e(4>=Ee.ab),Ae){case 0:case 1:ie.b=ue(ne,3)+2,we=li(Ke(ie.Ea,ie.b),Ke(ie.nc,ie.b),0,Ee,ie.K),ie.K=ie.K[0];break;case 3:var Ie,Se=ue(ne,8)+1,$e=16<Se?0:4<Se?1:2<Se?2:3;if(fe[0]=Ke(ie.Ea,$e),ie.b=$e,Ie=we=li(Se,1,0,Ee,ie.K)){var Me,nt=Se,Ue=ie,Dt=1<<(8>>Ue.b),Bt=s(Dt);if(Bt==null)Ie=0;else{var Lt=Ue.K[0],At=Ue.w;for(Bt[0]=Ue.K[0][0],Me=1;Me<1*nt;++Me)Bt[Me]=ke(Lt[At+Me],Bt[Me-1]);for(;Me<4*Dt;++Me)Bt[Me]=0;Ue.K[0]=null,Ue.K[0]=Bt,Ie=1}}we=Ie;break;case 2:break;default:e(0)}M=we}}if(j=j[0],U=U[0],M&&ue(z,1)&&!(M=1<=(he=ue(z,4))&&11>=he)){_.a=3;break e}var Gt;if(Gt=M)t:{var $t,gt,Dn,Jr=_,Fn=j,Xr=U,Vt=he,di=y,pi=Jr.m,Hn=Jr.s,ir=[null],jr=1,Ri=0,Cs=lE[Vt];n:for(;;){if(di&&ue(pi,1)){var Wn=ue(pi,3)+2,ho=Ke(Fn,Wn),vl=Ke(Xr,Wn),vu=ho*vl;if(!li(ho,vl,0,Jr,ir))break n;for(ir=ir[0],Hn.xc=Wn,$t=0;$t<vu;++$t){var aa=ir[$t]>>8&65535;ir[$t]=aa,aa>=jr&&(jr=aa+1)}}if(pi.h)break n;for(gt=0;5>gt;++gt){var wn=W5[gt];!gt&&0<Vt&&(wn+=1<<Vt),Ri<wn&&(Ri=wn)}var ng=o(jr*Cs,I),ry=jr,iy=o(ry,J);if(iy==null)var ed=null;else e(65536>=ry),ed=iy;var Zc=s(Ri);if(ed==null||Zc==null||ng==null){Jr.a=1;break n}var td=ng;for($t=Dn=0;$t<jr;++$t){var Xi=ed[$t],wu=Xi.G,_u=Xi.H,sy=0,nd=1,oy=0;for(gt=0;5>gt;++gt){wn=W5[gt],wu[gt]=td,_u[gt]=Dn,!gt&&0<Vt&&(wn+=1<<Vt);i:{var rd,rg=wn,id=Jr,eh=Zc,TE=td,kE=Dn,ig=0,la=id.m,CE=ue(la,1);if(i(eh,0,0,rg),CE){var LE=ue(la,1)+1,RE=ue(la,1),ay=ue(la,RE==0?1:8);eh[ay]=1,LE==2&&(eh[ay=ue(la,8)]=1);var sd=1}else{var ly=s(19),uy=ue(la,4)+4;if(19<uy){id.a=3;var od=0;break i}for(rd=0;rd<uy;++rd)ly[oE[rd]]=ue(la,3);var sg=void 0,th=void 0,cy=id,OE=ly,ad=rg,hy=eh,og=0,ua=cy.m,fy=8,dy=o(128,I);r:for(;S(dy,0,7,OE,19);){if(ue(ua,1)){var DE=2+2*ue(ua,3);if((sg=2+ue(ua,DE))>ad)break r}else sg=ad;for(th=0;th<ad&&sg--;){re(ua);var py=dy[0+(127&$(ua))];Y(ua,ua.u+py.g);var bu=py.value;if(16>bu)hy[th++]=bu,bu!=0&&(fy=bu);else{var FE=bu==16,my=bu-16,ME=iE[my],gy=ue(ua,rE[my])+ME;if(th+gy>ad)break r;for(var jE=FE?fy:0;0<gy--;)hy[th++]=jE}}og=1;break r}og||(cy.a=3),sd=og}(sd=sd&&!la.h)&&(ig=S(TE,kE,8,eh,rg)),sd&&ig!=0?od=ig:(id.a=3,od=0)}if(od==0)break n;if(nd&&sE[gt]==1&&(nd=td[Dn].g==0),sy+=td[Dn].g,Dn+=od,3>=gt){var nh,ag=Zc[0];for(nh=1;nh<wn;++nh)Zc[nh]>ag&&(ag=Zc[nh]);oy+=ag}}if(Xi.nd=nd,Xi.Qb=0,nd&&(Xi.qb=(wu[3][_u[3]+0].value<<24|wu[1][_u[1]+0].value<<16|wu[2][_u[2]+0].value)>>>0,sy==0&&256>wu[0][_u[0]+0].value&&(Xi.Qb=1,Xi.qb+=wu[0][_u[0]+0].value<<8)),Xi.jc=!Xi.Qb&&6>oy,Xi.jc){var ld,fo=Xi;for(ld=0;ld<rr;++ld){var ca=ld,ha=fo.pd[ca],ud=fo.G[0][fo.H[0]+ca];256<=ud.value?(ha.g=ud.g+256,ha.value=ud.value):(ha.g=0,ha.value=0,ca>>=Sn(ud,8,ha),ca>>=Sn(fo.G[1][fo.H[1]+ca],16,ha),ca>>=Sn(fo.G[2][fo.H[2]+ca],0,ha),Sn(fo.G[3][fo.H[3]+ca],24,ha))}}}Hn.vc=ir,Hn.Wb=jr,Hn.Ya=ed,Hn.yc=ng,Gt=1;break t}Gt=0}if(!(M=Gt)){_.a=3;break e}if(0<he){if(H.ua=1<<he,!et(H.Wa,he)){_.a=1,M=0;break e}}else H.ua=0;var lg=_,yy=j,BE=U,ug=lg.s,cg=ug.xc;if(lg.c=yy,lg.i=BE,ug.md=Ke(yy,cg),ug.wc=cg==0?-1:(1<<cg)-1,y){_.xb=gE;break e}if((te=s(j*U))==null){_.a=1,M=0;break e}M=(M=Rr(_,te,0,j,U,U,null))&&!z.h;break e}return M?(C!=null?C[0]=te:(e(te==null),e(y)),_.$=0,y||Or(H)):Or(H),M}function ws(u,h){var y=u.c*u.i,_=y+h+16*h;return e(u.c<=h),u.V=s(_),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+y+h,1)}function _s(u,h){var y=u.C,_=h-y,C=u.V,M=u.Ba+u.c*y;for(e(h<=u.l.o);0<_;){var j=16<_?16:_,U=u.l.ma,z=u.l.width,H=z*j,te=U.ca,he=U.tb+z*y,fe=u.Ta,ae=u.Ua;On(u,j,C,M),In(fe,ae,te,he,H),mr(U,y,y+j,te,he,z),_-=j,C+=j*u.c,y+=j}e(y==h),u.C=u.Ma=h}function bs(){this.ub=this.yd=this.td=this.Rb=0}function Js(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Xs(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Yl(){this.Yb=function(){var u=[];return function h(y,_,C){for(var M=C[_],j=0;j<M&&(y.push(C.length>_+1?[]:0),!(C.length<_+1));j++)h(y[j],_+1,C)}(u,0,[3,11]),u}()}function jo(){this.jb=s(3),this.Wc=a([4,8],Yl),this.Xc=a([4,17],Yl)}function Zl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function As(){this.ld=this.La=this.dd=this.tc=0}function Ss(){this.Na=this.la=0}function Ui(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Qs(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Bc(){this.uc=this.M=this.Nb=0,this.wa=Array(new As),this.Y=0,this.ya=Array(new Qs),this.aa=0,this.l=new Ys}function Za(){this.y=s(16),this.f=s(8),this.ea=s(8)}function eu(){this.cb=this.a=0,this.sc="",this.m=new xe,this.Od=new bs,this.Kc=new Js,this.ed=new Zl,this.Qa=new Xs,this.Ic=this.$c=this.Aa=0,this.D=new Bc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,xe),this.ia=0,this.pb=o(4,Ui),this.Pa=new jo,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Za),this.Hd=0,this.rb=Array(new Ss),this.sb=0,this.wa=Array(new As),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Qs),this.L=this.aa=0,this.gd=a([4,2],As),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ys(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function el(){var u=new eu;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,Qc||(Qc=tu)),u}function rn(u,h,y){return u.a==0&&(u.a=h,u.sc=y,u.cb=0),0}function tl(u,h,y){return 3<=y&&u[h+0]==157&&u[h+1]==1&&u[h+2]==42}function nl(u,h){if(u==null)return 0;if(u.a=0,u.sc="OK",h==null)return rn(u,2,"null VP8Io passed to VP8GetHeaders()");var y=h.data,_=h.w,C=h.ha;if(4>C)return rn(u,7,"Truncated header.");var M=y[_+0]|y[_+1]<<8|y[_+2]<<16,j=u.Od;if(j.Rb=!(1&M),j.td=M>>1&7,j.yd=M>>4&1,j.ub=M>>5,3<j.td)return rn(u,3,"Incorrect keyframe parameters.");if(!j.yd)return rn(u,4,"Frame not displayable.");_+=3,C-=3;var U=u.Kc;if(j.Rb){if(7>C)return rn(u,7,"cannot parse picture header");if(!tl(y,_,C))return rn(u,3,"Bad code word");U.c=16383&(y[_+4]<<8|y[_+3]),U.Td=y[_+4]>>6,U.i=16383&(y[_+6]<<8|y[_+5]),U.Ud=y[_+6]>>6,_+=7,C-=7,u.za=U.c+15>>4,u.Ub=U.i+15>>4,h.width=U.c,h.height=U.i,h.Da=0,h.j=0,h.v=0,h.va=h.width,h.o=h.height,h.da=0,h.ib=h.width,h.hb=h.height,h.U=h.width,h.T=h.height,i((M=u.Pa).jb,0,255,M.jb.length),e((M=u.Qa)!=null),M.Cb=0,M.Bb=0,M.Fb=1,i(M.Zb,0,0,M.Zb.length),i(M.Lb,0,0,M.Lb)}if(j.ub>C)return rn(u,7,"bad partition length");ge(M=u.m,y,_,j.ub),_+=j.ub,C-=j.ub,j.Rb&&(U.Ld=me(M),U.Kd=me(M)),U=u.Qa;var z,H=u.Pa;if(e(M!=null),e(U!=null),U.Cb=me(M),U.Cb){if(U.Bb=me(M),me(M)){for(U.Fb=me(M),z=0;4>z;++z)U.Zb[z]=me(M)?ve(M,7):0;for(z=0;4>z;++z)U.Lb[z]=me(M)?ve(M,6):0}if(U.Bb)for(z=0;3>z;++z)H.jb[z]=me(M)?pe(M,8):255}else U.Bb=0;if(M.Ka)return rn(u,3,"cannot parse segment header");if((U=u.ed).zd=me(M),U.Tb=pe(M,6),U.wb=pe(M,3),U.Pc=me(M),U.Pc&&me(M)){for(H=0;4>H;++H)me(M)&&(U.vd[H]=ve(M,6));for(H=0;4>H;++H)me(M)&&(U.od[H]=ve(M,6))}if(u.L=U.Tb==0?0:U.zd?1:2,M.Ka)return rn(u,3,"cannot parse filter header");var te=C;if(C=z=_,_=z+te,U=te,u.Xb=(1<<pe(u.m,2))-1,te<3*(H=u.Xb))y=7;else{for(z+=3*H,U-=3*H,te=0;te<H;++te){var he=y[C+0]|y[C+1]<<8|y[C+2]<<16;he>U&&(he=U),ge(u.Jc[+te],y,z,he),z+=he,U-=he,C+=3}ge(u.Jc[+H],y,z,U),y=z<_?0:5}if(y!=0)return rn(u,y,"cannot parse partitions");for(y=pe(z=u.m,7),C=me(z)?ve(z,4):0,_=me(z)?ve(z,4):0,U=me(z)?ve(z,4):0,H=me(z)?ve(z,4):0,z=me(z)?ve(z,4):0,te=u.Qa,he=0;4>he;++he){if(te.Cb){var fe=te.Zb[he];te.Fb||(fe+=y)}else{if(0<he){u.pb[he]=u.pb[0];continue}fe=y}var ae=u.pb[he];ae.Sc[0]=Zm[Mt(fe+C,127)],ae.Sc[1]=eg[Mt(fe+0,127)],ae.Eb[0]=2*Zm[Mt(fe+_,127)],ae.Eb[1]=101581*eg[Mt(fe+U,127)]>>16,8>ae.Eb[1]&&(ae.Eb[1]=8),ae.Qc[0]=Zm[Mt(fe+H,117)],ae.Qc[1]=eg[Mt(fe+z,127)],ae.lc=fe+z}if(!j.Rb)return rn(u,4,"Not a key frame.");for(me(M),j=u.Pa,y=0;4>y;++y){for(C=0;8>C;++C)for(_=0;3>_;++_)for(U=0;11>U;++U)H=ye(M,pE[y][C][_][U])?pe(M,8):fE[y][C][_][U],j.Wc[y][C].Yb[_][U]=H;for(C=0;17>C;++C)j.Xc[y][C]=j.Wc[y][mE[C]]}return u.kc=me(M),u.kc&&(u.Bd=pe(M,8)),u.cb=1}function tu(u,h,y,_,C,M,j){var U=h[C].Yb[y];for(y=0;16>C;++C){if(!ye(u,U[y+0]))return C;for(;!ye(u,U[y+1]);)if(U=h[++C].Yb[0],y=0,C==16)return 16;var z=h[C+1].Yb;if(ye(u,U[y+2])){var H=u,te=0;if(ye(H,(fe=U)[(he=y)+3]))if(ye(H,fe[he+6])){for(U=0,he=2*(te=ye(H,fe[he+8]))+(fe=ye(H,fe[he+9+te])),te=0,fe=cE[he];fe[U];++U)te+=te+ye(H,fe[U]);te+=3+(8<<he)}else ye(H,fe[he+7])?(te=7+2*ye(H,165),te+=ye(H,145)):te=5+ye(H,159);else te=ye(H,fe[he+4])?3+ye(H,fe[he+5]):2;U=z[2]}else te=1,U=z[1];z=j+hE[C],0>(H=u).b&&ce(H);var he,fe=H.b,ae=(he=H.Ca>>1)-(H.I>>fe)>>31;--H.b,H.Ca+=ae,H.Ca|=1,H.I-=(he+1&ae)<<fe,M[z]=((te^ae)-ae)*_[(0<C)+0]}return 16}function rl(u){var h=u.rb[u.sb-1];h.la=0,h.Na=0,i(u.zc,0,0,u.zc.length),u.ja=0}function nu(u,h){if(u==null)return 0;if(h==null)return rn(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!nl(u,h))return 0;if(e(u.cb),h.ac==null||h.ac(h)){h.ob&&(u.L=0);var y=Zf[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=h.v-y>>4,u.zb=h.j-y>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=h.o+15+y>>4,u.Hb=h.va+15+y>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var _=u.ed;for(y=0;4>y;++y){var C;if(u.Qa.Cb){var M=u.Qa.Lb[y];u.Qa.Fb||(M+=_.Tb)}else M=_.Tb;for(C=0;1>=C;++C){var j=u.gd[y][C],U=M;if(_.Pc&&(U+=_.vd[0],C&&(U+=_.od[0])),0<(U=0>U?0:63<U?63:U)){var z=U;0<_.wb&&(z=4<_.wb?z>>2:z>>1)>9-_.wb&&(z=9-_.wb),1>z&&(z=1),j.dd=z,j.tc=2*U+z,j.ld=40<=U?2:15<=U?1:0}else j.tc=0;j.La=C}}}y=0}else rn(u,6,"Frame setup failed"),y=u.a;if(y=y==0){if(y){u.$c=0,0<u.Aa||(u.Ic=PE);e:{y=u.Ic,_=4*(z=u.za);var H=32*z,te=z+1,he=0<u.L?z*(0<u.Aa?2:1):0,fe=(u.Aa==2?2:1)*z;if((j=_+832+(C=3*(16*y+Zf[u.L])/2*H)+(M=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=j)y=0;else{if(j>u.Vb){if(u.Vb=0,u.Ec=s(j),u.Fc=0,u.Ec==null){y=rn(u,1,"no memory during frame initialization.");break e}u.Vb=j}j=u.Ec,U=u.Fc,u.Ac=j,u.Bc=U,U+=_,u.Gd=o(H,Za),u.Hd=0,u.rb=o(te+1,Ss),u.sb=1,u.wa=he?o(he,As):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=z),e(!0),u.oc=j,u.pc=U,U+=832,u.ya=o(fe,Qs),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=z),u.R=16*z,u.B=8*z,z=(H=Zf[u.L])*u.R,H=H/2*u.B,u.sa=j,u.ta=U+z,u.qa=u.sa,u.ra=u.ta+16*y*u.R+H,u.Ha=u.qa,u.Ia=u.ra+8*y*u.B+H,u.$c=0,U+=C,u.mb=M?j:null,u.nb=M?U:null,e(U+M<=u.Fc+u.Vb),rl(u),i(u.Ac,u.Bc,0,_),y=1}}if(y){if(h.ka=0,h.y=u.sa,h.O=u.ta,h.f=u.qa,h.N=u.ra,h.ea=u.Ha,h.Vd=u.Ia,h.fa=u.R,h.Rc=u.B,h.F=null,h.J=0,!$f){for(y=-255;255>=y;++y)Vn[255+y]=0>y?-y:y;for(y=-1020;1020>=y;++y)uo[1020+y]=-128>y?-128:127<y?127:y;for(y=-112;112>=y;++y)Xc[112+y]=-16>y?-16:15<y?15:y;for(y=-255;510>=y;++y)yu[255+y]=0>y?0:255<y?255:y;$f=1}pu=to,lo=Vo,Gc=il,Mr=jt,Pi=eo,xn=Zs,mu=Go,qf=Wi,Kc=Jo,pl=fl,ml=Ko,ra=ro,gl=Xo,gu=Ns,yl=no,ia=hi,Jc=Bn,Ti=au,Ji[0]=Ii,Ji[1]=Vc,Ji[2]=xs,Ji[3]=zc,Ji[4]=su,Ji[5]=qo,Ji[6]=ui,Ji[7]=ol,Ji[8]=Ho,Ji[9]=$o,sa[0]=Es,sa[1]=Uc,sa[2]=qi,sa[3]=Uo,sa[4]=sn,sa[5]=iu,sa[6]=sl,co[0]=Hi,co[1]=ru,co[2]=ou,co[3]=$i,co[4]=Ft,co[5]=al,co[6]=ll,y=1}else y=0}y&&(y=function(ae,Ee){for(ae.M=0;ae.M<ae.Va;++ae.M){var we,ne=ae.Jc[ae.M&ae.Xb],ie=ae.m,Ae=ae;for(we=0;we<Ae.za;++we){var Ie=ie,Se=Ae,$e=Se.Ac,Me=Se.Bc+4*we,nt=Se.zc,Ue=Se.ya[Se.aa+we];if(Se.Qa.Bb?Ue.$b=ye(Ie,Se.Pa.jb[0])?2+ye(Ie,Se.Pa.jb[2]):ye(Ie,Se.Pa.jb[1]):Ue.$b=0,Se.kc&&(Ue.Ad=ye(Ie,Se.Bd)),Ue.Za=!ye(Ie,145)+0,Ue.Za){var Dt=Ue.Ob,Bt=0;for(Se=0;4>Se;++Se){var Lt,At=nt[0+Se];for(Lt=0;4>Lt;++Lt){At=dE[$e[Me+Lt]][At];for(var Gt=G5[ye(Ie,At[0])];0<Gt;)Gt=G5[2*Gt+ye(Ie,At[Gt])];At=-Gt,$e[Me+Lt]=At}r(Dt,Bt,$e,Me,4),Bt+=4,nt[0+Se]=At}}else At=ye(Ie,156)?ye(Ie,128)?1:3:ye(Ie,163)?2:0,Ue.Ob[0]=At,i($e,Me,At,4),i(nt,0,At,4);Ue.Dd=ye(Ie,142)?ye(Ie,114)?ye(Ie,183)?1:3:2:0}if(Ae.m.Ka)return rn(ae,7,"Premature end-of-partition0 encountered.");for(;ae.ja<ae.za;++ae.ja){if(Ae=ne,Ie=(ie=ae).rb[ie.sb-1],$e=ie.rb[ie.sb+ie.ja],we=ie.ya[ie.aa+ie.ja],Me=ie.kc?we.Ad:0)Ie.la=$e.la=0,we.Za||(Ie.Na=$e.Na=0),we.Hc=0,we.Gc=0,we.ia=0;else{var $t,gt;if(Ie=$e,$e=Ae,Me=ie.Pa.Xc,nt=ie.ya[ie.aa+ie.ja],Ue=ie.pb[nt.$b],Se=nt.ad,Dt=0,Bt=ie.rb[ie.sb-1],At=Lt=0,i(Se,Dt,0,384),nt.Za)var Dn=0,Jr=Me[3];else{Gt=s(16);var Fn=Ie.Na+Bt.Na;if(Fn=Qc($e,Me[1],Fn,Ue.Eb,0,Gt,0),Ie.Na=Bt.Na=(0<Fn)+0,1<Fn)pu(Gt,0,Se,Dt);else{var Xr=Gt[0]+3>>3;for(Gt=0;256>Gt;Gt+=16)Se[Dt+Gt]=Xr}Dn=1,Jr=Me[0]}var Vt=15&Ie.la,di=15&Bt.la;for(Gt=0;4>Gt;++Gt){var pi=1&di;for(Xr=gt=0;4>Xr;++Xr)Vt=Vt>>1|(pi=(Fn=Qc($e,Jr,Fn=pi+(1&Vt),Ue.Sc,Dn,Se,Dt))>Dn)<<7,gt=gt<<2|(3<Fn?3:1<Fn?2:Se[Dt+0]!=0),Dt+=16;Vt>>=4,di=di>>1|pi<<7,Lt=(Lt<<8|gt)>>>0}for(Jr=Vt,Dn=di>>4,$t=0;4>$t;$t+=2){for(gt=0,Vt=Ie.la>>4+$t,di=Bt.la>>4+$t,Gt=0;2>Gt;++Gt){for(pi=1&di,Xr=0;2>Xr;++Xr)Fn=pi+(1&Vt),Vt=Vt>>1|(pi=0<(Fn=Qc($e,Me[2],Fn,Ue.Qc,0,Se,Dt)))<<3,gt=gt<<2|(3<Fn?3:1<Fn?2:Se[Dt+0]!=0),Dt+=16;Vt>>=2,di=di>>1|pi<<5}At|=gt<<4*$t,Jr|=Vt<<4<<$t,Dn|=(240&di)<<$t}Ie.la=Jr,Bt.la=Dn,nt.Hc=Lt,nt.Gc=At,nt.ia=43690&At?0:Ue.ia,Me=!(Lt|At)}if(0<ie.L&&(ie.wa[ie.Y+ie.ja]=ie.gd[we.$b][we.Za],ie.wa[ie.Y+ie.ja].La|=!Me),Ae.Ka)return rn(ae,7,"Premature end-of-file encountered.")}if(rl(ae),ie=Ee,Ae=1,we=(ne=ae).D,Ie=0<ne.L&&ne.M>=ne.zb&&ne.M<=ne.Va,ne.Aa==0)e:{if(we.M=ne.M,we.uc=Ie,Ts(ne,we),Ae=1,we=(gt=ne.D).Nb,Ie=(At=Zf[ne.L])*ne.R,$e=At/2*ne.B,Gt=16*we*ne.R,Xr=8*we*ne.B,Me=ne.sa,nt=ne.ta-Ie+Gt,Ue=ne.qa,Se=ne.ra-$e+Xr,Dt=ne.Ha,Bt=ne.Ia-$e+Xr,di=(Vt=gt.M)==0,Lt=Vt>=ne.Va-1,ne.Aa==2&&Ts(ne,gt),gt.uc)for(pi=(Fn=ne).D.M,e(Fn.D.uc),gt=Fn.yb;gt<Fn.Hb;++gt){Dn=gt,Jr=pi;var Hn=(ir=(wn=Fn).D).Nb;$t=wn.R;var ir=ir.wa[ir.Y+Dn],jr=wn.sa,Ri=wn.ta+16*Hn*$t+16*Dn,Cs=ir.dd,Wn=ir.tc;if(Wn!=0)if(e(3<=Wn),wn.L==1)0<Dn&&ia(jr,Ri,$t,Wn+4),ir.La&&Ti(jr,Ri,$t,Wn),0<Jr&&yl(jr,Ri,$t,Wn+4),ir.La&&Jc(jr,Ri,$t,Wn);else{var ho=wn.B,vl=wn.qa,vu=wn.ra+8*Hn*ho+8*Dn,aa=wn.Ha,wn=wn.Ia+8*Hn*ho+8*Dn;Hn=ir.ld,0<Dn&&(qf(jr,Ri,$t,Wn+4,Cs,Hn),pl(vl,vu,aa,wn,ho,Wn+4,Cs,Hn)),ir.La&&(ra(jr,Ri,$t,Wn,Cs,Hn),gu(vl,vu,aa,wn,ho,Wn,Cs,Hn)),0<Jr&&(mu(jr,Ri,$t,Wn+4,Cs,Hn),Kc(vl,vu,aa,wn,ho,Wn+4,Cs,Hn)),ir.La&&(ml(jr,Ri,$t,Wn,Cs,Hn),gl(vl,vu,aa,wn,ho,Wn,Cs,Hn))}}if(ne.ia&&alert("todo:DitherRow"),ie.put!=null){if(gt=16*Vt,Vt=16*(Vt+1),di?(ie.y=ne.sa,ie.O=ne.ta+Gt,ie.f=ne.qa,ie.N=ne.ra+Xr,ie.ea=ne.Ha,ie.W=ne.Ia+Xr):(gt-=At,ie.y=Me,ie.O=nt,ie.f=Ue,ie.N=Se,ie.ea=Dt,ie.W=Bt),Lt||(Vt-=At),Vt>ie.o&&(Vt=ie.o),ie.F=null,ie.J=null,ne.Fa!=null&&0<ne.Fa.length&&gt<Vt&&(ie.J=ea(ne,ie,gt,Vt-gt),ie.F=ne.mb,ie.F==null&&ie.F.length==0)){Ae=rn(ne,3,"Could not decode alpha data.");break e}gt<ie.j&&(At=ie.j-gt,gt=ie.j,e(!(1&At)),ie.O+=ne.R*At,ie.N+=ne.B*(At>>1),ie.W+=ne.B*(At>>1),ie.F!=null&&(ie.J+=ie.width*At)),gt<Vt&&(ie.O+=ie.v,ie.N+=ie.v>>1,ie.W+=ie.v>>1,ie.F!=null&&(ie.J+=ie.v),ie.ka=gt-ie.j,ie.U=ie.va-ie.v,ie.T=Vt-gt,Ae=ie.put(ie))}we+1!=ne.Ic||Lt||(r(ne.sa,ne.ta-Ie,Me,nt+16*ne.R,Ie),r(ne.qa,ne.ra-$e,Ue,Se+8*ne.B,$e),r(ne.Ha,ne.Ia-$e,Dt,Bt+8*ne.B,$e))}if(!Ae)return rn(ae,6,"Output aborted.")}return 1}(u,h)),h.bc!=null&&h.bc(h),y&=1}return y?(u.cb=0,y):0}function Wr(u,h,y,_,C){C=u[h+y+32*_]+(C>>3),u[h+y+32*_]=-256&C?0>C?0:255:C}function Bo(u,h,y,_,C,M){Wr(u,h,0,y,_+C),Wr(u,h,1,y,_+M),Wr(u,h,2,y,_-M),Wr(u,h,3,y,_-C)}function vn(u){return(20091*u>>16)+u}function Dr(u,h,y,_){var C,M=0,j=s(16);for(C=0;4>C;++C){var U=u[h+0]+u[h+8],z=u[h+0]-u[h+8],H=(35468*u[h+4]>>16)-vn(u[h+12]),te=vn(u[h+4])+(35468*u[h+12]>>16);j[M+0]=U+te,j[M+1]=z+H,j[M+2]=z-H,j[M+3]=U-te,M+=4,h++}for(C=M=0;4>C;++C)U=(u=j[M+0]+4)+j[M+8],z=u-j[M+8],H=(35468*j[M+4]>>16)-vn(j[M+12]),Wr(y,_,0,0,U+(te=vn(j[M+4])+(35468*j[M+12]>>16))),Wr(y,_,1,0,z+H),Wr(y,_,2,0,z-H),Wr(y,_,3,0,U-te),M++,_+=32}function Zs(u,h,y,_){var C=u[h+0]+4,M=35468*u[h+4]>>16,j=vn(u[h+4]),U=35468*u[h+1]>>16;Bo(y,_,0,C+j,u=vn(u[h+1]),U),Bo(y,_,1,C+M,u,U),Bo(y,_,2,C-M,u,U),Bo(y,_,3,C-j,u,U)}function Vo(u,h,y,_,C){Dr(u,h,y,_),C&&Dr(u,h+16,y,_+4)}function il(u,h,y,_){lo(u,h+0,y,_,1),lo(u,h+32,y,_+128,1)}function jt(u,h,y,_){var C;for(u=u[h+0]+4,C=0;4>C;++C)for(h=0;4>h;++h)Wr(y,_,h,C,u)}function eo(u,h,y,_){u[h+0]&&Mr(u,h+0,y,_),u[h+16]&&Mr(u,h+16,y,_+4),u[h+32]&&Mr(u,h+32,y,_+128),u[h+48]&&Mr(u,h+48,y,_+128+4)}function to(u,h,y,_){var C,M=s(16);for(C=0;4>C;++C){var j=u[h+0+C]+u[h+12+C],U=u[h+4+C]+u[h+8+C],z=u[h+4+C]-u[h+8+C],H=u[h+0+C]-u[h+12+C];M[0+C]=j+U,M[8+C]=j-U,M[4+C]=H+z,M[12+C]=H-z}for(C=0;4>C;++C)j=(u=M[0+4*C]+3)+M[3+4*C],U=M[1+4*C]+M[2+4*C],z=M[1+4*C]-M[2+4*C],H=u-M[3+4*C],y[_+0]=j+U>>3,y[_+16]=H+z>>3,y[_+32]=j-U>>3,y[_+48]=H-z>>3,_+=64}function zi(u,h,y){var _,C=h-32,M=fi,j=255-u[C-1];for(_=0;_<y;++_){var U,z=M,H=j+u[h-1];for(U=0;U<y;++U)u[h+U]=z[H+u[C+U]];h+=32}}function Vc(u,h){zi(u,h,4)}function ru(u,h){zi(u,h,8)}function Uc(u,h){zi(u,h,16)}function qi(u,h){var y;for(y=0;16>y;++y)r(u,h+32*y,u,h-32,16)}function Uo(u,h){var y;for(y=16;0<y;--y)i(u,h,u[h-1],16),h+=32}function zo(u,h,y){var _;for(_=0;16>_;++_)i(h,y+32*_,u,16)}function Es(u,h){var y,_=16;for(y=0;16>y;++y)_+=u[h-1+32*y]+u[h+y-32];zo(_>>5,u,h)}function sn(u,h){var y,_=8;for(y=0;16>y;++y)_+=u[h-1+32*y];zo(_>>4,u,h)}function iu(u,h){var y,_=8;for(y=0;16>y;++y)_+=u[h+y-32];zo(_>>4,u,h)}function sl(u,h){zo(128,u,h)}function lt(u,h,y){return u+2*h+y+2>>2}function xs(u,h){var y,_=h-32;for(_=new Uint8Array([lt(u[_-1],u[_+0],u[_+1]),lt(u[_+0],u[_+1],u[_+2]),lt(u[_+1],u[_+2],u[_+3]),lt(u[_+2],u[_+3],u[_+4])]),y=0;4>y;++y)r(u,h+32*y,_,0,_.length)}function zc(u,h){var y=u[h-1],_=u[h-1+32],C=u[h-1+64],M=u[h-1+96];Re(u,h+0,16843009*lt(u[h-1-32],y,_)),Re(u,h+32,16843009*lt(y,_,C)),Re(u,h+64,16843009*lt(_,C,M)),Re(u,h+96,16843009*lt(C,M,M))}function Ii(u,h){var y,_=4;for(y=0;4>y;++y)_+=u[h+y-32]+u[h-1+32*y];for(_>>=3,y=0;4>y;++y)i(u,h+32*y,_,4)}function su(u,h){var y=u[h-1+0],_=u[h-1+32],C=u[h-1+64],M=u[h-1-32],j=u[h+0-32],U=u[h+1-32],z=u[h+2-32],H=u[h+3-32];u[h+0+96]=lt(_,C,u[h-1+96]),u[h+1+96]=u[h+0+64]=lt(y,_,C),u[h+2+96]=u[h+1+64]=u[h+0+32]=lt(M,y,_),u[h+3+96]=u[h+2+64]=u[h+1+32]=u[h+0+0]=lt(j,M,y),u[h+3+64]=u[h+2+32]=u[h+1+0]=lt(U,j,M),u[h+3+32]=u[h+2+0]=lt(z,U,j),u[h+3+0]=lt(H,z,U)}function ui(u,h){var y=u[h+1-32],_=u[h+2-32],C=u[h+3-32],M=u[h+4-32],j=u[h+5-32],U=u[h+6-32],z=u[h+7-32];u[h+0+0]=lt(u[h+0-32],y,_),u[h+1+0]=u[h+0+32]=lt(y,_,C),u[h+2+0]=u[h+1+32]=u[h+0+64]=lt(_,C,M),u[h+3+0]=u[h+2+32]=u[h+1+64]=u[h+0+96]=lt(C,M,j),u[h+3+32]=u[h+2+64]=u[h+1+96]=lt(M,j,U),u[h+3+64]=u[h+2+96]=lt(j,U,z),u[h+3+96]=lt(U,z,z)}function qo(u,h){var y=u[h-1+0],_=u[h-1+32],C=u[h-1+64],M=u[h-1-32],j=u[h+0-32],U=u[h+1-32],z=u[h+2-32],H=u[h+3-32];u[h+0+0]=u[h+1+64]=M+j+1>>1,u[h+1+0]=u[h+2+64]=j+U+1>>1,u[h+2+0]=u[h+3+64]=U+z+1>>1,u[h+3+0]=z+H+1>>1,u[h+0+96]=lt(C,_,y),u[h+0+64]=lt(_,y,M),u[h+0+32]=u[h+1+96]=lt(y,M,j),u[h+1+32]=u[h+2+96]=lt(M,j,U),u[h+2+32]=u[h+3+96]=lt(j,U,z),u[h+3+32]=lt(U,z,H)}function ol(u,h){var y=u[h+0-32],_=u[h+1-32],C=u[h+2-32],M=u[h+3-32],j=u[h+4-32],U=u[h+5-32],z=u[h+6-32],H=u[h+7-32];u[h+0+0]=y+_+1>>1,u[h+1+0]=u[h+0+64]=_+C+1>>1,u[h+2+0]=u[h+1+64]=C+M+1>>1,u[h+3+0]=u[h+2+64]=M+j+1>>1,u[h+0+32]=lt(y,_,C),u[h+1+32]=u[h+0+96]=lt(_,C,M),u[h+2+32]=u[h+1+96]=lt(C,M,j),u[h+3+32]=u[h+2+96]=lt(M,j,U),u[h+3+64]=lt(j,U,z),u[h+3+96]=lt(U,z,H)}function $o(u,h){var y=u[h-1+0],_=u[h-1+32],C=u[h-1+64],M=u[h-1+96];u[h+0+0]=y+_+1>>1,u[h+2+0]=u[h+0+32]=_+C+1>>1,u[h+2+32]=u[h+0+64]=C+M+1>>1,u[h+1+0]=lt(y,_,C),u[h+3+0]=u[h+1+32]=lt(_,C,M),u[h+3+32]=u[h+1+64]=lt(C,M,M),u[h+3+64]=u[h+2+64]=u[h+0+96]=u[h+1+96]=u[h+2+96]=u[h+3+96]=M}function Ho(u,h){var y=u[h-1+0],_=u[h-1+32],C=u[h-1+64],M=u[h-1+96],j=u[h-1-32],U=u[h+0-32],z=u[h+1-32],H=u[h+2-32];u[h+0+0]=u[h+2+32]=y+j+1>>1,u[h+0+32]=u[h+2+64]=_+y+1>>1,u[h+0+64]=u[h+2+96]=C+_+1>>1,u[h+0+96]=M+C+1>>1,u[h+3+0]=lt(U,z,H),u[h+2+0]=lt(j,U,z),u[h+1+0]=u[h+3+32]=lt(y,j,U),u[h+1+32]=u[h+3+64]=lt(_,y,j),u[h+1+64]=u[h+3+96]=lt(C,_,y),u[h+1+96]=lt(M,C,_)}function ou(u,h){var y;for(y=0;8>y;++y)r(u,h+32*y,u,h-32,8)}function $i(u,h){var y;for(y=0;8>y;++y)i(u,h,u[h-1],8),h+=32}function ci(u,h,y){var _;for(_=0;8>_;++_)i(h,y+32*_,u,8)}function Hi(u,h){var y,_=8;for(y=0;8>y;++y)_+=u[h+y-32]+u[h-1+32*y];ci(_>>4,u,h)}function al(u,h){var y,_=4;for(y=0;8>y;++y)_+=u[h+y-32];ci(_>>3,u,h)}function Ft(u,h){var y,_=4;for(y=0;8>y;++y)_+=u[h-1+32*y];ci(_>>3,u,h)}function ll(u,h){ci(128,u,h)}function Wo(u,h,y){var _=u[h-y],C=u[h+0],M=3*(C-_)+Km[1020+u[h-2*y]-u[h+y]],j=Hf[112+(M+4>>3)];u[h-y]=fi[255+_+Hf[112+(M+3>>3)]],u[h+0]=fi[255+C-j]}function ul(u,h,y,_){var C=u[h+0],M=u[h+y];return Ci[255+u[h-2*y]-u[h-y]]>_||Ci[255+M-C]>_}function cl(u,h,y,_){return 4*Ci[255+u[h-y]-u[h+0]]+Ci[255+u[h-2*y]-u[h+y]]<=_}function hl(u,h,y,_,C){var M=u[h-3*y],j=u[h-2*y],U=u[h-y],z=u[h+0],H=u[h+y],te=u[h+2*y],he=u[h+3*y];return 4*Ci[255+U-z]+Ci[255+j-H]>_?0:Ci[255+u[h-4*y]-M]<=C&&Ci[255+M-j]<=C&&Ci[255+j-U]<=C&&Ci[255+he-te]<=C&&Ci[255+te-H]<=C&&Ci[255+H-z]<=C}function no(u,h,y,_){var C=2*_+1;for(_=0;16>_;++_)cl(u,h+_,y,C)&&Wo(u,h+_,y)}function hi(u,h,y,_){var C=2*_+1;for(_=0;16>_;++_)cl(u,h+_*y,1,C)&&Wo(u,h+_*y,1)}function Bn(u,h,y,_){var C;for(C=3;0<C;--C)no(u,h+=4*y,y,_)}function au(u,h,y,_){var C;for(C=3;0<C;--C)hi(u,h+=4,y,_)}function Is(u,h,y,_,C,M,j,U){for(M=2*M+1;0<C--;){if(hl(u,h,y,M,j))if(ul(u,h,y,U))Wo(u,h,y);else{var z=u,H=h,te=y,he=z[H-2*te],fe=z[H-te],ae=z[H+0],Ee=z[H+te],we=z[H+2*te],ne=27*(Ae=Km[1020+3*(ae-fe)+Km[1020+he-Ee]])+63>>7,ie=18*Ae+63>>7,Ae=9*Ae+63>>7;z[H-3*te]=fi[255+z[H-3*te]+Ae],z[H-2*te]=fi[255+he+ie],z[H-te]=fi[255+fe+ne],z[H+0]=fi[255+ae-ne],z[H+te]=fi[255+Ee-ie],z[H+2*te]=fi[255+we-Ae]}h+=_}}function tr(u,h,y,_,C,M,j,U){for(M=2*M+1;0<C--;){if(hl(u,h,y,M,j))if(ul(u,h,y,U))Wo(u,h,y);else{var z=u,H=h,te=y,he=z[H-te],fe=z[H+0],ae=z[H+te],Ee=Hf[112+((we=3*(fe-he))+4>>3)],we=Hf[112+(we+3>>3)],ne=Ee+1>>1;z[H-2*te]=fi[255+z[H-2*te]+ne],z[H-te]=fi[255+he+we],z[H+0]=fi[255+fe-Ee],z[H+te]=fi[255+ae-ne]}h+=_}}function Go(u,h,y,_,C,M){Is(u,h,y,1,16,_,C,M)}function Wi(u,h,y,_,C,M){Is(u,h,1,y,16,_,C,M)}function Ko(u,h,y,_,C,M){var j;for(j=3;0<j;--j)tr(u,h+=4*y,y,1,16,_,C,M)}function ro(u,h,y,_,C,M){var j;for(j=3;0<j;--j)tr(u,h+=4,1,y,16,_,C,M)}function Jo(u,h,y,_,C,M,j,U){Is(u,h,C,1,8,M,j,U),Is(y,_,C,1,8,M,j,U)}function fl(u,h,y,_,C,M,j,U){Is(u,h,1,C,8,M,j,U),Is(y,_,1,C,8,M,j,U)}function Xo(u,h,y,_,C,M,j,U){tr(u,h+4*C,C,1,8,M,j,U),tr(y,_+4*C,C,1,8,M,j,U)}function Ns(u,h,y,_,C,M,j,U){tr(u,h+4,1,C,8,M,j,U),tr(y,_+4,1,C,8,M,j,U)}function io(){this.ba=new er,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Qt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Qo(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function so(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Yo(){this.ua=0,this.Wa=new K,this.vb=new K,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new J,this.yc=new I}function lu(){this.xb=this.a=0,this.l=new Ys,this.ca=new er,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new D,this.Pb=0,this.wd=new D,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Yo,this.ab=0,this.gc=o(4,so),this.Oc=0}function Gi(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ys,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ps(u,h,y,_,C,M,j){for(u=u==null?0:u[h+0],h=0;h<j;++h)C[M+h]=u+y[_+h]&255,u=C[M+h]}function Zo(u,h,y,_,C,M,j){var U;if(u==null)Ps(null,null,y,_,C,M,j);else for(U=0;U<j;++U)C[M+U]=u[h+U]+y[_+U]&255}function gr(u,h,y,_,C,M,j){if(u==null)Ps(null,null,y,_,C,M,j);else{var U,z=u[h+0],H=z,te=z;for(U=0;U<j;++U)H=te+(z=u[h+U])-H,te=y[_+U]+(-256&H?0>H?0:255:H)&255,H=z,C[M+U]=te}}function ea(u,h,y,_){var C=h.width,M=h.o;if(e(u!=null&&h!=null),0>y||0>=_||y+_>M)return null;if(!u.Cc){if(u.ga==null){var j;if(u.ga=new Gi,(j=u.ga==null)||(j=h.width*h.o,e(u.Gb.length==0),u.Gb=s(j),u.Uc=0,u.Gb==null?j=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,j=1),j=!j),!j){j=u.ga;var U=u.Fa,z=u.P,H=u.qc,te=u.mb,he=u.nb,fe=z+1,ae=H-1,Ee=j.l;if(e(U!=null&&te!=null&&h!=null),oa[0]=null,oa[1]=Ps,oa[2]=Zo,oa[3]=gr,j.ca=te,j.tb=he,j.c=h.width,j.i=h.height,e(0<j.c&&0<j.i),1>=H)h=0;else if(j.$a=U[z+0]>>0&3,j.Z=U[z+0]>>2&3,j.Lc=U[z+0]>>4&3,z=U[z+0]>>6&3,0>j.$a||1<j.$a||4<=j.Z||1<j.Lc||z)h=0;else if(Ee.put=dr,Ee.ac=Ln,Ee.bc=ai,Ee.ma=j,Ee.width=h.width,Ee.height=h.height,Ee.Da=h.Da,Ee.v=h.v,Ee.va=h.va,Ee.j=h.j,Ee.o=h.o,j.$a)e:{e(j.$a==1),h=En();t:for(;;){if(h==null){h=0;break e}if(e(j!=null),j.mc=h,h.c=j.c,h.i=j.i,h.l=j.l,h.l.ma=j,h.l.width=j.c,h.l.height=j.i,h.a=0,Q(h.m,U,fe,ae),!li(j.c,j.i,1,h,null)||(h.ab==1&&h.gc[0].hc==3&&Vi(h.s)?(j.ic=1,U=h.c*h.i,h.Ta=null,h.Ua=0,h.V=s(U),h.Ba=0,h.V==null?(h.a=1,h=0):h=1):(j.ic=0,h=ws(h,j.c)),!h))break t;h=1;break e}j.mc=null,h=0}else h=ae>=j.c*j.i;j=!h}if(j)return null;u.ga.Lc!=1?u.Ga=0:_=M-y}e(u.ga!=null),e(y+_<=M);e:{if(h=(U=u.ga).c,M=U.l.o,U.$a==0){if(fe=u.rc,ae=u.Vc,Ee=u.Fa,z=u.P+1+y*h,H=u.mb,te=u.nb+y*h,e(z<=u.P+u.qc),U.Z!=0)for(e(oa[U.Z]!=null),j=0;j<_;++j)oa[U.Z](fe,ae,Ee,z,H,te,h),fe=H,ae=te,te+=h,z+=h;else for(j=0;j<_;++j)r(H,te,Ee,z,h),fe=H,ae=te,te+=h,z+=h;u.rc=fe,u.Vc=ae}else{if(e(U.mc!=null),h=y+_,e((j=U.mc)!=null),e(h<=j.i),j.C>=h)h=1;else if(U.ic||oe(),U.ic){U=j.V,fe=j.Ba,ae=j.c;var we=j.i,ne=(Ee=1,z=j.$/ae,H=j.$%ae,te=j.m,he=j.s,j.$),ie=ae*we,Ae=ae*h,Ie=he.wc,Se=ne<Ae?yn(he,H,z):null;e(ne<=ie),e(h<=we),e(Vi(he));t:for(;;){for(;!te.h&&ne<Ae;){if(H&Ie||(Se=yn(he,H,z)),e(Se!=null),re(te),256>(we=Rn(Se.G[0],Se.H[0],te)))U[fe+ne]=we,++ne,++H>=ae&&(H=0,++z<=h&&!(z%16)&&Hr(j,z));else{if(!(280>we)){Ee=0;break t}we=$r(we-256,te);var $e,Me=Rn(Se.G[4],Se.H[4],te);if(re(te),!(ne>=(Me=pr(ae,Me=$r(Me,te)))&&ie-ne>=we)){Ee=0;break t}for($e=0;$e<we;++$e)U[fe+ne+$e]=U[fe+ne+$e-Me];for(ne+=we,H+=we;H>=ae;)H-=ae,++z<=h&&!(z%16)&&Hr(j,z);ne<Ae&&H&Ie&&(Se=yn(he,H,z))}e(te.h==G(te))}Hr(j,z>h?h:z);break t}!Ee||te.h&&ne<ie?(Ee=0,j.a=te.h?5:3):j.$=ne,h=Ee}else h=Rr(j,j.V,j.Ba,j.c,j.i,h,_s);if(!h){_=0;break e}}y+_>=M&&(u.Cc=1),_=1}if(!_)return null;if(u.Cc&&((_=u.ga)!=null&&(_.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+y*C}function d(u,h,y,_,C,M){for(;0<C--;){var j,U=u,z=h+(y?1:0),H=u,te=h+(y?0:3);for(j=0;j<_;++j){var he=H[te+4*j];he!=255&&(he*=32897,U[z+4*j+0]=U[z+4*j+0]*he>>23,U[z+4*j+1]=U[z+4*j+1]*he>>23,U[z+4*j+2]=U[z+4*j+2]*he>>23)}h+=M}}function k(u,h,y,_,C){for(;0<_--;){var M;for(M=0;M<y;++M){var j=u[h+2*M+0],U=15&(H=u[h+2*M+1]),z=4369*U,H=(240&H|H>>4)*z>>16;u[h+2*M+0]=(240&j|j>>4)*z>>16&240|(15&j|j<<4)*z>>16>>4&15,u[h+2*M+1]=240&H|U}h+=C}}function W(u,h,y,_,C,M,j,U){var z,H,te=255;for(H=0;H<C;++H){for(z=0;z<_;++z){var he=u[h+z];M[j+4*z]=he,te&=he}h+=y,j+=U}return te!=255}function Z(u,h,y,_,C){var M;for(M=0;M<C;++M)y[_+M]=u[h+M]>>8}function oe(){ki=d,Yt=k,Zt=W,In=Z}function _e(u,h,y){x[u]=function(_,C,M,j,U,z,H,te,he,fe,ae,Ee,we,ne,ie,Ae,Ie){var Se,$e=Ie-1>>1,Me=U[z+0]|H[te+0]<<16,nt=he[fe+0]|ae[Ee+0]<<16;e(_!=null);var Ue=3*Me+nt+131074>>2;for(h(_[C+0],255&Ue,Ue>>16,we,ne),M!=null&&(Ue=3*nt+Me+131074>>2,h(M[j+0],255&Ue,Ue>>16,ie,Ae)),Se=1;Se<=$e;++Se){var Dt=U[z+Se]|H[te+Se]<<16,Bt=he[fe+Se]|ae[Ee+Se]<<16,Lt=Me+Dt+nt+Bt+524296,At=Lt+2*(Dt+nt)>>3;Ue=At+Me>>1,Me=(Lt=Lt+2*(Me+Bt)>>3)+Dt>>1,h(_[C+2*Se-1],255&Ue,Ue>>16,we,ne+(2*Se-1)*y),h(_[C+2*Se-0],255&Me,Me>>16,we,ne+(2*Se-0)*y),M!=null&&(Ue=Lt+nt>>1,Me=At+Bt>>1,h(M[j+2*Se-1],255&Ue,Ue>>16,ie,Ae+(2*Se-1)*y),h(M[j+2*Se+0],255&Me,Me>>16,ie,Ae+(2*Se+0)*y)),Me=Dt,nt=Bt}1&Ie||(Ue=3*Me+nt+131074>>2,h(_[C+Ie-1],255&Ue,Ue>>16,we,ne+(Ie-1)*y),M!=null&&(Ue=3*nt+Me+131074>>2,h(M[j+Ie-1],255&Ue,Ue>>16,ie,Ae+(Ie-1)*y)))}}function Ne(){Li[Wf]=yE,Li[Gf]=J5,Li[$5]=vE,Li[Kf]=X5,Li[Jf]=Q5,Li[Jm]=Y5,Li[H5]=wE,Li[Xm]=J5,Li[Qm]=X5,Li[Xf]=Q5,Li[Ym]=Y5}function Be(u){return u&~_E?0>u?0:255:u>>Z5}function c(u,h){return Be((19077*u>>8)+(26149*h>>8)-14234)}function v(u,h,y){return Be((19077*u>>8)-(6419*h>>8)-(13320*y>>8)+8708)}function E(u,h){return Be((19077*u>>8)+(33050*h>>8)-17685)}function V(u,h,y,_,C){_[C+0]=c(u,y),_[C+1]=v(u,h,y),_[C+2]=E(u,h)}function se(u,h,y,_,C){_[C+0]=E(u,h),_[C+1]=v(u,h,y),_[C+2]=c(u,y)}function de(u,h,y,_,C){var M=v(u,h,y);h=M<<3&224|E(u,h)>>3,_[C+0]=248&c(u,y)|M>>5,_[C+1]=h}function Pe(u,h,y,_,C){var M=240&E(u,h)|15;_[C+0]=240&c(u,y)|v(u,h,y)>>4,_[C+1]=M}function dt(u,h,y,_,C){_[C+0]=255,V(u,h,y,_,C+1)}function bt(u,h,y,_,C){se(u,h,y,_,C),_[C+3]=255}function pt(u,h,y,_,C){V(u,h,y,_,C),_[C+3]=255}function Mt(u,h){return 0>u?0:u>h?h:u}function Wt(u,h,y){x[u]=function(_,C,M,j,U,z,H,te,he){for(var fe=te+(-2&he)*y;te!=fe;)h(_[C+0],M[j+0],U[z+0],H,te),h(_[C+1],M[j+0],U[z+0],H,te+y),C+=2,++j,++z,te+=2*y;1&he&&h(_[C+0],M[j+0],U[z+0],H,te)}}function Ki(u,h,y){return y==0?u==0?h==0?6:5:h==0?4:0:y}function nr(u,h,y,_,C){switch(u>>>30){case 3:lo(h,y,_,C,0);break;case 2:xn(h,y,_,C);break;case 1:Mr(h,y,_,C)}}function Ts(u,h){var y,_,C=h.M,M=h.Nb,j=u.oc,U=u.pc+40,z=u.oc,H=u.pc+584,te=u.oc,he=u.pc+600;for(y=0;16>y;++y)j[U+32*y-1]=129;for(y=0;8>y;++y)z[H+32*y-1]=129,te[he+32*y-1]=129;for(0<C?j[U-1-32]=z[H-1-32]=te[he-1-32]=129:(i(j,U-32-1,127,21),i(z,H-32-1,127,9),i(te,he-32-1,127,9)),_=0;_<u.za;++_){var fe=h.ya[h.aa+_];if(0<_){for(y=-1;16>y;++y)r(j,U+32*y-4,j,U+32*y+12,4);for(y=-1;8>y;++y)r(z,H+32*y-4,z,H+32*y+4,4),r(te,he+32*y-4,te,he+32*y+4,4)}var ae=u.Gd,Ee=u.Hd+_,we=fe.ad,ne=fe.Hc;if(0<C&&(r(j,U-32,ae[Ee].y,0,16),r(z,H-32,ae[Ee].f,0,8),r(te,he-32,ae[Ee].ea,0,8)),fe.Za){var ie=j,Ae=U-32+16;for(0<C&&(_>=u.za-1?i(ie,Ae,ae[Ee].y[15],4):r(ie,Ae,ae[Ee+1].y,0,4)),y=0;4>y;y++)ie[Ae+128+y]=ie[Ae+256+y]=ie[Ae+384+y]=ie[Ae+0+y];for(y=0;16>y;++y,ne<<=2)ie=j,Ae=U+ty[y],Ji[fe.Ob[y]](ie,Ae),nr(ne,we,16*+y,ie,Ae)}else if(ie=Ki(_,C,fe.Ob[0]),sa[ie](j,U),ne!=0)for(y=0;16>y;++y,ne<<=2)nr(ne,we,16*+y,j,U+ty[y]);for(y=fe.Gc,ie=Ki(_,C,fe.Dd),co[ie](z,H),co[ie](te,he),ne=we,ie=z,Ae=H,255&(fe=y>>0)&&(170&fe?Gc(ne,256,ie,Ae):Pi(ne,256,ie,Ae)),fe=te,ne=he,255&(y>>=8)&&(170&y?Gc(we,320,fe,ne):Pi(we,320,fe,ne)),C<u.Ub-1&&(r(ae[Ee].y,0,j,U+480,16),r(ae[Ee].f,0,z,H+224,8),r(ae[Ee].ea,0,te,he+224,8)),y=8*M*u.B,ae=u.sa,Ee=u.ta+16*_+16*M*u.R,we=u.qa,fe=u.ra+8*_+y,ne=u.Ha,ie=u.Ia+8*_+y,y=0;16>y;++y)r(ae,Ee+y*u.R,j,U+32*y,16);for(y=0;8>y;++y)r(we,fe+y*u.B,z,H+32*y,8),r(ne,ie+y*u.B,te,he+32*y,8)}}function ks(u,h,y,_,C,M,j,U,z){var H=[0],te=[0],he=0,fe=z!=null?z.kd:0,ae=z??new Qo;if(u==null||12>y)return 7;ae.data=u,ae.w=h,ae.ha=y,h=[h],y=[y],ae.gb=[ae.gb];e:{var Ee=h,we=y,ne=ae.gb;if(e(u!=null),e(we!=null),e(ne!=null),ne[0]=0,12<=we[0]&&!n(u,Ee[0],"RIFF")){if(n(u,Ee[0]+8,"WEBP")){ne=3;break e}var ie=Fe(u,Ee[0]+4);if(12>ie||4294967286<ie){ne=3;break e}if(fe&&ie>we[0]-8){ne=7;break e}ne[0]=ie,Ee[0]+=12,we[0]-=12}ne=0}if(ne!=0)return ne;for(ie=0<ae.gb[0],y=y[0];;){e:{var Ae=u;we=h,ne=y;var Ie=H,Se=te,$e=Ee=[0];if((Ue=he=[he])[0]=0,8>ne[0])ne=7;else{if(!n(Ae,we[0],"VP8X")){if(Fe(Ae,we[0]+4)!=10){ne=3;break e}if(18>ne[0]){ne=7;break e}var Me=Fe(Ae,we[0]+8),nt=1+je(Ae,we[0]+12);if(2147483648<=nt*(Ae=1+je(Ae,we[0]+15))){ne=3;break e}$e!=null&&($e[0]=Me),Ie!=null&&(Ie[0]=nt),Se!=null&&(Se[0]=Ae),we[0]+=18,ne[0]-=18,Ue[0]=1}ne=0}}if(he=he[0],Ee=Ee[0],ne!=0)return ne;if(we=!!(2&Ee),!ie&&he)return 3;if(M!=null&&(M[0]=!!(16&Ee)),j!=null&&(j[0]=we),U!=null&&(U[0]=0),j=H[0],Ee=te[0],he&&we&&z==null){ne=0;break}if(4>y){ne=7;break}if(ie&&he||!ie&&!he&&!n(u,h[0],"ALPH")){y=[y],ae.na=[ae.na],ae.P=[ae.P],ae.Sa=[ae.Sa];e:{Me=u,ne=h,ie=y;var Ue=ae.gb;Ie=ae.na,Se=ae.P,$e=ae.Sa,nt=22,e(Me!=null),e(ie!=null),Ae=ne[0];var Dt=ie[0];for(e(Ie!=null),e($e!=null),Ie[0]=null,Se[0]=null,$e[0]=0;;){if(ne[0]=Ae,ie[0]=Dt,8>Dt){ne=7;break e}var Bt=Fe(Me,Ae+4);if(4294967286<Bt){ne=3;break e}var Lt=8+Bt+1&-2;if(nt+=Lt,0<Ue&&nt>Ue){ne=3;break e}if(!n(Me,Ae,"VP8 ")||!n(Me,Ae,"VP8L")){ne=0;break e}if(Dt[0]<Lt){ne=7;break e}n(Me,Ae,"ALPH")||(Ie[0]=Me,Se[0]=Ae+8,$e[0]=Bt),Ae+=Lt,Dt-=Lt}}if(y=y[0],ae.na=ae.na[0],ae.P=ae.P[0],ae.Sa=ae.Sa[0],ne!=0)break}y=[y],ae.Ja=[ae.Ja],ae.xa=[ae.xa];e:if(Ue=u,ne=h,ie=y,Ie=ae.gb[0],Se=ae.Ja,$e=ae.xa,Me=ne[0],Ae=!n(Ue,Me,"VP8 "),nt=!n(Ue,Me,"VP8L"),e(Ue!=null),e(ie!=null),e(Se!=null),e($e!=null),8>ie[0])ne=7;else{if(Ae||nt){if(Ue=Fe(Ue,Me+4),12<=Ie&&Ue>Ie-12){ne=3;break e}if(fe&&Ue>ie[0]-8){ne=7;break e}Se[0]=Ue,ne[0]+=8,ie[0]-=8,$e[0]=nt}else $e[0]=5<=ie[0]&&Ue[Me+0]==47&&!(Ue[Me+4]>>5),Se[0]=ie[0];ne=0}if(y=y[0],ae.Ja=ae.Ja[0],ae.xa=ae.xa[0],h=h[0],ne!=0)break;if(4294967286<ae.Ja)return 3;if(U==null||we||(U[0]=ae.xa?2:1),j=[j],Ee=[Ee],ae.xa){if(5>y){ne=7;break}U=j,fe=Ee,we=M,u==null||5>y?u=0:5<=y&&u[h+0]==47&&!(u[h+4]>>5)?(ie=[0],Ue=[0],Ie=[0],Q(Se=new D,u,h,y),He(Se,ie,Ue,Ie)?(U!=null&&(U[0]=ie[0]),fe!=null&&(fe[0]=Ue[0]),we!=null&&(we[0]=Ie[0]),u=1):u=0):u=0}else{if(10>y){ne=7;break}U=Ee,u==null||10>y||!tl(u,h+3,y-3)?u=0:(fe=u[h+0]|u[h+1]<<8|u[h+2]<<16,we=16383&(u[h+7]<<8|u[h+6]),u=16383&(u[h+9]<<8|u[h+8]),1&fe||3<(fe>>1&7)||!(fe>>4&1)||fe>>5>=ae.Ja||!we||!u?u=0:(j&&(j[0]=we),U&&(U[0]=u),u=1))}if(!u||(j=j[0],Ee=Ee[0],he&&(H[0]!=j||te[0]!=Ee)))return 3;z!=null&&(z[0]=ae,z.offset=h-z.w,e(4294967286>h-z.w),e(z.offset==z.ha-y));break}return ne==0||ne==7&&he&&z==null?(M!=null&&(M[0]|=ae.na!=null&&0<ae.na.length),_!=null&&(_[0]=j),C!=null&&(C[0]=Ee),0):ne}function qc(u,h,y){var _=h.width,C=h.height,M=0,j=0,U=_,z=C;if(h.Da=u!=null&&0<u.Da,h.Da&&(U=u.cd,z=u.bd,M=u.v,j=u.j,11>y||(M&=-2,j&=-2),0>M||0>j||0>=U||0>=z||M+U>_||j+z>C))return 0;if(h.v=M,h.j=j,h.va=M+U,h.o=j+z,h.U=U,h.T=z,h.da=u!=null&&0<u.da,h.da){if(!ht(U,z,y=[u.ib],M=[u.hb]))return 0;h.ib=y[0],h.hb=M[0]}return h.ob=u!=null&&u.ob,h.Kb=u==null||!u.Sd,h.da&&(h.ob=h.ib<3*_/4&&h.hb<3*C/4,h.Kb=0),1}function $c(u){if(u==null)return 2;if(11>u.S){var h=u.f.RGBA;h.fb+=(u.height-1)*h.A,h.A=-h.A}else h=u.f.kb,u=u.height,h.O+=(u-1)*h.fa,h.fa=-h.fa,h.N+=(u-1>>1)*h.Ab,h.Ab=-h.Ab,h.W+=(u-1>>1)*h.Db,h.Db=-h.Db,h.F!=null&&(h.J+=(u-1)*h.lb,h.lb=-h.lb);return 0}function uu(u,h,y,_){if(_==null||0>=u||0>=h)return 2;if(y!=null){if(y.Da){var C=y.cd,M=y.bd,j=-2&y.v,U=-2&y.j;if(0>j||0>U||0>=C||0>=M||j+C>u||U+M>h)return 2;u=C,h=M}if(y.da){if(!ht(u,h,C=[y.ib],M=[y.hb]))return 2;u=C[0],h=M[0]}}_.width=u,_.height=h;e:{var z=_.width,H=_.height;if(u=_.S,0>=z||0>=H||!(u>=Wf&&13>u))u=2;else{if(0>=_.Rd&&_.sd==null){j=M=C=h=0;var te=(U=z*ny[u])*H;if(11>u||(M=(H+1)/2*(h=(z+1)/2),u==12&&(j=(C=z)*H)),(H=s(te+2*M+j))==null){u=1;break e}_.sd=H,11>u?((z=_.f.RGBA).eb=H,z.fb=0,z.A=U,z.size=te):((z=_.f.kb).y=H,z.O=0,z.fa=U,z.Fd=te,z.f=H,z.N=0+te,z.Ab=h,z.Cd=M,z.ea=H,z.W=0+te+M,z.Db=h,z.Ed=M,u==12&&(z.F=H,z.J=0+te+2*M),z.Tc=j,z.lb=C)}if(h=1,C=_.S,M=_.width,j=_.height,C>=Wf&&13>C)if(11>C)u=_.f.RGBA,h&=(U=Math.abs(u.A))*(j-1)+M<=u.size,h&=U>=M*ny[C],h&=u.eb!=null;else{u=_.f.kb,U=(M+1)/2,te=(j+1)/2,z=Math.abs(u.fa),H=Math.abs(u.Ab);var he=Math.abs(u.Db),fe=Math.abs(u.lb),ae=fe*(j-1)+M;h&=z*(j-1)+M<=u.Fd,h&=H*(te-1)+U<=u.Cd,h=(h&=he*(te-1)+U<=u.Ed)&z>=M&H>=U&he>=U,h&=u.y!=null,h&=u.f!=null,h&=u.ea!=null,C==12&&(h&=fe>=M,h&=ae<=u.Tc,h&=u.F!=null)}else h=0;u=h?0:2}}return u!=0||y!=null&&y.fd&&(u=$c(_)),u}var rr=64,cu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],hu=24,fu=32,Hc=8,Gr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];De("Predictor0","PredictorAdd0"),x.Predictor0=function(){return 4278190080},x.Predictor1=function(u){return u},x.Predictor2=function(u,h,y){return h[y+0]},x.Predictor3=function(u,h,y){return h[y+1]},x.Predictor4=function(u,h,y){return h[y-1]},x.Predictor5=function(u,h,y){return Ve(Ve(u,h[y+1]),h[y+0])},x.Predictor6=function(u,h,y){return Ve(u,h[y-1])},x.Predictor7=function(u,h,y){return Ve(u,h[y+0])},x.Predictor8=function(u,h,y){return Ve(h[y-1],h[y+0])},x.Predictor9=function(u,h,y){return Ve(h[y+0],h[y+1])},x.Predictor10=function(u,h,y){return Ve(Ve(u,h[y-1]),Ve(h[y+0],h[y+1]))},x.Predictor11=function(u,h,y){var _=h[y+0];return 0>=ft(_>>24&255,u>>24&255,(h=h[y-1])>>24&255)+ft(_>>16&255,u>>16&255,h>>16&255)+ft(_>>8&255,u>>8&255,h>>8&255)+ft(255&_,255&u,255&h)?_:u},x.Predictor12=function(u,h,y){var _=h[y+0];return(Xe((u>>24&255)+(_>>24&255)-((h=h[y-1])>>24&255))<<24|Xe((u>>16&255)+(_>>16&255)-(h>>16&255))<<16|Xe((u>>8&255)+(_>>8&255)-(h>>8&255))<<8|Xe((255&u)+(255&_)-(255&h)))>>>0},x.Predictor13=function(u,h,y){var _=h[y-1];return(at((u=Ve(u,h[y+0]))>>24&255,_>>24&255)<<24|at(u>>16&255,_>>16&255)<<16|at(u>>8&255,_>>8&255)<<8|at(u>>0&255,_>>0&255))>>>0};var Gm=x.PredictorAdd0;x.PredictorAdd1=Ye,De("Predictor2","PredictorAdd2"),De("Predictor3","PredictorAdd3"),De("Predictor4","PredictorAdd4"),De("Predictor5","PredictorAdd5"),De("Predictor6","PredictorAdd6"),De("Predictor7","PredictorAdd7"),De("Predictor8","PredictorAdd8"),De("Predictor9","PredictorAdd9"),De("Predictor10","PredictorAdd10"),De("Predictor11","PredictorAdd11"),De("Predictor12","PredictorAdd12"),De("Predictor13","PredictorAdd13");var Wc=x.PredictorAdd2;vt("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),vt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var Vf,Ni=x.ColorIndexInverseTransform,du=x.MapARGB,Uf=x.VP8LColorIndexInverseTransformAlpha,zf=x.MapAlpha,ta=x.VP8LPredictorsAdd=[];ta.length=16,(x.VP8LPredictors=[]).length=16,(x.VP8LPredictorsAdd_C=[]).length=16,(x.VP8LPredictors_C=[]).length=16;var dl,Kr,Fr,na,oo,ao,pu,lo,xn,Gc,Mr,Pi,mu,qf,Kc,pl,ml,ra,gl,gu,yl,ia,Jc,Ti,ki,Yt,Zt,In,Vn=s(511),uo=s(2041),Xc=s(225),yu=s(767),$f=0,Km=uo,Hf=Xc,fi=yu,Ci=Vn,Wf=0,Gf=1,$5=2,Kf=3,Jf=4,Jm=5,H5=6,Xm=7,Qm=8,Xf=9,Ym=10,rE=[2,3,7],iE=[3,3,11],W5=[280,256,256,256,40],sE=[0,1,1,1,0],oE=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],aE=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],lE=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],uE=8,Zm=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],eg=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Qc=null,cE=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],hE=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],G5=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],fE=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],dE=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],pE=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],mE=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],sa=[],Ji=[],co=[],gE=1,K5=2,oa=[],Li=[];_e("UpsampleRgbLinePair",V,3),_e("UpsampleBgrLinePair",se,3),_e("UpsampleRgbaLinePair",pt,4),_e("UpsampleBgraLinePair",bt,4),_e("UpsampleArgbLinePair",dt,4),_e("UpsampleRgba4444LinePair",Pe,2),_e("UpsampleRgb565LinePair",de,2);var yE=x.UpsampleRgbLinePair,vE=x.UpsampleBgrLinePair,J5=x.UpsampleRgbaLinePair,X5=x.UpsampleBgraLinePair,Q5=x.UpsampleArgbLinePair,Y5=x.UpsampleRgba4444LinePair,wE=x.UpsampleRgb565LinePair,Qf=16,Yf=1<<Qf-1,Yc=-227,tg=482,Z5=6,_E=(256<<Z5)-1,ey=0,bE=s(256),AE=s(256),SE=s(256),EE=s(256),xE=s(tg-Yc),IE=s(tg-Yc);Wt("YuvToRgbRow",V,3),Wt("YuvToBgrRow",se,3),Wt("YuvToRgbaRow",pt,4),Wt("YuvToBgraRow",bt,4),Wt("YuvToArgbRow",dt,4),Wt("YuvToRgba4444Row",Pe,2),Wt("YuvToRgb565Row",de,2);var ty=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Zf=[0,2,8],NE=[8,7,6,4,4,2,2,2,1,1,1,1],PE=1;this.WebPDecodeRGBA=function(u,h,y,_,C){var M=Gf,j=new io,U=new er;j.ba=U,U.S=M,U.width=[U.width],U.height=[U.height];var z=U.width,H=U.height,te=new oi;if(te==null||u==null)var he=2;else e(te!=null),he=ks(u,h,y,te.width,te.height,te.Pd,te.Qd,te.format,null);if(he!=0?z=0:(z!=null&&(z[0]=te.width[0]),H!=null&&(H[0]=te.height[0]),z=1),z){U.width=U.width[0],U.height=U.height[0],_!=null&&(_[0]=U.width),C!=null&&(C[0]=U.height);e:{if(_=new Ys,(C=new Qo).data=u,C.w=h,C.ha=y,C.kd=1,h=[0],e(C!=null),((u=ks(C.data,C.w,C.ha,null,null,null,h,null,C))==0||u==7)&&h[0]&&(u=4),(h=u)==0){if(e(j!=null),_.data=C.data,_.w=C.w+C.offset,_.ha=C.ha-C.offset,_.put=dr,_.ac=Ln,_.bc=ai,_.ma=j,C.xa){if((u=En())==null){j=1;break e}if(function(fe,ae){var Ee=[0],we=[0],ne=[0];t:for(;;){if(fe==null)return 0;if(ae==null)return fe.a=2,0;if(fe.l=ae,fe.a=0,Q(fe.m,ae.data,ae.w,ae.ha),!He(fe.m,Ee,we,ne)){fe.a=3;break t}if(fe.xb=K5,ae.width=Ee[0],ae.height=we[0],!li(Ee[0],we[0],1,fe,null))break t;return 1}return e(fe.a!=0),0}(u,_)){if(_=(h=uu(_.width,_.height,j.Oa,j.ba))==0){t:{_=u;n:for(;;){if(_==null){_=0;break t}if(e(_.s.yc!=null),e(_.s.Ya!=null),e(0<_.s.Wb),e((y=_.l)!=null),e((C=y.ma)!=null),_.xb!=0){if(_.ca=C.ba,_.tb=C.tb,e(_.ca!=null),!qc(C.Oa,y,Kf)){_.a=2;break n}if(!ws(_,y.width)||y.da)break n;if((y.da||Nt(_.ca.S))&&oe(),11>_.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),_.ca.f.kb.F!=null&&oe()),_.Pb&&0<_.s.ua&&_.s.vb.X==null&&!et(_.s.vb,_.s.Wa.Xa)){_.a=1;break n}_.xb=0}if(!Rr(_,_.V,_.Ba,_.c,_.i,y.o,Mo))break n;C.Dc=_.Ma,_=1;break t}e(_.a!=0),_=0}_=!_}_&&(h=u.a)}else h=u.a}else{if((u=new el)==null){j=1;break e}if(u.Fa=C.na,u.P=C.P,u.qc=C.Sa,nl(u,_)){if((h=uu(_.width,_.height,j.Oa,j.ba))==0){if(u.Aa=0,y=j.Oa,e((C=u)!=null),y!=null){if(0<(z=0>(z=y.Md)?0:100<z?255:255*z/100)){for(H=te=0;4>H;++H)12>(he=C.pb[H]).lc&&(he.ia=z*NE[0>he.lc?0:he.lc]>>3),te|=he.ia;te&&(alert("todo:VP8InitRandom"),C.ia=1)}C.Ga=y.Id,100<C.Ga?C.Ga=100:0>C.Ga&&(C.Ga=0)}nu(u,_)||(h=u.a)}}else h=u.a}h==0&&j.Oa!=null&&j.Oa.fd&&(h=$c(j.ba))}j=h}M=j!=0?null:11>M?U.f.RGBA.eb:U.f.kb.y}else M=null;return M};var ny=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(x,R){for(var B="",S=0;S<4;S++)B+=String.fromCharCode(x[R++]);return B}function g(x,R){return(x[R+0]<<0|x[R+1]<<8|x[R+2]<<16)>>>0}function p(x,R){return(x[R+0]<<0|x[R+1]<<8|x[R+2]<<16|x[R+3]<<24)>>>0}new l;var w=[0],m=[0],P=[],N=new l,F=t,A=function(x,R){var B={},S=0,I=!1,T=0,J=0;if(B.frames=[],!function($,G,Y,re){for(var ce=0;ce<re;ce++)if($[G+ce]!=Y.charCodeAt(ce))return!0;return!1}(x,R,"RIFF",4)){var ge,pe;for(p(x,R+=4),R+=8;R<x.length;){var ve=f(x,R),Q=p(x,R+=4);R+=4;var le=Q+(1&Q);switch(ve){case"VP8 ":case"VP8L":B.frames[S]===void 0&&(B.frames[S]={}),(D=B.frames[S]).src_off=I?J:R-8,D.src_size=T+Q+8,S++,I&&(I=!1,T=0,J=0);break;case"VP8X":(D=B.header={}).feature_flags=x[R];var ue=R+4;D.canvas_width=1+g(x,ue),ue+=3,D.canvas_height=1+g(x,ue),ue+=3;break;case"ALPH":I=!0,T=le+8,J=R-8;break;case"ANIM":(D=B.header).bgcolor=p(x,R),ue=R+4,D.loop_count=(ge=x)[(pe=ue)+0]<<0|ge[pe+1]<<8,ue+=2;break;case"ANMF":var xe,D;(D=B.frames[S]={}).offset_x=2*g(x,R),R+=3,D.offset_y=2*g(x,R),R+=3,D.width=1+g(x,R),R+=3,D.height=1+g(x,R),R+=3,D.duration=g(x,R),R+=3,xe=x[R++],D.dispose=1&xe,D.blend=xe>>1&1}ve!="ANMF"&&(R+=le)}return B}}(F,0);A.response=F,A.rgbaoutput=!0,A.dataurl=!1;var b=A.header?A.header:null,O=A.frames?A.frames:null;if(b){b.loop_counter=b.loop_count,w=[b.canvas_height],m=[b.canvas_width];for(var q=0;q<O.length&&O[q].blend!=0;q++);}var X=O[0],ee=N.WebPDecodeRGBA(F,X.src_off,X.src_size,m,w);X.rgba=ee,X.imgwidth=m[0],X.imgheight=w[0];for(var L=0;L<m[0]*w[0]*4;L++)P[L]=ee[L];return this.width=m,this.height=w,this.data=P,this}(function(t){var e=function(){return typeof h0=="function"},n=function(w,m,P,N){var F=4,A=o;switch(N){case t.image_compression.FAST:F=1,A=s;break;case t.image_compression.MEDIUM:F=6,A=a;break;case t.image_compression.SLOW:F=9,A=l}w=r(w,m,P,A);var b=h0(w,{level:F});return t.__addimage__.arrayBufferToBinaryString(b)},r=function(w,m,P,N){for(var F,A,b,O=w.length/m,q=new Uint8Array(w.length+O),X=g(),ee=0;ee<O;ee+=1){if(b=ee*m,F=w.subarray(b,b+m),N)q.set(N(F,P,A),b+ee);else{for(var L,x=X.length,R=[];L<x;L+=1)R[L]=X[L](F,P,A);var B=p(R.concat());q.set(R[B],b+ee)}A=F}return q},i=function(w){var m=Array.apply([],w);return m.unshift(0),m},s=function(w,m){var P,N=[],F=w.length;N[0]=1;for(var A=0;A<F;A+=1)P=w[A-m]||0,N[A+1]=w[A]-P+256&255;return N},o=function(w,m,P){var N,F=[],A=w.length;F[0]=2;for(var b=0;b<A;b+=1)N=P&&P[b]||0,F[b+1]=w[b]-N+256&255;return F},a=function(w,m,P){var N,F,A=[],b=w.length;A[0]=3;for(var O=0;O<b;O+=1)N=w[O-m]||0,F=P&&P[O]||0,A[O+1]=w[O]+256-(N+F>>>1)&255;return A},l=function(w,m,P){var N,F,A,b,O=[],q=w.length;O[0]=4;for(var X=0;X<q;X+=1)N=w[X-m]||0,F=P&&P[X]||0,A=P&&P[X-m]||0,b=f(N,F,A),O[X+1]=w[X]-b+256&255;return O},f=function(w,m,P){if(w===m&&m===P)return w;var N=Math.abs(m-P),F=Math.abs(w-P),A=Math.abs(w+m-P-P);return N<=F&&N<=A?w:F<=A?m:P},g=function(){return[i,s,o,a,l]},p=function(w){var m=w.map(function(P){return P.reduce(function(N,F){return N+Math.abs(F)},0)});return m.indexOf(Math.min.apply(null,m))};t.processPNG=function(w,m,P,N){var F,A,b,O,q,X,ee,L,x,R,B,S,I,T,J,ge=this.decode.FLATE_DECODE,pe="";if(this.__addimage__.isArrayBuffer(w)&&(w=new Uint8Array(w)),this.__addimage__.isArrayBufferView(w)){if(w=(b=new FN(w)).imgData,A=b.bits,F=b.colorSpace,q=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){x=(L=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,B=new Uint8Array(x*b.colors),R=new Uint8Array(x);var ve,Q=b.pixelBitlength-b.bits;for(T=0,J=0;T<x;T++){for(I=L[T],ve=0;ve<Q;)B[J++]=I>>>ve&255,ve+=b.bits;R[T]=I>>>ve&255}}if(b.bits===16){x=(L=new Uint32Array(b.decodePixels().buffer)).length,B=new Uint8Array(x*(32/b.pixelBitlength)*b.colors),R=new Uint8Array(x*(32/b.pixelBitlength)),S=b.colors>1,T=0,J=0;for(var le=0;T<x;)I=L[T++],B[J++]=I>>>0&255,S&&(B[J++]=I>>>16&255,I=L[T++],B[J++]=I>>>0&255),R[le++]=I>>>16&255;A=8}N!==t.image_compression.NONE&&e()?(w=n(B,b.width*b.colors,b.colors,N),ee=n(R,b.width,1,N)):(w=B,ee=R,ge=void 0)}if(b.colorType===3&&(F=this.color_spaces.INDEXED,X=b.palette,b.transparency.indexed)){var ue=b.transparency.indexed,xe=0;for(T=0,x=ue.length;T<x;++T)xe+=ue[T];if((xe/=255)===x-1&&ue.indexOf(0)!==-1)O=[ue.indexOf(0)];else if(xe!==x){for(L=b.decodePixels(),R=new Uint8Array(L.length),T=0,x=L.length;T<x;T++)R[T]=ue[L[T]];ee=n(R,b.width,1)}}var D=function($){var G;switch($){case t.image_compression.FAST:G=11;break;case t.image_compression.MEDIUM:G=13;break;case t.image_compression.SLOW:G=14;break;default:G=12}return G}(N);return ge===this.decode.FLATE_DECODE&&(pe="/Predictor "+D+" "),pe+="/Colors "+q+" /BitsPerComponent "+A+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),(ee&&this.__addimage__.isArrayBuffer(ee)||this.__addimage__.isArrayBufferView(ee))&&(ee=this.__addimage__.arrayBufferToBinaryString(ee)),{alias:P,data:w,index:m,filter:ge,decodeParameters:pe,transparency:O,palette:X,sMask:ee,predictor:D,width:b.width,height:b.height,bitsPerComponent:A,colorSpace:F}}}})(st.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new MN(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var f={data:l,width:o,height:a},g=new Wg(100).encode(f,100);return t.processJPEG.call(this,g,n,r,i)},t.processGIF87A=t.processGIF89A}(st.API),Zi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Zi.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Kt.log("bit decode error:"+n)}},Zi.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Zi.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,f=this.palette[a];if(this.data[o]=f.blue,this.data[o+1]=f.green,this.data[o+2]=f.red,this.data[o+3]=255,2*i+1>=this.width)break;f=this.palette[l],this.data[o+4]=f.blue,this.data[o+4+1]=f.green,this.data[o+4+2]=f.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Zi.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Zi.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,f=s>>15?255:0,g=r*this.width*4+4*i;this.data[g]=l,this.data[g+1]=a,this.data[g+2]=o,this.data[g+3]=f}this.pos+=t}},Zi.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,f=(o>>11)/e*255|0,g=i*this.width*4+4*s;this.data[g]=f,this.data[g+1]=l,this.data[g+2]=a,this.data[g+3]=255}this.pos+=t}},Zi.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Zi.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},Zi.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new Zi(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},f=new Wg(100).encode(l,100);return t.processJPEG.call(this,f,n,r,i)}}(st.API),Kv.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new Kv(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},f=new Wg(100).encode(l,100);return t.processJPEG.call(this,f,n,r,i)}}(st.API),st.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,f=0;f<i;f+=4){var g=r[f],p=r[f+1],w=r[f+2],m=r[f+3];s[a++]=g,s[a++]=p,s[a++]=w,o[l++]=m}var P=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:P,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},st.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Eu=st.API,kd=Eu.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,f=e.kerning?e.kerning:i.metadata.Unicode.kerning,g=f.fof?f.fof:1,p=e.doKerning!==!1,w=0,m=t.length,P=0,N=a[0]||l,F=[];for(n=0;n<m;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?F.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(w=p&&Ut(f[r])==="object"&&!isNaN(parseInt(f[r][P],10))?f[r][P]/g:0,F.push((a[r]||N)/l+w)),P=r;return F},$v=Eu.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Eu.processArabic&&(t=Eu.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:kd.apply(this,arguments).reduce(function(s,o){return s+o},0)},Hv=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},Wv=function(t,e,n){n||(n={});var r,i,s,o,a,l,f,g=[],p=[g],w=n.textIndent||0,m=0,P=0,N=t.split(" "),F=kd.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?N[0].length+2:n.lineIndent||0){var A=Array(l).join(" "),b=[];N.map(function(q){(q=q.split(/\s*\n/)).length>1?b=b.concat(q.map(function(X,ee){return(ee&&X.length?`
`:"")+X})):b.push(q[0])}),N=b,l=$v.apply(this,[A,n])}for(s=0,o=N.length;s<o;s++){var O=0;if(r=N[s],l&&r[0]==`
`&&(r=r.substr(1),O=1),w+m+(P=(i=kd.apply(this,[r,n])).reduce(function(q,X){return q+X},0))>e||O){if(P>e){for(a=Hv.apply(this,[r,i,e-(w+m),e]),g.push(a.shift()),g=[a.pop()];a.length;)p.push([a.shift()]);P=i.slice(r.length-(g[0]?g[0].length:0)).reduce(function(q,X){return q+X},0)}else g=[r];p.push(g),w=P+l,m=F}else g.push(r),w+=m+P,m=F}return f=l?function(q,X){return(X?A:"")+q.join(" ")}:function(q){return q.join(" ")},p.map(f)},Eu.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var p=this.internal.getFont(g.fontName,g.fontStyle);return p.metadata.Unicode?{widths:p.metadata.Unicode.widths||{0:1},kerning:p.metadata.Unicode.kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,f=[];for(a=0,l=r.length;a<l;a++)f=f.concat(Wv.apply(this,[r[a],o,s]));return f},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(p){return"0x"+parseInt(p,10).toString(16)},o=t.__fontmetrics__.compress=function(p){var w,m,P,N,F=["{"];for(var A in p){if(w=p[A],isNaN(parseInt(A,10))?m="'"+A+"'":(A=parseInt(A,10),m=(m=s(A).slice(2)).slice(0,-1)+r[m.slice(-1)]),typeof w=="number")w<0?(P=s(w).slice(3),N="-"):(P=s(w).slice(2),N=""),P=N+P.slice(0,-1)+r[P.slice(-1)];else{if(Ut(w)!=="object")throw new Error("Don't know what to do with value type "+Ut(w)+".");P=o(w)}F.push(m+P)}return F.push("}"),F.join("")},a=t.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var w,m,P,N,F={},A=1,b=F,O=[],q="",X="",ee=p.length-1,L=1;L<ee;L+=1)(N=p[L])=="'"?w?(P=w.join(""),w=void 0):w=[]:w?w.push(N):N=="{"?(O.push([b,P]),b={},P=void 0):N=="}"?((m=O.pop())[0][m[1]]=b,P=void 0,b=m[0]):N=="-"?A=-1:P===void 0?n.hasOwnProperty(N)?(q+=n[N],P=parseInt(q,16)*A,A=1,q=""):q+=N:n.hasOwnProperty(N)?(X+=n[N],b[P]=parseInt(X,16)*A,A=1,P=void 0,X=""):X+=N;return F},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},g={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(p){var w=p.font,m=g.Unicode[w.postScriptName];m&&(w.metadata.Unicode={},w.metadata.Unicode.widths=m.widths,w.metadata.Unicode.kerning=m.kerning);var P=f.Unicode[w.postScriptName];P&&(w.metadata.Unicode.encoding=P,w.encoding=P.codePages[0])}])}(st.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(jh(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(st),function(t){function e(){return(ot.canvg?Promise.resolve(ot.canvg):o0(()=>import("./index.es-BbbZUCVr.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}st.API.addSvgAsImage=function(n,r,i,s,o,a,l,f){if(isNaN(r)||isNaN(i))throw Kt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Kt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var g=document.createElement("canvas");g.width=s,g.height=o;var p=g.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,g.width,g.height);var w={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return e().then(function(P){return P.fromString(p,n,w)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(P){return P.render(w)}).then(function(){m.addImage(g.toDataURL("image/jpeg",1),r,i,s,o,l,f)})}}(),st.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},st.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],f=0,g=0,p=0;function w(P,N){var F,A=!1;for(F=0;F<P.length;F+=1)P[F]===N&&(A=!0);return A}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var m=a.length;for(p=0;p<m;p+=1)n[a[p]].value=n[a[p]].defaultValue,n[a[p]].explicitSet=!1}if(Ut(t)==="object"){for(i in t)if(s=t[i],w(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&w(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(f=0;f<s.length;f+=1)if(r=!0,s[f].length===1&&typeof s[f][0]=="number")l.push(String(s[f]-1));else if(s[f].length>1){for(g=0;g<s[f].length;g+=1)typeof s[f][g]!="number"&&(r=!1);r===!0&&l.push([s[f][0]-1,s[f][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var P,N=[];for(P in n)n[P].explicitSet===!0&&(n[P].type==="name"?N.push("/"+P+" /"+n[P].value):N.push("/"+P+" "+n[P].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),f=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(st.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,f=["","0","00","000","0000"],g=[""],p=0,w=s.length;p<w;++p){if(a=o.metadata.characterToGlyph(s.charCodeAt(p)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(p),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return g.join("");a=a.toString(16),g.push(f[4-a.length],a)}return g.join("")},r=function(s){var o,a,l,f,g,p,w;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],p=0,w=(a=Object.keys(s).sort(function(m,P){return m-P})).length;p<w;p++)o=a[p],l.length>=100&&(g+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(f=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+f+">"));return l.length&&(g+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),g+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,f=o.newObject,g=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var p=a.metadata.Unicode.widths,w=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),m="",P=0;P<w.length;P++)m+=String.fromCharCode(w[P]);var N=f();g({data:m,addLength1:!0,objectId:N}),l("endobj");var F=f();g({data:r(a.metadata.toUnicode),addLength1:!0,objectId:F}),l("endobj");var A=f();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Pu(a.fontName)),l("/FontFile2 "+N+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var b=f();l("<<"),l("/Type /Font"),l("/BaseFont /"+Pu(a.fontName)),l("/FontDescriptor "+A+" 0 R"),l("/W "+t.API.PDFObject.convert(p)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=f(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+F+" 0 R"),l("/BaseFont /"+Pu(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,f=o.newObject,g=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var p=a.metadata.rawData,w="",m=0;m<p.length;m++)w+=String.fromCharCode(p[m]);var P=f();g({data:w,addLength1:!0,objectId:P}),l("endobj");var N=f();g({data:r(a.metadata.toUnicode),addLength1:!0,objectId:N}),l("endobj");var F=f();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+P+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Pu(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=f();for(var A=0;A<a.metadata.hmtx.widths.length;A++)a.metadata.hmtx.widths[A]=parseInt(a.metadata.hmtx.widths[A]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+Pu(a.fontName)+"/FontDescriptor "+F+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,f=s.y,g=s.options||{},p=s.mutex||{},w=p.pdfEscape,m=p.activeFontKey,P=p.fonts,N=m,F="",A=0,b="",O=P[N].encoding;if(P[N].encoding!=="Identity-H")return{text:a,x:l,y:f,options:g,mutex:p};for(b=a,N=m,Array.isArray(a)&&(b=a[0]),A=0;A<b.length;A+=1)P[N].metadata.hasOwnProperty("cmap")&&(o=P[N].metadata.cmap.unicode.codeMap[b[A].charCodeAt(0)]),o||b[A].charCodeAt(0)<256&&P[N].metadata.hasOwnProperty("Unicode")?F+=b[A]:F+="";var q="";return parseInt(N.slice(1))<14||O==="WinAnsiEncoding"?q=w(F,N).split("").map(function(X){return X.charCodeAt(0).toString(16)}).join(""):O==="Identity-H"&&(q=n(F,P[N])),p.isHex=!0,{text:q,x:l,y:f,options:g,mutex:p}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var f=0;for(f=0;f<o.length;f+=1)Array.isArray(o[f])&&o[f].length===3?a.push([i(Object.assign({},l,{text:o[f][0]})).text,o[f][1],o[f][2]]):a.push(i(Object.assign({},l,{text:o[f]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(st),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(st.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,l,f,g,p=e,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],P={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},F=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],A=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,O=0;this.__bidiEngine__={};var q=function(S){var I=S.charCodeAt(),T=I>>8,J=N[T];return J!==void 0?p[256*J+(255&I)]:T===252||T===253?"AL":A.test(T)?"L":T===8?"R":"N"},X=function(S){for(var I,T=0;T<S.length;T++){if((I=q(S.charAt(T)))==="L")return!1;if(I==="R")return!0}return!1},ee=function(S,I,T,J){var ge,pe,ve,Q,le=I[J];switch(le){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(le="AN");break;case"AL":b=!0,le="R";break;case"WS":le="N";break;case"CS":J<1||J+1>=I.length||(ge=T[J-1])!=="EN"&&ge!=="AN"||(pe=I[J+1])!=="EN"&&pe!=="AN"?le="N":b&&(pe="AN"),le=pe===ge?pe:"N";break;case"ES":le=(ge=J>0?T[J-1]:"B")==="EN"&&J+1<I.length&&I[J+1]==="EN"?"EN":"N";break;case"ET":if(J>0&&T[J-1]==="EN"){le="EN";break}if(b){le="N";break}for(ve=J+1,Q=I.length;ve<Q&&I[ve]==="ET";)ve++;le=ve<Q&&I[ve]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(Q=I.length,ve=J+1;ve<Q&&I[ve]==="NSM";)ve++;if(ve<Q){var ue=S[J],xe=ue>=1425&&ue<=2303||ue===64286;if(ge=I[ve],xe&&(ge==="R"||ge==="AL")){le="R";break}}}le=J<1||(ge=I[J-1])==="B"?"N":T[J-1];break;case"B":b=!1,i=!0,le=O;break;case"S":s=!0,le="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":le="N"}return le},L=function(S,I,T){var J=S.split("");return T&&x(J,T,{hiLevel:O}),J.reverse(),I&&I.reverse(),J.join("")},x=function(S,I,T){var J,ge,pe,ve,Q,le=-1,ue=S.length,xe=0,D=[],$=O?m:w,G=[];for(b=!1,i=!1,s=!1,ge=0;ge<ue;ge++)G[ge]=q(S[ge]);for(pe=0;pe<ue;pe++){if(Q=xe,D[pe]=ee(S,G,D,pe),J=240&(xe=$[Q][P[D[pe]]]),xe&=15,I[pe]=ve=$[xe][5],J>0)if(J===16){for(ge=le;ge<pe;ge++)I[ge]=1;le=-1}else le=-1;if($[xe][6])le===-1&&(le=pe);else if(le>-1){for(ge=le;ge<pe;ge++)I[ge]=ve;le=-1}G[pe]==="B"&&(I[pe]=0),T.hiLevel|=ve}s&&function(Y,re,ce){for(var me=0;me<ce;me++)if(Y[me]==="S"){re[me]=O;for(var ye=me-1;ye>=0&&Y[ye]==="WS";ye--)re[ye]=O}}(G,I,ue)},R=function(S,I,T,J,ge){if(!(ge.hiLevel<S)){if(S===1&&O===1&&!i)return I.reverse(),void(T&&T.reverse());for(var pe,ve,Q,le,ue=I.length,xe=0;xe<ue;){if(J[xe]>=S){for(Q=xe+1;Q<ue&&J[Q]>=S;)Q++;for(le=xe,ve=Q-1;le<ve;le++,ve--)pe=I[le],I[le]=I[ve],I[ve]=pe,T&&(pe=T[le],T[le]=T[ve],T[ve]=pe);xe=Q}xe++}}},B=function(S,I,T){var J=S.split(""),ge={hiLevel:O};return T||(T=[]),x(J,T,ge),function(pe,ve,Q){if(Q.hiLevel!==0&&g)for(var le,ue=0;ue<pe.length;ue++)ve[ue]===1&&(le=F.indexOf(pe[ue]))>=0&&(pe[ue]=F[le+1])}(J,T,ge),R(2,J,I,T,ge),R(1,J,I,T,ge),J.join("")};return this.__bidiEngine__.doBidiReorder=function(S,I,T){if(function(ge,pe){if(pe)for(var ve=0;ve<ge.length;ve++)pe[ve]=ve;a===void 0&&(a=X(ge)),f===void 0&&(f=X(ge))}(S,I),o||!l||f)if(o&&l&&a^f)O=a?1:0,S=L(S,I,T);else if(!o&&l&&f)O=a?1:0,S=B(S,I,T),S=L(S,I);else if(!o||a||l||f){if(o&&!l&&a^f)S=L(S,I),a?(O=0,S=B(S,I,T)):(O=1,S=B(S,I,T),S=L(S,I));else if(o&&a&&!l&&f)O=1,S=B(S,I,T),S=L(S,I);else if(!o&&!l&&a^f){var J=g;a?(O=1,S=B(S,I,T),O=0,g=!1,S=B(S,I,T),g=J):(O=0,S=B(S,I,T),S=L(S,I),O=1,g=!1,S=B(S,I,T),g=J,S=L(S,I))}}else O=0,S=B(S,I,T);else O=a?1:0,S=B(S,I,T);return S},this.__bidiEngine__.setOptions=function(S){S&&(o=S.isInputVisual,l=S.isOutputVisual,a=S.isInputRtl,f=S.isOutputRtl,g=S.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),o=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(st),st.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Wa(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new YN(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new jN(this.contents),this.head=new VN(this),this.name=new HN(this),this.cmap=new e3(this),this.toUnicode={},this.hhea=new UN(this),this.maxp=new WN(this),this.hmtx=new GN(this),this.post=new qN(this),this.os2=new zN(this),this.loca=new QN(this),this.glyf=new KN(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,f;for(f=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var gs,Wa=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),jN=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,l,f,g,p,w,m,P,N;for(N in m=Object.keys(n).length,l=Math.log(2),p=16*Math.floor(Math.log(m)/l),o=Math.floor(p/l),g=16*m-p,(i=new Wa).writeInt(this.scalarType),i.writeShort(m),i.writeShort(p),i.writeShort(o),i.writeShort(g),s=16*m,f=i.pos+s,a=null,P=[],n)for(w=n[N],i.writeString(N),i.writeInt(t(w)),i.writeInt(f),i.writeInt(w.length),P=P.concat(w),N==="head"&&(a=f),f+=w.length;f%4;)P.push(0),f++;return i.write(P),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=t3.call(n);n.length%4;)n.push(0);for(s=new Wa(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),BN={}.hasOwnProperty,Ks=function(t,e){for(var n in e)BN.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};gs=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var VN=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ks(e,gs),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new Wa).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),Jv=function(){function t(e,n){var r,i,s,o,a,l,f,g,p,w,m,P,N,F,A,b,O;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(m=e.readUInt16(),w=m/2,e.pos+=6,s=function(){var q,X;for(X=[],l=q=0;0<=w?q<w:q>w;l=0<=w?++q:--q)X.push(e.readUInt16());return X}(),e.pos+=2,N=function(){var q,X;for(X=[],l=q=0;0<=w?q<w:q>w;l=0<=w?++q:--q)X.push(e.readUInt16());return X}(),f=function(){var q,X;for(X=[],l=q=0;0<=w?q<w:q>w;l=0<=w?++q:--q)X.push(e.readUInt16());return X}(),g=function(){var q,X;for(X=[],l=q=0;0<=w?q<w:q>w;l=0<=w?++q:--q)X.push(e.readUInt16());return X}(),i=(this.length-e.pos+this.offset)/2,a=function(){var q,X;for(X=[],l=q=0;0<=i?q<i:q>i;l=0<=i?++q:--q)X.push(e.readUInt16());return X}(),l=A=0,O=s.length;A<O;l=++A)for(F=s[l],r=b=P=N[l];P<=F?b<=F:b>=F;r=P<=F?++b:--b)g[l]===0?o=r+f[l]:(o=a[g[l]/2+(r-P)-(w-l)]||0)!==0&&(o+=f[l]),this.codeMap[r]=65535&o}e.pos=p}return t.encode=function(e,n){var r,i,s,o,a,l,f,g,p,w,m,P,N,F,A,b,O,q,X,ee,L,x,R,B,S,I,T,J,ge,pe,ve,Q,le,ue,xe,D,$,G,Y,re,ce,me,ye,Re,Te,je;switch(J=new Wa,o=Object.keys(e).sort(function(Fe,et){return Fe-et}),n){case"macroman":for(N=0,F=function(){var Fe=[];for(P=0;P<256;++P)Fe.push(0);return Fe}(),b={0:0},s={},ge=0,le=o.length;ge<le;ge++)b[ye=e[i=o[ge]]]==null&&(b[ye]=++N),s[i]={old:e[i],new:b[e[i]]},F[i]=b[e[i]];return J.writeUInt16(1),J.writeUInt16(0),J.writeUInt32(12),J.writeUInt16(0),J.writeUInt16(262),J.writeUInt16(0),J.write(F),{charMap:s,subtable:J.data,maxGlyphID:N+1};case"unicode":for(I=[],p=[],O=0,b={},r={},A=f=null,pe=0,ue=o.length;pe<ue;pe++)b[X=e[i=o[pe]]]==null&&(b[X]=++O),r[i]={old:X,new:b[X]},a=b[X]-i,A!=null&&a===f||(A&&p.push(A),I.push(i),f=a),A=i;for(A&&p.push(A),p.push(65535),I.push(65535),B=2*(R=I.length),x=2*Math.pow(Math.log(R)/Math.LN2,2),w=Math.log(x/2)/Math.LN2,L=2*R-x,l=[],ee=[],m=[],P=ve=0,xe=I.length;ve<xe;P=++ve){if(S=I[P],g=p[P],S===65535){l.push(0),ee.push(0);break}if(S-(T=r[S].new)>=32768)for(l.push(0),ee.push(2*(m.length+R-P)),i=Q=S;S<=g?Q<=g:Q>=g;i=S<=g?++Q:--Q)m.push(r[i].new);else l.push(T-S),ee.push(0)}for(J.writeUInt16(3),J.writeUInt16(1),J.writeUInt32(12),J.writeUInt16(4),J.writeUInt16(16+8*R+2*m.length),J.writeUInt16(0),J.writeUInt16(B),J.writeUInt16(x),J.writeUInt16(w),J.writeUInt16(L),ce=0,D=p.length;ce<D;ce++)i=p[ce],J.writeUInt16(i);for(J.writeUInt16(0),me=0,$=I.length;me<$;me++)i=I[me],J.writeUInt16(i);for(Re=0,G=l.length;Re<G;Re++)a=l[Re],J.writeUInt16(a);for(Te=0,Y=ee.length;Te<Y;Te++)q=ee[Te],J.writeUInt16(q);for(je=0,re=m.length;je<re;je++)N=m[je],J.writeUInt16(N);return{charMap:r,subtable:J.data,maxGlyphID:O+1}}},t}(),e3=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ks(e,gs),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new Jv(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=Jv.encode(n,r),(s=new Wa).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),UN=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ks(e,gs),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),zN=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ks(e,gs),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),qN=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ks(e,gs),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,f;for(f=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)f.push(n.readUInt32());return f}).call(this)}},e}(),$N=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},HN=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ks(e,gs),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,o,a,l,f,g,p,w,m;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(f={},o=p=0,w=i.length;p<w;o=++p)s=i[o],n.pos=s.offset,g=n.readString(s.length),a=new $N(g,s),f[m=s.nameID]==null&&(f[m]=[]),f[s.nameID].push(a);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},e}(),WN=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ks(e,gs),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),GN=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ks(e,gs),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,o,a,l,f;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var g,p;for(p=[],r=g=0;0<=s?g<s:g>s;r=0<=s?++g:--g)p.push(n.readInt16());return p}(),this.widths=(function(){var g,p,w,m;for(m=[],g=0,p=(w=this.metrics).length;g<p;g++)o=w[g],m.push(o.advance);return m}).call(this),i=this.widths[this.widths.length-1],f=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)f.push(this.widths.push(i));return f},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),t3=[].slice,KN=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ks(e,gs),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,o,a,l,f,g,p,w;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(l=new Wa(r.read(s))).readShort(),g=l.readShort(),w=l.readShort(),f=l.readShort(),p=l.readShort(),this.cache[n]=a===-1?new XN(l,g,w,f,p):new JN(l,a,g,w,f,p),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,o,a,l,f;for(a=[],o=[],l=0,f=r.length;l<f;l++)s=n[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),JN=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),XN=function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Wa(t3.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),QN=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ks(e,gs),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var l=this.offsets[a],f=this.offsets[a+1]-l;f>0&&(s+=f)}for(var g=new Array(4*i.length),p=0;p<i.length;++p)g[4*p+3]=255&i[p],g[4*p+2]=(65280&i[p])>>8,g[4*p+1]=(16711680&i[p])>>16,g[4*p]=(4278190080&i[p])>>24;return g},e}(),YN=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,l,f,g,p,w,m,P,N,F,A;for(i in r=e3.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),m={0:0},A=r.charMap)m[(l=A[i]).old]=l.new;for(P in w=r.maxGlyphID,o)P in m||(m[P]=w++);return g=function(b){var O,q;for(O in q={},b)q[b[O]]=O;return q}(m),p=Object.keys(g).sort(function(b,O){return b-O}),N=function(){var b,O,q;for(q=[],b=0,O=p.length;b<O;b++)a=p[b],q.push(g[a]);return q}(),s=this.font.glyf.encode(o,N,m),f=this.font.loca.encode(s.offsets,N),F={cmap:this.font.cmap.raw(),glyf:s.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(F["OS/2"]=this.font.os2.raw()),this.font.directory.encode(F)},t}();st.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,f;for(f=[],a=0,l=n.length;a<l;a++)r=n[a],f.push(e.convert(r));return f}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();function ZN(t,e,n,r){const i=new st({orientation:"landscape",unit:"mm",format:"a4"});i.setFillColor(252,253,254),i.rect(0,0,297,210,"F"),i.setDrawColor(37,99,235),i.setLineWidth(2),i.rect(15,15,267,180),i.setDrawColor(59,130,246),i.setLineWidth(.5),i.rect(20,20,257,170),i.setFont("helvetica","bold"),i.setFontSize(40),i.setTextColor(30,64,175),i.text("Certificate of Achievement",148.5,50,{align:"center"}),i.setDrawColor(30,64,175),i.setLineWidth(.5),i.line(74,55,223,55),i.setFontSize(24),i.setTextColor(31,41,55),i.setFont("helvetica","normal"),i.text("This is to certify that",148.5,80,{align:"center"}),i.setFont("helvetica","bold"),i.setFontSize(32),i.text(t,148.5,95,{align:"center"}),i.setFont("helvetica","normal"),i.setFontSize(16),i.text("has successfully completed the assessment",148.5,115,{align:"center"}),i.setFont("helvetica","bold"),i.setFontSize(24);const s=e.length>60?e.substring(0,57)+"...":e;i.text(s,148.5,130,{align:"center"}),i.setFont("helvetica","normal"),i.setFontSize(18),i.text(`with a score of ${n}%`,148.5,145,{align:"center"}),i.setFontSize(12);const o=i.splitTextToSize(r,200);i.text(o,148.5,160,{align:"center"}),i.setFontSize(14);const a=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});i.text(`Issued on ${a}`,148.5,175,{align:"center"});const l=10;i.setLineWidth(1),i.line(15,15,15+l,15),i.line(15,15,15,15+l),i.line(282-l,15,282,15),i.line(282,15,282,15+l),i.line(15,195,15+l,195),i.line(15,195-l,15,195),i.line(282-l,195,282,195),i.line(282,195-l,282,195);const f=e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");return{doc:i,filename:`${f}-certificate.pdf`}}var Xv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},eP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},r3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,f=l?t[i+2]:0,g=s>>2,p=(s&3)<<4|a>>4;let w=(a&15)<<2|f>>6,m=f&63;l||(m=64,o||(w=64)),r.push(n[g],n[p],n[w],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(n3(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):eP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||f==null||p==null)throw new tP;const w=s<<2|a>>4;if(r.push(w),f!==64){const m=a<<4&240|f>>2;if(r.push(m),p!==64){const P=f<<6&192|p;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nP=function(t){const e=n3(t);return r3.encodeByteArray(e,!0)},qp=function(t){return nP(t).replace(/\./g,"")},i3=function(t){try{return r3.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=()=>rP().__FIREBASE_DEFAULTS__,sP=()=>{if(typeof process>"u"||typeof Xv>"u")return;const t=Xv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&i3(t[1]);return e&&JSON.parse(e)},Cm=()=>{try{return iP()||sP()||oP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},s3=t=>{var e,n;return(n=(e=Cm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},aP=t=>{const e=s3(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},o3=()=>{var t;return(t=Cm())===null||t===void 0?void 0:t.config},a3=t=>{var e;return(e=Cm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[qp(JSON.stringify(n)),qp(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lr())}function hP(){var t;const e=(t=Cm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function pP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mP(){const t=Lr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function gP(){return!hP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yP(){try{return typeof indexedDB=="object"}catch{return!1}}function vP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP="FirebaseError";class Fo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=wP,Object.setPrototypeOf(this,Fo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,If.prototype.create)}}class If{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?_P(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Fo(i,a,r)}}function _P(t,e){return t.replace(bP,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const bP=/\{\$([^}]+)}/g;function AP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $p(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Qv(s)&&Qv(o)){if(!$p(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Qv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function SP(t,e){const n=new EP(t,e);return n.subscribe.bind(n)}class EP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");xP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Gg),i.error===void 0&&(i.error=Gg),i.complete===void 0&&(i.complete=Gg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(t){return t&&t._delegate?t._delegate:t}class Ul{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new lP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PP(e))try{this.getOrInitializeService({instanceIdentifier:Al})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Al){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Al){return this.instances.has(e)}getOptions(e=Al){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:NP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Al){return this.component?this.component.multipleInstances?e:Al:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NP(t){return t===Al?void 0:t}function PP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new IP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xt||(xt={}));const kP={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},CP=xt.INFO,LP={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},RP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=LP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class W2{constructor(e){this.name=e,this._logLevel=CP,this._logHandler=RP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...e),this._logHandler(this,xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...e),this._logHandler(this,xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...e),this._logHandler(this,xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...e),this._logHandler(this,xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...e),this._logHandler(this,xt.ERROR,...e)}}const OP=(t,e)=>e.some(n=>t instanceof n);let Yv,Zv;function DP(){return Yv||(Yv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FP(){return Zv||(Zv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const l3=new WeakMap,v0=new WeakMap,u3=new WeakMap,Kg=new WeakMap,G2=new WeakMap;function MP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ba(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&l3.set(n,t)}).catch(()=>{}),G2.set(e,t),e}function jP(t){if(v0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});v0.set(t,e)}let w0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return v0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||u3.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ba(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function BP(t){w0=t(w0)}function VP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Jg(this),e,...n);return u3.set(r,e.sort?e.sort():[e]),Ba(r)}:FP().includes(t)?function(...e){return t.apply(Jg(this),e),Ba(l3.get(this))}:function(...e){return Ba(t.apply(Jg(this),e))}}function UP(t){return typeof t=="function"?VP(t):(t instanceof IDBTransaction&&jP(t),OP(t,DP())?new Proxy(t,w0):t)}function Ba(t){if(t instanceof IDBRequest)return MP(t);if(Kg.has(t))return Kg.get(t);const e=UP(t);return e!==t&&(Kg.set(t,e),G2.set(e,t)),e}const Jg=t=>G2.get(t);function zP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ba(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ba(o.result),l.oldVersion,l.newVersion,Ba(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),a}const qP=["get","getKey","getAll","getAllKeys","count"],$P=["put","add","delete","clear"],Xg=new Map;function ew(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xg.get(e))return Xg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=$P.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||qP.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let f=l.store;return r&&(f=f.index(a.shift())),(await Promise.all([f[n](...a),i&&l.done]))[0]};return Xg.set(e,s),s}BP(t=>({...t,get:(e,n,r)=>ew(e,n)||t.get(e,n,r),has:(e,n)=>!!ew(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function WP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _0="@firebase/app",tw="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=new W2("@firebase/app"),GP="@firebase/app-compat",KP="@firebase/analytics-compat",JP="@firebase/analytics",XP="@firebase/app-check-compat",QP="@firebase/app-check",YP="@firebase/auth",ZP="@firebase/auth-compat",eT="@firebase/database",tT="@firebase/data-connect",nT="@firebase/database-compat",rT="@firebase/functions",iT="@firebase/functions-compat",sT="@firebase/installations",oT="@firebase/installations-compat",aT="@firebase/messaging",lT="@firebase/messaging-compat",uT="@firebase/performance",cT="@firebase/performance-compat",hT="@firebase/remote-config",fT="@firebase/remote-config-compat",dT="@firebase/storage",pT="@firebase/storage-compat",mT="@firebase/firestore",gT="@firebase/vertexai-preview",yT="@firebase/firestore-compat",vT="firebase",wT="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="[DEFAULT]",_T={[_0]:"fire-core",[GP]:"fire-core-compat",[JP]:"fire-analytics",[KP]:"fire-analytics-compat",[QP]:"fire-app-check",[XP]:"fire-app-check-compat",[YP]:"fire-auth",[ZP]:"fire-auth-compat",[eT]:"fire-rtdb",[tT]:"fire-data-connect",[nT]:"fire-rtdb-compat",[rT]:"fire-fn",[iT]:"fire-fn-compat",[sT]:"fire-iid",[oT]:"fire-iid-compat",[aT]:"fire-fcm",[lT]:"fire-fcm-compat",[uT]:"fire-perf",[cT]:"fire-perf-compat",[hT]:"fire-rc",[fT]:"fire-rc-compat",[dT]:"fire-gcs",[pT]:"fire-gcs-compat",[mT]:"fire-fst",[yT]:"fire-fst-compat",[gT]:"fire-vertex","fire-js":"fire-js",[vT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=new Map,bT=new Map,A0=new Map;function nw(t,e){try{t.container.addComponent(e)}catch(n){Lo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wc(t){const e=t.name;if(A0.has(e))return Lo.debug(`There were multiple attempts to register component ${e}.`),!1;A0.set(e,t);for(const n of Hp.values())nw(n,t);for(const n of bT.values())nw(n,t);return!0}function K2(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ka(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Va=new If("app","Firebase",AT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ul("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Va.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=wT;function c3(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:b0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Va.create("bad-app-name",{appName:String(i)});if(n||(n=o3()),!n)throw Va.create("no-options");const s=Hp.get(i);if(s){if($p(n,s.options)&&$p(r,s.config))return s;throw Va.create("duplicate-app",{appName:i})}const o=new TP(i);for(const l of A0.values())o.addComponent(l);const a=new ST(n,r,o);return Hp.set(i,a),a}function h3(t=b0){const e=Hp.get(t);if(!e&&t===b0&&o3())return c3();if(!e)throw Va.create("no-app",{appName:t});return e}function Ua(t,e,n){var r;let i=(r=_T[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Lo.warn(a.join(" "));return}wc(new Ul(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="firebase-heartbeat-database",xT=1,hf="firebase-heartbeat-store";let Qg=null;function f3(){return Qg||(Qg=zP(ET,xT,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hf)}catch(n){console.warn(n)}}}}).catch(t=>{throw Va.create("idb-open",{originalErrorMessage:t.message})})),Qg}async function IT(t){try{const n=(await f3()).transaction(hf),r=await n.objectStore(hf).get(d3(t));return await n.done,r}catch(e){if(e instanceof Fo)Lo.warn(e.message);else{const n=Va.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Lo.warn(n.message)}}}async function rw(t,e){try{const r=(await f3()).transaction(hf,"readwrite");await r.objectStore(hf).put(e,d3(t)),await r.done}catch(n){if(n instanceof Fo)Lo.warn(n.message);else{const r=Va.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Lo.warn(r.message)}}}function d3(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=1024,PT=30*24*60*60*1e3;class TT{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new CT(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=iw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=PT}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Lo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=iw(),{heartbeatsToSend:r,unsentEntries:i}=kT(this._heartbeatsCache.heartbeats),s=qp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Lo.warn(n),""}}}function iw(){return new Date().toISOString().substring(0,10)}function kT(t,e=NT){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),sw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),sw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class CT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yP()?vP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await IT(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return rw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return rw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function sw(t){return qp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(t){wc(new Ul("platform-logger",e=>new HP(e),"PRIVATE")),wc(new Ul("heartbeat",e=>new TT(e),"PRIVATE")),Ua(_0,tw,t),Ua(_0,tw,"esm2017"),Ua("fire-js","")}LT("");var ow=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var p3;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,x){function R(){}R.prototype=x.prototype,L.D=x.prototype,L.prototype=new R,L.prototype.constructor=L,L.C=function(B,S,I){for(var T=Array(arguments.length-2),J=2;J<arguments.length;J++)T[J-2]=arguments[J];return x.prototype[S].apply(B,T)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(L,x,R){R||(R=0);var B=Array(16);if(typeof x=="string")for(var S=0;16>S;++S)B[S]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(S=0;16>S;++S)B[S]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=L.g[0],R=L.g[1],S=L.g[2];var I=L.g[3],T=x+(I^R&(S^I))+B[0]+3614090360&4294967295;x=R+(T<<7&4294967295|T>>>25),T=I+(S^x&(R^S))+B[1]+3905402710&4294967295,I=x+(T<<12&4294967295|T>>>20),T=S+(R^I&(x^R))+B[2]+606105819&4294967295,S=I+(T<<17&4294967295|T>>>15),T=R+(x^S&(I^x))+B[3]+3250441966&4294967295,R=S+(T<<22&4294967295|T>>>10),T=x+(I^R&(S^I))+B[4]+4118548399&4294967295,x=R+(T<<7&4294967295|T>>>25),T=I+(S^x&(R^S))+B[5]+1200080426&4294967295,I=x+(T<<12&4294967295|T>>>20),T=S+(R^I&(x^R))+B[6]+2821735955&4294967295,S=I+(T<<17&4294967295|T>>>15),T=R+(x^S&(I^x))+B[7]+4249261313&4294967295,R=S+(T<<22&4294967295|T>>>10),T=x+(I^R&(S^I))+B[8]+1770035416&4294967295,x=R+(T<<7&4294967295|T>>>25),T=I+(S^x&(R^S))+B[9]+2336552879&4294967295,I=x+(T<<12&4294967295|T>>>20),T=S+(R^I&(x^R))+B[10]+4294925233&4294967295,S=I+(T<<17&4294967295|T>>>15),T=R+(x^S&(I^x))+B[11]+2304563134&4294967295,R=S+(T<<22&4294967295|T>>>10),T=x+(I^R&(S^I))+B[12]+1804603682&4294967295,x=R+(T<<7&4294967295|T>>>25),T=I+(S^x&(R^S))+B[13]+4254626195&4294967295,I=x+(T<<12&4294967295|T>>>20),T=S+(R^I&(x^R))+B[14]+2792965006&4294967295,S=I+(T<<17&4294967295|T>>>15),T=R+(x^S&(I^x))+B[15]+1236535329&4294967295,R=S+(T<<22&4294967295|T>>>10),T=x+(S^I&(R^S))+B[1]+4129170786&4294967295,x=R+(T<<5&4294967295|T>>>27),T=I+(R^S&(x^R))+B[6]+3225465664&4294967295,I=x+(T<<9&4294967295|T>>>23),T=S+(x^R&(I^x))+B[11]+643717713&4294967295,S=I+(T<<14&4294967295|T>>>18),T=R+(I^x&(S^I))+B[0]+3921069994&4294967295,R=S+(T<<20&4294967295|T>>>12),T=x+(S^I&(R^S))+B[5]+3593408605&4294967295,x=R+(T<<5&4294967295|T>>>27),T=I+(R^S&(x^R))+B[10]+38016083&4294967295,I=x+(T<<9&4294967295|T>>>23),T=S+(x^R&(I^x))+B[15]+3634488961&4294967295,S=I+(T<<14&4294967295|T>>>18),T=R+(I^x&(S^I))+B[4]+3889429448&4294967295,R=S+(T<<20&4294967295|T>>>12),T=x+(S^I&(R^S))+B[9]+568446438&4294967295,x=R+(T<<5&4294967295|T>>>27),T=I+(R^S&(x^R))+B[14]+3275163606&4294967295,I=x+(T<<9&4294967295|T>>>23),T=S+(x^R&(I^x))+B[3]+4107603335&4294967295,S=I+(T<<14&4294967295|T>>>18),T=R+(I^x&(S^I))+B[8]+1163531501&4294967295,R=S+(T<<20&4294967295|T>>>12),T=x+(S^I&(R^S))+B[13]+2850285829&4294967295,x=R+(T<<5&4294967295|T>>>27),T=I+(R^S&(x^R))+B[2]+4243563512&4294967295,I=x+(T<<9&4294967295|T>>>23),T=S+(x^R&(I^x))+B[7]+1735328473&4294967295,S=I+(T<<14&4294967295|T>>>18),T=R+(I^x&(S^I))+B[12]+2368359562&4294967295,R=S+(T<<20&4294967295|T>>>12),T=x+(R^S^I)+B[5]+4294588738&4294967295,x=R+(T<<4&4294967295|T>>>28),T=I+(x^R^S)+B[8]+2272392833&4294967295,I=x+(T<<11&4294967295|T>>>21),T=S+(I^x^R)+B[11]+1839030562&4294967295,S=I+(T<<16&4294967295|T>>>16),T=R+(S^I^x)+B[14]+4259657740&4294967295,R=S+(T<<23&4294967295|T>>>9),T=x+(R^S^I)+B[1]+2763975236&4294967295,x=R+(T<<4&4294967295|T>>>28),T=I+(x^R^S)+B[4]+1272893353&4294967295,I=x+(T<<11&4294967295|T>>>21),T=S+(I^x^R)+B[7]+4139469664&4294967295,S=I+(T<<16&4294967295|T>>>16),T=R+(S^I^x)+B[10]+3200236656&4294967295,R=S+(T<<23&4294967295|T>>>9),T=x+(R^S^I)+B[13]+681279174&4294967295,x=R+(T<<4&4294967295|T>>>28),T=I+(x^R^S)+B[0]+3936430074&4294967295,I=x+(T<<11&4294967295|T>>>21),T=S+(I^x^R)+B[3]+3572445317&4294967295,S=I+(T<<16&4294967295|T>>>16),T=R+(S^I^x)+B[6]+76029189&4294967295,R=S+(T<<23&4294967295|T>>>9),T=x+(R^S^I)+B[9]+3654602809&4294967295,x=R+(T<<4&4294967295|T>>>28),T=I+(x^R^S)+B[12]+3873151461&4294967295,I=x+(T<<11&4294967295|T>>>21),T=S+(I^x^R)+B[15]+530742520&4294967295,S=I+(T<<16&4294967295|T>>>16),T=R+(S^I^x)+B[2]+3299628645&4294967295,R=S+(T<<23&4294967295|T>>>9),T=x+(S^(R|~I))+B[0]+4096336452&4294967295,x=R+(T<<6&4294967295|T>>>26),T=I+(R^(x|~S))+B[7]+1126891415&4294967295,I=x+(T<<10&4294967295|T>>>22),T=S+(x^(I|~R))+B[14]+2878612391&4294967295,S=I+(T<<15&4294967295|T>>>17),T=R+(I^(S|~x))+B[5]+4237533241&4294967295,R=S+(T<<21&4294967295|T>>>11),T=x+(S^(R|~I))+B[12]+1700485571&4294967295,x=R+(T<<6&4294967295|T>>>26),T=I+(R^(x|~S))+B[3]+2399980690&4294967295,I=x+(T<<10&4294967295|T>>>22),T=S+(x^(I|~R))+B[10]+4293915773&4294967295,S=I+(T<<15&4294967295|T>>>17),T=R+(I^(S|~x))+B[1]+2240044497&4294967295,R=S+(T<<21&4294967295|T>>>11),T=x+(S^(R|~I))+B[8]+1873313359&4294967295,x=R+(T<<6&4294967295|T>>>26),T=I+(R^(x|~S))+B[15]+4264355552&4294967295,I=x+(T<<10&4294967295|T>>>22),T=S+(x^(I|~R))+B[6]+2734768916&4294967295,S=I+(T<<15&4294967295|T>>>17),T=R+(I^(S|~x))+B[13]+1309151649&4294967295,R=S+(T<<21&4294967295|T>>>11),T=x+(S^(R|~I))+B[4]+4149444226&4294967295,x=R+(T<<6&4294967295|T>>>26),T=I+(R^(x|~S))+B[11]+3174756917&4294967295,I=x+(T<<10&4294967295|T>>>22),T=S+(x^(I|~R))+B[2]+718787259&4294967295,S=I+(T<<15&4294967295|T>>>17),T=R+(I^(S|~x))+B[9]+3951481745&4294967295,L.g[0]=L.g[0]+x&4294967295,L.g[1]=L.g[1]+(S+(T<<21&4294967295|T>>>11))&4294967295,L.g[2]=L.g[2]+S&4294967295,L.g[3]=L.g[3]+I&4294967295}r.prototype.u=function(L,x){x===void 0&&(x=L.length);for(var R=x-this.blockSize,B=this.B,S=this.h,I=0;I<x;){if(S==0)for(;I<=R;)i(this,L,I),I+=this.blockSize;if(typeof L=="string"){for(;I<x;)if(B[S++]=L.charCodeAt(I++),S==this.blockSize){i(this,B),S=0;break}}else for(;I<x;)if(B[S++]=L[I++],S==this.blockSize){i(this,B),S=0;break}}this.h=S,this.o+=x},r.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var x=1;x<L.length-8;++x)L[x]=0;var R=8*this.o;for(x=L.length-8;x<L.length;++x)L[x]=R&255,R/=256;for(this.u(L),L=Array(16),x=R=0;4>x;++x)for(var B=0;32>B;B+=8)L[R++]=this.g[x]>>>B&255;return L};function s(L,x){var R=a;return Object.prototype.hasOwnProperty.call(R,L)?R[L]:R[L]=x(L)}function o(L,x){this.h=x;for(var R=[],B=!0,S=L.length-1;0<=S;S--){var I=L[S]|0;B&&I==x||(R[S]=I,B=!1)}this.g=R}var a={};function l(L){return-128<=L&&128>L?s(L,function(x){return new o([x|0],0>x?-1:0)}):new o([L|0],0>L?-1:0)}function f(L){if(isNaN(L)||!isFinite(L))return p;if(0>L)return F(f(-L));for(var x=[],R=1,B=0;L>=R;B++)x[B]=L/R|0,R*=4294967296;return new o(x,0)}function g(L,x){if(L.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(L.charAt(0)=="-")return F(g(L.substring(1),x));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=f(Math.pow(x,8)),B=p,S=0;S<L.length;S+=8){var I=Math.min(8,L.length-S),T=parseInt(L.substring(S,S+I),x);8>I?(I=f(Math.pow(x,I)),B=B.j(I).add(f(T))):(B=B.j(R),B=B.add(f(T)))}return B}var p=l(0),w=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(N(this))return-F(this).m();for(var L=0,x=1,R=0;R<this.g.length;R++){var B=this.i(R);L+=(0<=B?B:4294967296+B)*x,x*=4294967296}return L},t.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(P(this))return"0";if(N(this))return"-"+F(this).toString(L);for(var x=f(Math.pow(L,6)),R=this,B="";;){var S=q(R,x).g;R=A(R,S.j(x));var I=((0<R.g.length?R.g[0]:R.h)>>>0).toString(L);if(R=S,P(R))return I+B;for(;6>I.length;)I="0"+I;B=I+B}},t.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function P(L){if(L.h!=0)return!1;for(var x=0;x<L.g.length;x++)if(L.g[x]!=0)return!1;return!0}function N(L){return L.h==-1}t.l=function(L){return L=A(this,L),N(L)?-1:P(L)?0:1};function F(L){for(var x=L.g.length,R=[],B=0;B<x;B++)R[B]=~L.g[B];return new o(R,~L.h).add(w)}t.abs=function(){return N(this)?F(this):this},t.add=function(L){for(var x=Math.max(this.g.length,L.g.length),R=[],B=0,S=0;S<=x;S++){var I=B+(this.i(S)&65535)+(L.i(S)&65535),T=(I>>>16)+(this.i(S)>>>16)+(L.i(S)>>>16);B=T>>>16,I&=65535,T&=65535,R[S]=T<<16|I}return new o(R,R[R.length-1]&-2147483648?-1:0)};function A(L,x){return L.add(F(x))}t.j=function(L){if(P(this)||P(L))return p;if(N(this))return N(L)?F(this).j(F(L)):F(F(this).j(L));if(N(L))return F(this.j(F(L)));if(0>this.l(m)&&0>L.l(m))return f(this.m()*L.m());for(var x=this.g.length+L.g.length,R=[],B=0;B<2*x;B++)R[B]=0;for(B=0;B<this.g.length;B++)for(var S=0;S<L.g.length;S++){var I=this.i(B)>>>16,T=this.i(B)&65535,J=L.i(S)>>>16,ge=L.i(S)&65535;R[2*B+2*S]+=T*ge,b(R,2*B+2*S),R[2*B+2*S+1]+=I*ge,b(R,2*B+2*S+1),R[2*B+2*S+1]+=T*J,b(R,2*B+2*S+1),R[2*B+2*S+2]+=I*J,b(R,2*B+2*S+2)}for(B=0;B<x;B++)R[B]=R[2*B+1]<<16|R[2*B];for(B=x;B<2*x;B++)R[B]=0;return new o(R,0)};function b(L,x){for(;(L[x]&65535)!=L[x];)L[x+1]+=L[x]>>>16,L[x]&=65535,x++}function O(L,x){this.g=L,this.h=x}function q(L,x){if(P(x))throw Error("division by zero");if(P(L))return new O(p,p);if(N(L))return x=q(F(L),x),new O(F(x.g),F(x.h));if(N(x))return x=q(L,F(x)),new O(F(x.g),x.h);if(30<L.g.length){if(N(L)||N(x))throw Error("slowDivide_ only works with positive integers.");for(var R=w,B=x;0>=B.l(L);)R=X(R),B=X(B);var S=ee(R,1),I=ee(B,1);for(B=ee(B,2),R=ee(R,2);!P(B);){var T=I.add(B);0>=T.l(L)&&(S=S.add(R),I=T),B=ee(B,1),R=ee(R,1)}return x=A(L,S.j(x)),new O(S,x)}for(S=p;0<=L.l(x);){for(R=Math.max(1,Math.floor(L.m()/x.m())),B=Math.ceil(Math.log(R)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),I=f(R),T=I.j(x);N(T)||0<T.l(L);)R-=B,I=f(R),T=I.j(x);P(I)&&(I=w),S=S.add(I),L=A(L,T)}return new O(S,L)}t.A=function(L){return q(this,L).h},t.and=function(L){for(var x=Math.max(this.g.length,L.g.length),R=[],B=0;B<x;B++)R[B]=this.i(B)&L.i(B);return new o(R,this.h&L.h)},t.or=function(L){for(var x=Math.max(this.g.length,L.g.length),R=[],B=0;B<x;B++)R[B]=this.i(B)|L.i(B);return new o(R,this.h|L.h)},t.xor=function(L){for(var x=Math.max(this.g.length,L.g.length),R=[],B=0;B<x;B++)R[B]=this.i(B)^L.i(B);return new o(R,this.h^L.h)};function X(L){for(var x=L.g.length+1,R=[],B=0;B<x;B++)R[B]=L.i(B)<<1|L.i(B-1)>>>31;return new o(R,L.h)}function ee(L,x){var R=x>>5;x%=32;for(var B=L.g.length-R,S=[],I=0;I<B;I++)S[I]=0<x?L.i(I+R)>>>x|L.i(I+R+1)<<32-x:L.i(I+R);return new o(S,L.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=g,p3=o}).apply(typeof ow<"u"?ow:typeof self<"u"?self:typeof window<"u"?window:{});var Cd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var m3,bh,g3,ip,S0,y3,v3,w3;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,v,E){return c==Array.prototype||c==Object.prototype||(c[v]=E.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cd=="object"&&Cd];for(var v=0;v<c.length;++v){var E=c[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(c,v){if(v)e:{var E=r;c=c.split(".");for(var V=0;V<c.length-1;V++){var se=c[V];if(!(se in E))break e;E=E[se]}c=c[c.length-1],V=E[c],v=v(V),v!=V&&v!=null&&e(E,c,{configurable:!0,writable:!0,value:v})}}function s(c,v){c instanceof String&&(c+="");var E=0,V=!1,se={next:function(){if(!V&&E<c.length){var de=E++;return{value:v(de,c[de]),done:!1}}return V=!0,{done:!0,value:void 0}}};return se[Symbol.iterator]=function(){return se},se}i("Array.prototype.values",function(c){return c||function(){return s(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var v=typeof c;return v=v!="object"?v:c?Array.isArray(c)?"array":v:"null",v=="array"||v=="object"&&typeof c.length=="number"}function f(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function g(c,v,E){return c.call.apply(c.bind,arguments)}function p(c,v,E){if(!c)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var se=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(se,V),c.apply(v,se)}}return function(){return c.apply(v,arguments)}}function w(c,v,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:p,w.apply(null,arguments)}function m(c,v){var E=Array.prototype.slice.call(arguments,1);return function(){var V=E.slice();return V.push.apply(V,arguments),c.apply(this,V)}}function P(c,v){function E(){}E.prototype=v.prototype,c.aa=v.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(V,se,de){for(var Pe=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)Pe[dt-2]=arguments[dt];return v.prototype[se].apply(V,Pe)}}function N(c){const v=c.length;if(0<v){const E=Array(v);for(let V=0;V<v;V++)E[V]=c[V];return E}return[]}function F(c,v){for(let E=1;E<arguments.length;E++){const V=arguments[E];if(l(V)){const se=c.length||0,de=V.length||0;c.length=se+de;for(let Pe=0;Pe<de;Pe++)c[se+Pe]=V[Pe]}else c.push(V)}}class A{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function b(c){return/^[\s\xa0]*$/.test(c)}function O(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function q(c){return q[" "](c),c}q[" "]=function(){};var X=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function ee(c,v,E){for(const V in c)v.call(E,c[V],V,c)}function L(c,v){for(const E in c)v.call(void 0,c[E],E,c)}function x(c){const v={};for(const E in c)v[E]=c[E];return v}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(c,v){let E,V;for(let se=1;se<arguments.length;se++){V=arguments[se];for(E in V)c[E]=V[E];for(let de=0;de<R.length;de++)E=R[de],Object.prototype.hasOwnProperty.call(V,E)&&(c[E]=V[E])}}function S(c){var v=1;c=c.split(":");const E=[];for(;0<v&&c.length;)E.push(c.shift()),v--;return c.length&&E.push(c.join(":")),E}function I(c){a.setTimeout(()=>{throw c},0)}function T(){var c=le;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class J{constructor(){this.h=this.g=null}add(v,E){const V=ge.get();V.set(v,E),this.h?this.h.next=V:this.g=V,this.h=V}}var ge=new A(()=>new pe,c=>c.reset());class pe{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,Q=!1,le=new J,ue=()=>{const c=a.Promise.resolve(void 0);ve=()=>{c.then(xe)}};var xe=()=>{for(var c;c=T();){try{c.h.call(c.g)}catch(E){I(E)}var v=ge;v.j(c),100>v.h&&(v.h++,c.next=v.g,v.g=c)}Q=!1};function D(){this.s=this.s,this.C=this.C}D.prototype.s=!1,D.prototype.ma=function(){this.s||(this.s=!0,this.N())},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var G=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};a.addEventListener("test",E,v),a.removeEventListener("test",E,v)}catch{}return c}();function Y(c,v){if($.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,V=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget){if(X){e:{try{q(v.nodeName);var se=!0;break e}catch{}se=!1}se||(v=null)}}else E=="mouseover"?v=c.fromElement:E=="mouseout"&&(v=c.toElement);this.relatedTarget=v,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:re[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Y.aa.h.call(this)}}P(Y,$);var re={2:"touch",3:"pen",4:"mouse"};Y.prototype.h=function(){Y.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),me=0;function ye(c,v,E,V,se){this.listener=c,this.proxy=null,this.src=v,this.type=E,this.capture=!!V,this.ha=se,this.key=++me,this.da=this.fa=!1}function Re(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Te(c){this.src=c,this.g={},this.h=0}Te.prototype.add=function(c,v,E,V,se){var de=c.toString();c=this.g[de],c||(c=this.g[de]=[],this.h++);var Pe=Fe(c,v,V,se);return-1<Pe?(v=c[Pe],E||(v.fa=!1)):(v=new ye(v,this.src,de,!!V,se),v.fa=E,c.push(v)),v};function je(c,v){var E=v.type;if(E in c.g){var V=c.g[E],se=Array.prototype.indexOf.call(V,v,void 0),de;(de=0<=se)&&Array.prototype.splice.call(V,se,1),de&&(Re(v),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Fe(c,v,E,V){for(var se=0;se<c.length;++se){var de=c[se];if(!de.da&&de.listener==v&&de.capture==!!E&&de.ha==V)return se}return-1}var et="closure_lm_"+(1e6*Math.random()|0),be={};function K(c,v,E,V,se){if(Array.isArray(v)){for(var de=0;de<v.length;de++)K(c,v[de],E,V,se);return null}return E=ft(E),c&&c[ce]?c.K(v,E,f(V)?!!V.capture:!!V,se):ht(c,v,E,!1,V,se)}function ht(c,v,E,V,se,de){if(!v)throw Error("Invalid event type");var Pe=f(se)?!!se.capture:!!se,dt=Xe(c);if(dt||(c[et]=dt=new Te(c)),E=dt.add(v,E,V,Pe,de),E.proxy)return E;if(V=Ke(),E.proxy=V,V.src=c,V.listener=E,c.addEventListener)G||(se=Pe),se===void 0&&(se=!1),c.addEventListener(v.toString(),V,se);else if(c.attachEvent)c.attachEvent(ze(v.toString()),V);else if(c.addListener&&c.removeListener)c.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ke(){function c(E){return v.call(c.src,c.listener,E)}const v=Ve;return c}function ke(c,v,E,V,se){if(Array.isArray(v))for(var de=0;de<v.length;de++)ke(c,v[de],E,V,se);else V=f(V)?!!V.capture:!!V,E=ft(E),c&&c[ce]?(c=c.i,v=String(v).toString(),v in c.g&&(de=c.g[v],E=Fe(de,E,V,se),-1<E&&(Re(de[E]),Array.prototype.splice.call(de,E,1),de.length==0&&(delete c.g[v],c.h--)))):c&&(c=Xe(c))&&(v=c.g[v.toString()],c=-1,v&&(c=Fe(v,E,V,se)),(E=-1<c?v[c]:null)&&De(E))}function De(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[ce])je(v.i,c);else{var E=c.type,V=c.proxy;v.removeEventListener?v.removeEventListener(E,V,c.capture):v.detachEvent?v.detachEvent(ze(E),V):v.addListener&&v.removeListener&&v.removeListener(V),(E=Xe(v))?(je(E,c),E.h==0&&(E.src=null,v[et]=null)):Re(c)}}}function ze(c){return c in be?be[c]:be[c]="on"+c}function Ve(c,v){if(c.da)c=!0;else{v=new Y(v,this);var E=c.listener,V=c.ha||c.src;c.fa&&De(c),c=E.call(V,v)}return c}function Xe(c){return c=c[et],c instanceof Te?c:null}var at="__closure_events_fn_"+(1e9*Math.random()>>>0);function ft(c){return typeof c=="function"?c:(c[at]||(c[at]=function(v){return c.handleEvent(v)}),c[at])}function Ye(){D.call(this),this.i=new Te(this),this.M=this,this.F=null}P(Ye,D),Ye.prototype[ce]=!0,Ye.prototype.removeEventListener=function(c,v,E,V){ke(this,c,v,E,V)};function it(c,v){var E,V=c.F;if(V)for(E=[];V;V=V.F)E.push(V);if(c=c.M,V=v.type||v,typeof v=="string")v=new $(v,c);else if(v instanceof $)v.target=v.target||c;else{var se=v;v=new $(V,c),B(v,se)}if(se=!0,E)for(var de=E.length-1;0<=de;de--){var Pe=v.g=E[de];se=kt(Pe,V,!0,v)&&se}if(Pe=v.g=c,se=kt(Pe,V,!0,v)&&se,se=kt(Pe,V,!1,v)&&se,E)for(de=0;de<E.length;de++)Pe=v.g=E[de],se=kt(Pe,V,!1,v)&&se}Ye.prototype.N=function(){if(Ye.aa.N.call(this),this.i){var c=this.i,v;for(v in c.g){for(var E=c.g[v],V=0;V<E.length;V++)Re(E[V]);delete c.g[v],c.h--}}this.F=null},Ye.prototype.K=function(c,v,E,V){return this.i.add(String(c),v,!1,E,V)},Ye.prototype.L=function(c,v,E,V){return this.i.add(String(c),v,!0,E,V)};function kt(c,v,E,V){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();for(var se=!0,de=0;de<v.length;++de){var Pe=v[de];if(Pe&&!Pe.da&&Pe.capture==E){var dt=Pe.listener,bt=Pe.ha||Pe.src;Pe.fa&&je(c.i,Pe),se=dt.call(bt,V)!==!1&&se}}return se&&!V.defaultPrevented}function rt(c,v,E){if(typeof c=="function")E&&(c=w(c,E));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:a.setTimeout(c,v||0)}function vt(c){c.g=rt(()=>{c.g=null,c.i&&(c.i=!1,vt(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class qe extends D{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:vt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gn(c){D.call(this),this.h=c,this.g={}}P(gn,D);var Et=[];function qr(c){ee(c.g,function(v,E){this.g.hasOwnProperty(E)&&De(v)},c),c.g={}}gn.prototype.N=function(){gn.aa.N.call(this),qr(this)},gn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ot=a.JSON.stringify,Xt=a.JSON.parse,Ei=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Nt(){}Nt.prototype.h=null;function vs(c){return c.h||(c.h=c.i())}function nn(){}var er={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function oi(){$.call(this,"d")}P(oi,$);function Qt(){$.call(this,"c")}P(Qt,$);var tt={},Ct=null;function xi(){return Ct=Ct||new Ye}tt.La="serverreachability";function Ln(c){$.call(this,tt.La,c)}P(Ln,$);function dr(c){const v=xi();it(v,new Ln(v))}tt.STAT_EVENT="statevent";function ai(c,v){$.call(this,tt.STAT_EVENT,c),this.stat=v}P(ai,$);function He(c){const v=xi();it(v,new ai(v,c))}tt.Ma="timingevent";function $r(c,v){$.call(this,tt.Ma,c),this.size=v}P($r,$);function pr(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},v)}function Rn(){this.g=!0}Rn.prototype.xa=function(){this.g=!1};function Sn(c,v,E,V,se,de){c.info(function(){if(c.g)if(de)for(var Pe="",dt=de.split("&"),bt=0;bt<dt.length;bt++){var pt=dt[bt].split("=");if(1<pt.length){var Mt=pt[0];pt=pt[1];var Wt=Mt.split("_");Pe=2<=Wt.length&&Wt[1]=="type"?Pe+(Mt+"="+pt+"&"):Pe+(Mt+"=redacted&")}}else Pe=null;else Pe=de;return"XMLHTTP REQ ("+V+") [attempt "+se+"]: "+v+`
`+E+`
`+Pe})}function yn(c,v,E,V,se,de,Pe){c.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+se+"]: "+v+`
`+E+`
`+de+" "+Pe})}function On(c,v,E,V){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+Vi(c,E)+(V?" "+V:"")})}function Mo(c,v){c.info(function(){return"TIMEOUT: "+v})}Rn.prototype.info=function(){};function Vi(c,v){if(!c.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var V=E[c];if(!(2>V.length)){var se=V[1];if(Array.isArray(se)&&!(1>se.length)){var de=se[0];if(de!="noop"&&de!="stop"&&de!="close")for(var Pe=1;Pe<se.length;Pe++)se[Pe]=""}}}}return Ot(E)}catch{return v}}var mr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rr;function Or(){}P(Or,Nt),Or.prototype.g=function(){return new XMLHttpRequest},Or.prototype.i=function(){return{}},Rr=new Or;function En(c,v,E,V){this.j=c,this.i=v,this.l=E,this.R=V||1,this.U=new gn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new li}function li(){this.i=null,this.g="",this.h=!1}var ws={},_s={};function bs(c,v,E){c.L=1,c.v=eo(Dr(v)),c.m=E,c.P=!0,Js(c,null)}function Js(c,v){c.F=Date.now(),jo(c),c.A=Dr(c.v);var E=c.A,V=c.R;Array.isArray(V)||(V=[String(V)]),lt(E.i,"t",V),c.C=0,E=c.j.J,c.h=new li,c.g=k(c.j,E?v:null,!c.m),0<c.O&&(c.M=new qe(w(c.Y,c,c.g),c.O)),v=c.U,E=c.g,V=c.ca;var se="readystatechange";Array.isArray(se)||(se&&(Et[0]=se.toString()),se=Et);for(var de=0;de<se.length;de++){var Pe=K(E,se[de],V||v.handleEvent,!1,v.h||v);if(!Pe)break;v.g[Pe.key]=Pe}v=c.H?x(c.H):{},c.m?(c.u||(c.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,v)):(c.u="GET",c.g.ea(c.A,c.u,null,v)),dr(),Sn(c.i,c.u,c.A,c.l,c.R,c.m)}En.prototype.ca=function(c){c=c.target;const v=this.M;v&&Bn(c)==3?v.j():this.Y(c)},En.prototype.Y=function(c){try{if(c==this.g)e:{const Wt=Bn(this.g);var v=this.g.Ba();const Ki=this.g.Z();if(!(3>Wt)&&(Wt!=3||this.g&&(this.h.h||this.g.oa()||au(this.g)))){this.J||Wt!=4||v==7||(v==8||0>=Ki?dr(3):dr(2)),As(this);var E=this.g.Z();this.X=E;t:if(Xs(this)){var V=au(this.g);c="";var se=V.length,de=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ui(this),Ss(this);var Pe="";break t}this.h.i=new a.TextDecoder}for(v=0;v<se;v++)this.h.h=!0,c+=this.h.i.decode(V[v],{stream:!(de&&v==se-1)});V.length=0,this.h.g+=c,this.C=0,Pe=this.h.g}else Pe=this.g.oa();if(this.o=E==200,yn(this.i,this.u,this.A,this.l,this.R,Wt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,bt=this.g;if((dt=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(dt)){var pt=dt;break t}}pt=null}if(E=pt)On(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qs(this,E);else{this.o=!1,this.s=3,He(12),Ui(this),Ss(this);break e}}if(this.P){E=!0;let nr;for(;!this.J&&this.C<Pe.length;)if(nr=Yl(this,Pe),nr==_s){Wt==4&&(this.s=4,He(14),E=!1),On(this.i,this.l,null,"[Incomplete Response]");break}else if(nr==ws){this.s=4,He(15),On(this.i,this.l,Pe,"[Invalid Chunk]"),E=!1;break}else On(this.i,this.l,nr,null),Qs(this,nr);if(Xs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wt!=4||Pe.length!=0||this.h.h||(this.s=1,He(16),E=!1),this.o=this.o&&E,!E)On(this.i,this.l,Pe,"[Invalid Chunked Response]"),Ui(this),Ss(this);else if(0<Pe.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+Pe.length),Yo(Mt),Mt.M=!0,He(11))}}else On(this.i,this.l,Pe,null),Qs(this,Pe);Wt==4&&Ui(this),this.o&&!this.J&&(Wt==4?Ps(this.j,this):(this.o=!1,jo(this)))}else Is(this.g),E==400&&0<Pe.indexOf("Unknown SID")?(this.s=3,He(12)):(this.s=0,He(13)),Ui(this),Ss(this)}}}catch{}finally{}};function Xs(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Yl(c,v){var E=c.C,V=v.indexOf(`
`,E);return V==-1?_s:(E=Number(v.substring(E,V)),isNaN(E)?ws:(V+=1,V+E>v.length?_s:(v=v.slice(V,V+E),c.C=V+E,v)))}En.prototype.cancel=function(){this.J=!0,Ui(this)};function jo(c){c.S=Date.now()+c.I,Zl(c,c.I)}function Zl(c,v){if(c.B!=null)throw Error("WatchDog timer not null");c.B=pr(w(c.ba,c),v)}function As(c){c.B&&(a.clearTimeout(c.B),c.B=null)}En.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Mo(this.i,this.A),this.L!=2&&(dr(),He(17)),Ui(this),this.s=2,Ss(this)):Zl(this,this.S-c)};function Ss(c){c.j.G==0||c.J||Ps(c.j,c)}function Ui(c){As(c);var v=c.M;v&&typeof v.ma=="function"&&v.ma(),c.M=null,qr(c.U),c.g&&(v=c.g,c.g=null,v.abort(),v.ma())}function Qs(c,v){try{var E=c.j;if(E.G!=0&&(E.g==c||el(E.h,c))){if(!c.K&&el(E.h,c)&&E.G==3){try{var V=E.Da.g.parse(v)}catch{V=null}if(Array.isArray(V)&&V.length==3){var se=V;if(se[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)Gi(E),Ko(E);else break e;so(E),He(18)}}else E.za=se[1],0<E.za-E.T&&37500>se[2]&&E.F&&E.v==0&&!E.C&&(E.C=pr(w(E.Za,E),6e3));if(1>=Ys(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else gr(E,11)}else if((c.K||E.g==c)&&Gi(E),!b(v))for(se=E.Da.g.parse(v),v=0;v<se.length;v++){let pt=se[v];if(E.T=pt[0],pt=pt[1],E.G==2)if(pt[0]=="c"){E.K=pt[1],E.ia=pt[2];const Mt=pt[3];Mt!=null&&(E.la=Mt,E.j.info("VER="+E.la));const Wt=pt[4];Wt!=null&&(E.Aa=Wt,E.j.info("SVER="+E.Aa));const Ki=pt[5];Ki!=null&&typeof Ki=="number"&&0<Ki&&(V=1.5*Ki,E.L=V,E.j.info("backChannelRequestTimeoutMs_="+V)),V=E;const nr=c.g;if(nr){const Ts=nr.g?nr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ts){var de=V.h;de.g||Ts.indexOf("spdy")==-1&&Ts.indexOf("quic")==-1&&Ts.indexOf("h2")==-1||(de.j=de.l,de.g=new Set,de.h&&(rn(de,de.h),de.h=null))}if(V.D){const ks=nr.g?nr.g.getResponseHeader("X-HTTP-Session-Id"):null;ks&&(V.ya=ks,jt(V.I,V.D,ks))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),V=E;var Pe=c;if(V.qa=d(V,V.J?V.ia:null,V.W),Pe.K){tl(V.h,Pe);var dt=Pe,bt=V.L;bt&&(dt.I=bt),dt.B&&(As(dt),jo(dt)),V.g=Pe}else Qo(V);0<E.i.length&&Jo(E)}else pt[0]!="stop"&&pt[0]!="close"||gr(E,7);else E.G==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?gr(E,7):Wi(E):pt[0]!="noop"&&E.l&&E.l.ta(pt),E.v=0)}}dr(4)}catch{}}var Bc=class{constructor(c,v){this.g=c,this.map=v}};function Za(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function eu(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ys(c){return c.h?1:c.g?c.g.size:0}function el(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function rn(c,v){c.g?c.g.add(v):c.h=v}function tl(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}Za.prototype.cancel=function(){if(this.i=nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function nl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const E of c.g.values())v=v.concat(E.D);return v}return N(c.i)}function tu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var v=[],E=c.length,V=0;V<E;V++)v.push(c[V]);return v}v=[],E=0;for(V in c)v[E++]=c[V];return v}function rl(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var v=[];c=c.length;for(var E=0;E<c;E++)v.push(E);return v}v=[],E=0;for(const V in c)v[E++]=V;return v}}}function nu(c,v){if(c.forEach&&typeof c.forEach=="function")c.forEach(v,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,v,void 0);else for(var E=rl(c),V=tu(c),se=V.length,de=0;de<se;de++)v.call(void 0,V[de],E&&E[de],c)}var Wr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bo(c,v){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var V=c[E].indexOf("="),se=null;if(0<=V){var de=c[E].substring(0,V);se=c[E].substring(V+1)}else de=c[E];v(de,se?decodeURIComponent(se.replace(/\+/g," ")):"")}}}function vn(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof vn){this.h=c.h,Zs(this,c.j),this.o=c.o,this.g=c.g,Vo(this,c.s),this.l=c.l;var v=c.i,E=new Es;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),il(this,E),this.m=c.m}else c&&(v=String(c).match(Wr))?(this.h=!1,Zs(this,v[1]||"",!0),this.o=to(v[2]||""),this.g=to(v[3]||"",!0),Vo(this,v[4]),this.l=to(v[5]||"",!0),il(this,v[6]||"",!0),this.m=to(v[7]||"")):(this.h=!1,this.i=new Es(null,this.h))}vn.prototype.toString=function(){var c=[],v=this.j;v&&c.push(zi(v,ru,!0),":");var E=this.g;return(E||v=="file")&&(c.push("//"),(v=this.o)&&c.push(zi(v,ru,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(zi(E,E.charAt(0)=="/"?qi:Uc,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",zi(E,zo)),c.join("")};function Dr(c){return new vn(c)}function Zs(c,v,E){c.j=E?to(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function Vo(c,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);c.s=v}else c.s=null}function il(c,v,E){v instanceof Es?(c.i=v,zc(c.i,c.h)):(E||(v=zi(v,Uo)),c.i=new Es(v,c.h))}function jt(c,v,E){c.i.set(v,E)}function eo(c){return jt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function to(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function zi(c,v,E){return typeof c=="string"?(c=encodeURI(c).replace(v,Vc),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Vc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ru=/[#\/\?@]/g,Uc=/[#\?:]/g,qi=/[#\?]/g,Uo=/[#\?@]/g,zo=/#/g;function Es(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function sn(c){c.g||(c.g=new Map,c.h=0,c.i&&Bo(c.i,function(v,E){c.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}t=Es.prototype,t.add=function(c,v){sn(this),this.i=null,c=xs(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(v),this.h+=1,this};function iu(c,v){sn(c),v=xs(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function sl(c,v){return sn(c),v=xs(c,v),c.g.has(v)}t.forEach=function(c,v){sn(this),this.g.forEach(function(E,V){E.forEach(function(se){c.call(v,se,V,this)},this)},this)},t.na=function(){sn(this);const c=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let V=0;V<v.length;V++){const se=c[V];for(let de=0;de<se.length;de++)E.push(v[V])}return E},t.V=function(c){sn(this);let v=[];if(typeof c=="string")sl(this,c)&&(v=v.concat(this.g.get(xs(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)v=v.concat(c[E])}return v},t.set=function(c,v){return sn(this),this.i=null,c=xs(this,c),sl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},t.get=function(c,v){return c?(c=this.V(c),0<c.length?String(c[0]):v):v};function lt(c,v,E){iu(c,v),0<E.length&&(c.i=null,c.g.set(xs(c,v),N(E)),c.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var V=v[E];const de=encodeURIComponent(String(V)),Pe=this.V(V);for(V=0;V<Pe.length;V++){var se=de;Pe[V]!==""&&(se+="="+encodeURIComponent(String(Pe[V]))),c.push(se)}}return this.i=c.join("&")};function xs(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function zc(c,v){v&&!c.j&&(sn(c),c.i=null,c.g.forEach(function(E,V){var se=V.toLowerCase();V!=se&&(iu(this,V),lt(this,se,E))},c)),c.j=v}function Ii(c,v){const E=new Rn;if(a.Image){const V=new Image;V.onload=m(ui,E,"TestLoadImage: loaded",!0,v,V),V.onerror=m(ui,E,"TestLoadImage: error",!1,v,V),V.onabort=m(ui,E,"TestLoadImage: abort",!1,v,V),V.ontimeout=m(ui,E,"TestLoadImage: timeout",!1,v,V),a.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=c}else v(!1)}function su(c,v){const E=new Rn,V=new AbortController,se=setTimeout(()=>{V.abort(),ui(E,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:V.signal}).then(de=>{clearTimeout(se),de.ok?ui(E,"TestPingServer: ok",!0,v):ui(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(se),ui(E,"TestPingServer: error",!1,v)})}function ui(c,v,E,V,se){try{se&&(se.onload=null,se.onerror=null,se.onabort=null,se.ontimeout=null),V(E)}catch{}}function qo(){this.g=new Ei}function ol(c,v,E){const V=E||"";try{nu(c,function(se,de){let Pe=se;f(se)&&(Pe=Ot(se)),v.push(V+de+"="+encodeURIComponent(Pe))})}catch(se){throw v.push(V+"type="+encodeURIComponent("_badmap")),se}}function $o(c){this.l=c.Ub||null,this.j=c.eb||!1}P($o,Nt),$o.prototype.g=function(){return new Ho(this.l,this.j)},$o.prototype.i=function(c){return function(){return c}}({});function Ho(c,v){Ye.call(this),this.D=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Ho,Ye),t=Ho.prototype,t.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=v,this.readyState=1,ci(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(v.body=c),(this.D||a).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$i(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ou(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ou(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?$i(this):ci(this),this.readyState==3&&ou(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,$i(this))},t.Qa=function(c){this.g&&(this.response=c,$i(this))},t.ga=function(){this.g&&$i(this)};function $i(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ci(c)}t.setRequestHeader=function(c,v){this.u.append(c,v)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=v.next();return c.join(`\r
`)};function ci(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ho.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Hi(c){let v="";return ee(c,function(E,V){v+=V,v+=":",v+=E,v+=`\r
`}),v}function al(c,v,E){e:{for(V in E){var V=!1;break e}V=!0}V||(E=Hi(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):jt(c,v,E))}function Ft(c){Ye.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Ft,Ye);var ll=/^https?$/i,Wo=["POST","PUT"];t=Ft.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,v,E,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rr.g(),this.v=this.o?vs(this.o):vs(Rr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(de){ul(this,de);return}if(c=E||"",E=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var se in V)E.set(se,V[se]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const de of V.keys())E.set(de,V.get(de));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(E.keys()).find(de=>de.toLowerCase()=="content-type"),se=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Wo,v,void 0))||V||se||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[de,Pe]of E)this.g.setRequestHeader(de,Pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hi(this),this.u=!0,this.g.send(c),this.u=!1}catch(de){ul(this,de)}};function ul(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.m=5,cl(c),no(c)}function cl(c){c.A||(c.A=!0,it(c,"complete"),it(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,it(this,"complete"),it(this,"abort"),no(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),no(this,!0)),Ft.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?hl(this):this.bb())},t.bb=function(){hl(this)};function hl(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Bn(c)!=4||c.Z()!=2)){if(c.u&&Bn(c)==4)rt(c.Ea,0,c);else if(it(c,"readystatechange"),Bn(c)==4){c.h=!1;try{const Pe=c.Z();e:switch(Pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var V;if(V=Pe===0){var se=String(c.D).match(Wr)[1]||null;!se&&a.self&&a.self.location&&(se=a.self.location.protocol.slice(0,-1)),V=!ll.test(se?se.toLowerCase():"")}E=V}if(E)it(c,"complete"),it(c,"success");else{c.m=6;try{var de=2<Bn(c)?c.g.statusText:""}catch{de=""}c.l=de+" ["+c.Z()+"]",cl(c)}}finally{no(c)}}}}function no(c,v){if(c.g){hi(c);const E=c.g,V=c.v[0]?()=>{}:null;c.g=null,c.v=null,v||it(c,"ready");try{E.onreadystatechange=V}catch{}}}function hi(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Bn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),Xt(v)}};function au(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Is(c){const v={};c=(c.g&&2<=Bn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<c.length;V++){if(b(c[V]))continue;var E=S(c[V]);const se=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const de=v[se]||[];v[se]=de,de.push(E)}L(v,function(V){return V.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function tr(c,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||v}function Go(c){this.Aa=0,this.i=[],this.j=new Rn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=tr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=tr("baseRetryDelayMs",5e3,c),this.cb=tr("retryDelaySeedMs",1e4,c),this.Wa=tr("forwardChannelMaxRetries",2,c),this.wa=tr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Za(c&&c.concurrentRequestLimit),this.Da=new qo,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Go.prototype,t.la=8,t.G=1,t.connect=function(c,v,E,V){He(0),this.W=c,this.H=v||{},E&&V!==void 0&&(this.H.OSID=E,this.H.OAID=V),this.F=this.X,this.I=d(this,null,this.W),Jo(this)};function Wi(c){if(ro(c),c.G==3){var v=c.U++,E=Dr(c.I);if(jt(E,"SID",c.K),jt(E,"RID",v),jt(E,"TYPE","terminate"),Ns(c,E),v=new En(c,c.j,v),v.L=2,v.v=eo(Dr(E)),E=!1,a.navigator&&a.navigator.sendBeacon)try{E=a.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&a.Image&&(new Image().src=v.v,E=!0),E||(v.g=k(v.j,null),v.g.ea(v.v)),v.F=Date.now(),jo(v)}ea(c)}function Ko(c){c.g&&(Yo(c),c.g.cancel(),c.g=null)}function ro(c){Ko(c),c.u&&(a.clearTimeout(c.u),c.u=null),Gi(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Jo(c){if(!eu(c.h)&&!c.s){c.s=!0;var v=c.Ga;ve||ue(),Q||(ve(),Q=!0),le.add(v,c),c.B=0}}function fl(c,v){return Ys(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=v.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=pr(w(c.Ga,c,v),Zo(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const se=new En(this,this.j,c);let de=this.o;if(this.S&&(de?(de=x(de),B(de,this.S)):de=this.S),this.m!==null||this.O||(se.H=de,de=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var V=this.i[E];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(v+=V,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=io(this,se,v),E=Dr(this.I),jt(E,"RID",c),jt(E,"CVER",22),this.D&&jt(E,"X-HTTP-Session-Id",this.D),Ns(this,E),de&&(this.O?v="headers="+encodeURIComponent(String(Hi(de)))+"&"+v:this.m&&al(E,this.m,de)),rn(this.h,se),this.Ua&&jt(E,"TYPE","init"),this.P?(jt(E,"$req",v),jt(E,"SID","null"),se.T=!0,bs(se,E,null)):bs(se,E,v),this.G=2}}else this.G==3&&(c?Xo(this,c):this.i.length==0||eu(this.h)||Xo(this))};function Xo(c,v){var E;v?E=v.l:E=c.U++;const V=Dr(c.I);jt(V,"SID",c.K),jt(V,"RID",E),jt(V,"AID",c.T),Ns(c,V),c.m&&c.o&&al(V,c.m,c.o),E=new En(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),v&&(c.i=v.D.concat(c.i)),v=io(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),rn(c.h,E),bs(E,V,v)}function Ns(c,v){c.H&&ee(c.H,function(E,V){jt(v,V,E)}),c.l&&nu({},function(E,V){jt(v,V,E)})}function io(c,v,E){E=Math.min(c.i.length,E);var V=c.l?w(c.l.Na,c.l,c):null;e:{var se=c.i;let de=-1;for(;;){const Pe=["count="+E];de==-1?0<E?(de=se[0].g,Pe.push("ofs="+de)):de=0:Pe.push("ofs="+de);let dt=!0;for(let bt=0;bt<E;bt++){let pt=se[bt].g;const Mt=se[bt].map;if(pt-=de,0>pt)de=Math.max(0,se[bt].g-100),dt=!1;else try{ol(Mt,Pe,"req"+pt+"_")}catch{V&&V(Mt)}}if(dt){V=Pe.join("&");break e}}}return c=c.i.splice(0,E),v.D=c,V}function Qo(c){if(!c.g&&!c.u){c.Y=1;var v=c.Fa;ve||ue(),Q||(ve(),Q=!0),le.add(v,c),c.v=0}}function so(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=pr(w(c.Fa,c),Zo(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,lu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=pr(w(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,He(10),Ko(this),lu(this))};function Yo(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function lu(c){c.g=new En(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var v=Dr(c.qa);jt(v,"RID","rpc"),jt(v,"SID",c.K),jt(v,"AID",c.T),jt(v,"CI",c.F?"0":"1"),!c.F&&c.ja&&jt(v,"TO",c.ja),jt(v,"TYPE","xmlhttp"),Ns(c,v),c.m&&c.o&&al(v,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=eo(Dr(v)),E.m=null,E.P=!0,Js(E,c)}t.Za=function(){this.C!=null&&(this.C=null,Ko(this),so(this),He(19))};function Gi(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Ps(c,v){var E=null;if(c.g==v){Gi(c),Yo(c),c.g=null;var V=2}else if(el(c.h,v))E=v.D,tl(c.h,v),V=1;else return;if(c.G!=0){if(v.o)if(V==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var se=c.B;V=xi(),it(V,new $r(V,E)),Jo(c)}else Qo(c);else if(se=v.s,se==3||se==0&&0<v.X||!(V==1&&fl(c,v)||V==2&&so(c)))switch(E&&0<E.length&&(v=c.h,v.i=v.i.concat(E)),se){case 1:gr(c,5);break;case 4:gr(c,10);break;case 3:gr(c,6);break;default:gr(c,2)}}}function Zo(c,v){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*v}function gr(c,v){if(c.j.info("Error code "+v),v==2){var E=w(c.fb,c),V=c.Xa;const se=!V;V=new vn(V||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Zs(V,"https"),eo(V),se?Ii(V.toString(),E):su(V.toString(),E)}else He(2);c.G=0,c.l&&c.l.sa(v),ea(c),ro(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),He(2)):(this.j.info("Failed to ping google.com"),He(1))};function ea(c){if(c.G=0,c.ka=[],c.l){const v=nl(c.h);(v.length!=0||c.i.length!=0)&&(F(c.ka,v),F(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function d(c,v,E){var V=E instanceof vn?Dr(E):new vn(E);if(V.g!="")v&&(V.g=v+"."+V.g),Vo(V,V.s);else{var se=a.location;V=se.protocol,v=v?v+"."+se.hostname:se.hostname,se=+se.port;var de=new vn(null);V&&Zs(de,V),v&&(de.g=v),se&&Vo(de,se),E&&(de.l=E),V=de}return E=c.D,v=c.ya,E&&v&&jt(V,E,v),jt(V,"VER",c.la),Ns(c,V),V}function k(c,v,E){if(v&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Ca&&!c.pa?new Ft(new $o({eb:E})):new Ft(c.pa),v.Ha(c.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function W(){}t=W.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Z(){}Z.prototype.g=function(c,v){return new oe(c,v)};function oe(c,v){Ye.call(this),this.g=new Go(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(c?c["X-WebChannel-Client-Profile"]=v.va:c={"X-WebChannel-Client-Profile":v.va}),this.g.S=c,(c=v&&v.Sb)&&!b(c)&&(this.g.m=c),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!b(v)&&(this.g.D=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new Be(this)}P(oe,Ye),oe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},oe.prototype.close=function(){Wi(this.g)},oe.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=Ot(c),c=E);v.i.push(new Bc(v.Ya++,c)),v.G==3&&Jo(v)},oe.prototype.N=function(){this.g.l=null,delete this.j,Wi(this.g),delete this.g,oe.aa.N.call(this)};function _e(c){oi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const E in v){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}P(_e,oi);function Ne(){Qt.call(this),this.status=1}P(Ne,Qt);function Be(c){this.g=c}P(Be,W),Be.prototype.ua=function(){it(this.g,"a")},Be.prototype.ta=function(c){it(this.g,new _e(c))},Be.prototype.sa=function(c){it(this.g,new Ne)},Be.prototype.ra=function(){it(this.g,"b")},Z.prototype.createWebChannel=Z.prototype.g,oe.prototype.send=oe.prototype.o,oe.prototype.open=oe.prototype.m,oe.prototype.close=oe.prototype.close,w3=function(){return new Z},v3=function(){return xi()},y3=tt,S0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},mr.NO_ERROR=0,mr.TIMEOUT=8,mr.HTTP_ERROR=6,ip=mr,Hr.COMPLETE="complete",g3=Hr,nn.EventType=er,er.OPEN="a",er.CLOSE="b",er.ERROR="c",er.MESSAGE="d",Ye.prototype.listen=Ye.prototype.K,bh=nn,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,m3=Ft}).apply(typeof Cd<"u"?Cd:typeof self<"u"?self:typeof window<"u"?window:{});const aw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xr.UNAUTHENTICATED=new xr(null),xr.GOOGLE_CREDENTIALS=new xr("google-credentials-uid"),xr.FIRST_PARTY=new xr("first-party-uid"),xr.MOCK_USER=new xr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=new W2("@firebase/firestore");function mh(){return zl.logLevel}function Ze(t,...e){if(zl.logLevel<=xt.DEBUG){const n=e.map(J2);zl.debug(`Firestore (${Rc}): ${t}`,...n)}}function ql(t,...e){if(zl.logLevel<=xt.ERROR){const n=e.map(J2);zl.error(`Firestore (${Rc}): ${t}`,...n)}}function Wp(t,...e){if(zl.logLevel<=xt.WARN){const n=e.map(J2);zl.warn(`Firestore (${Rc}): ${t}`,...n)}}function J2(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t="Unexpected state"){const e=`FIRESTORE (${Rc}) INTERNAL ASSERTION FAILED: `+t;throw ql(e),new Error(e)}function Cn(t,e){t||It()}function tn(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Fo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xr.UNAUTHENTICATED))}shutdown(){}}class OT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class DT{constructor(e){this.t=e,this.currentUser=xr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Cn(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Rl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Rl,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Rl)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Cn(typeof r.accessToken=="string"),new _3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Cn(e===null||typeof e=="string"),new xr(e)}}class FT{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=xr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class MT{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new FT(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(xr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BT{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Cn(this.o===void 0);const r=s=>{s.error!=null&&Ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ze("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Cn(typeof n.token=="string"),this.R=n.token,new jT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=VT(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Jt(t,e){return t<e?-1:t>e?1:0}function _c(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ut(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ut(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ut(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Zn.fromMillis(Date.now())}static fromDate(e){return Zn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Zn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Jt(this.nanoseconds,e.nanoseconds):Jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new fn(e)}static min(){return new fn(new Zn(0,0))}static max(){return new fn(new Zn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n,r){n===void 0?n=0:n>e.length&&It(),r===void 0?r=e.length-n:r>e.length-n&&It(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ff.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ff?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class An extends ff{construct(e,n,r){return new An(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ut(Oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new An(n)}static emptyPath(){return new An([])}}const UT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ur extends ff{construct(e,n,r){return new ur(e,n,r)}static isValidIdentifier(e){return UT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ur.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ur(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ut(Oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ut(Oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ut(Oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ut(Oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ur(n)}static emptyPath(){return new ur([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.path=e}static fromPath(e){return new wt(An.fromString(e))}static fromName(e){return new wt(An.fromString(e).popFirst(5))}static empty(){return new wt(An.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&An.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return An.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new wt(new An(e.slice()))}}function zT(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=fn.fromTimestamp(r===1e9?new Zn(n+1,0):new Zn(n,r));return new Ga(i,wt.empty(),e)}function qT(t){return new Ga(t.readTime,t.key,-1)}class Ga{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ga(fn.min(),wt.empty(),-1)}static max(){return new Ga(fn.max(),wt.empty(),-1)}}function $T(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=wt.comparator(t.documentKey,e.documentKey),n!==0?n:Jt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A3(t){if(t.code!==Oe.FAILED_PRECONDITION||t.message!==HT)throw t;Ze("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&It(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ce((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ce?n:Ce.resolve(n)}catch(n){return Ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ce.reject(n)}static resolve(e){return new Ce((n,r)=>{n(e)})}static reject(e){return new Ce((n,r)=>{r(e)})}static waitFor(e){return new Ce((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=Ce.resolve(!1);for(const r of e)n=n.next(i=>i?Ce.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Ce((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const f=l;n(e[f]).next(g=>{o[f]=g,++a,a===s&&r(o)},g=>i(g))}})}static doWhile(e,n){return new Ce((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function GT(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Lm(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}S3.oe=-1;function X2(t){return t==null}function Gp(t){return t===0&&1/t==-1/0}function KT(t){return typeof t=="number"&&Number.isInteger(t)&&!Gp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Pf(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function E3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n){this.comparator=e,this.root=n||ar.EMPTY}insert(e,n){return new ri(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ar.BLACK,null,null))}remove(e){return new ri(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ar.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ld(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ld(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ld(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ld(this.root,e,this.comparator,!0)}}class Ld{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ar{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ar.RED,this.left=i??ar.EMPTY,this.right=s??ar.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ar(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ar.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ar.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ar.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ar.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw It();const e=this.left.check();if(e!==this.right.check())throw It();return e+(this.isRed()?0:1)}}ar.EMPTY=null,ar.RED=!0,ar.BLACK=!1;ar.EMPTY=new class{constructor(){this.size=0}get key(){throw It()}get value(){throw It()}get color(){throw It()}get left(){throw It()}get right(){throw It()}copy(e,n,r,i,s){return this}insert(e,n,r){return new ar(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.comparator=e,this.data=new ri(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uw(this.data.getIterator())}getIteratorFrom(e){return new uw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof kr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new kr(this.comparator);return n.data=e,n}}class uw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this.fields=e,e.sort(ur.comparator)}static empty(){return new ls([])}unionWith(e){let n=new kr(ur.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ls(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _c(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new JT("Invalid base64 string: "+s):s}}(e);return new Ws(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ws(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ws.EMPTY_BYTE_STRING=new Ws("");const XT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $l(t){if(Cn(!!t),typeof t=="string"){let e=0;const n=XT.exec(t);if(Cn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lr(t.seconds),nanos:lr(t.nanos)}}function lr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function df(t){return typeof t=="string"?Ws.fromBase64String(t):Ws.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function x3(t){const e=t.mapValue.fields.__previous_value__;return Q2(e)?x3(e):e}function Kp(t){const e=$l(t.mapValue.fields.__local_write_time__.timestampValue);return new Zn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n,r,i,s,o,a,l,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=f}}class Jp{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Jp("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Jp&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function bc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Q2(t)?4:ZT(t)?9007199254740991:YT(t)?10:11:It()}function Gs(t,e){if(t===e)return!0;const n=bc(t);if(n!==bc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Kp(t).isEqual(Kp(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=$l(i.timestampValue),a=$l(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return df(i.bytesValue).isEqual(df(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return lr(i.geoPointValue.latitude)===lr(s.geoPointValue.latitude)&&lr(i.geoPointValue.longitude)===lr(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return lr(i.integerValue)===lr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=lr(i.doubleValue),a=lr(s.doubleValue);return o===a?Gp(o)===Gp(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return _c(t.arrayValue.values||[],e.arrayValue.values||[],Gs);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(lw(o)!==lw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Gs(o[l],a[l])))return!1;return!0}(t,e);default:return It()}}function pf(t,e){return(t.values||[]).find(n=>Gs(n,e))!==void 0}function Ac(t,e){if(t===e)return 0;const n=bc(t),r=bc(e);if(n!==r)return Jt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Jt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=lr(s.integerValue||s.doubleValue),l=lr(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return cw(t.timestampValue,e.timestampValue);case 4:return cw(Kp(t),Kp(e));case 5:return Jt(t.stringValue,e.stringValue);case 6:return function(s,o){const a=df(s),l=df(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let f=0;f<a.length&&f<l.length;f++){const g=Jt(a[f],l[f]);if(g!==0)return g}return Jt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Jt(lr(s.latitude),lr(o.latitude));return a!==0?a:Jt(lr(s.longitude),lr(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return hw(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,f,g;const p=s.fields||{},w=o.fields||{},m=(a=p.value)===null||a===void 0?void 0:a.arrayValue,P=(l=w.value)===null||l===void 0?void 0:l.arrayValue,N=Jt(((f=m==null?void 0:m.values)===null||f===void 0?void 0:f.length)||0,((g=P==null?void 0:P.values)===null||g===void 0?void 0:g.length)||0);return N!==0?N:hw(m,P)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Rd.mapValue&&o===Rd.mapValue)return 0;if(s===Rd.mapValue)return 1;if(o===Rd.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),f=o.fields||{},g=Object.keys(f);l.sort(),g.sort();for(let p=0;p<l.length&&p<g.length;++p){const w=Jt(l[p],g[p]);if(w!==0)return w;const m=Ac(a[l[p]],f[g[p]]);if(m!==0)return m}return Jt(l.length,g.length)}(t.mapValue,e.mapValue);default:throw It()}}function cw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Jt(t,e);const n=$l(t),r=$l(e),i=Jt(n.seconds,r.seconds);return i!==0?i:Jt(n.nanos,r.nanos)}function hw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ac(n[i],r[i]);if(s)return s}return Jt(n.length,r.length)}function Sc(t){return E0(t)}function E0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=$l(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return df(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return wt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=E0(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${E0(n.fields[o])}`;return i+"}"}(t.mapValue):It()}function x0(t){return!!t&&"integerValue"in t}function Y2(t){return!!t&&"arrayValue"in t}function sp(t){return!!t&&"mapValue"in t}function YT(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Bh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Pf(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Bh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ZT(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e){this.value=e}static empty(){return new as({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bh(n)}setAll(e){let n=ur.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Bh(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());sp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];sp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Pf(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new as(Bh(this.value))}}function I3(t){const e=[];return Pf(t.fields,(n,r)=>{const i=new ur([n]);if(sp(r)){const s=I3(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ls(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new os(e,0,fn.min(),fn.min(),fn.min(),as.empty(),0)}static newFoundDocument(e,n,r,i){return new os(e,1,n,fn.min(),r,i,0)}static newNoDocument(e,n){return new os(e,2,n,fn.min(),fn.min(),as.empty(),0)}static newUnknownDocument(e,n){return new os(e,3,n,fn.min(),fn.min(),as.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=as.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=as.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof os&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new os(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n){this.position=e,this.inclusive=n}}function fw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=wt.comparator(wt.fromName(o.referenceValue),n.key):r=Ac(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function dw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n="asc"){this.field=e,this.dir=n}}function ek(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{}class Qn extends N3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new nk(e,n,r):n==="array-contains"?new sk(e,r):n==="in"?new ok(e,r):n==="not-in"?new ak(e,r):n==="array-contains-any"?new lk(e,r):new Qn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new rk(e,r):new ik(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ac(n,this.value)):n!==null&&bc(this.value)===bc(n)&&this.matchesComparison(Ac(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return It()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ka extends N3{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ka(e,n)}matches(e){return P3(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function P3(t){return t.op==="and"}function T3(t){return tk(t)&&P3(t)}function tk(t){for(const e of t.filters)if(e instanceof Ka)return!1;return!0}function I0(t){if(t instanceof Qn)return t.field.canonicalString()+t.op.toString()+Sc(t.value);if(T3(t))return t.filters.map(e=>I0(e)).join(",");{const e=t.filters.map(n=>I0(n)).join(",");return`${t.op}(${e})`}}function k3(t,e){return t instanceof Qn?function(r,i){return i instanceof Qn&&r.op===i.op&&r.field.isEqual(i.field)&&Gs(r.value,i.value)}(t,e):t instanceof Ka?function(r,i){return i instanceof Ka&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&k3(o,i.filters[a]),!0):!1}(t,e):void It()}function C3(t){return t instanceof Qn?function(n){return`${n.field.canonicalString()} ${n.op} ${Sc(n.value)}`}(t):t instanceof Ka?function(n){return n.op.toString()+" {"+n.getFilters().map(C3).join(" ,")+"}"}(t):"Filter"}class nk extends Qn{constructor(e,n,r){super(e,n,r),this.key=wt.fromName(r.referenceValue)}matches(e){const n=wt.comparator(e.key,this.key);return this.matchesComparison(n)}}class rk extends Qn{constructor(e,n){super(e,"in",n),this.keys=L3("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ik extends Qn{constructor(e,n){super(e,"not-in",n),this.keys=L3("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function L3(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>wt.fromName(r.referenceValue))}class sk extends Qn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Y2(n)&&pf(n.arrayValue,this.value)}}class ok extends Qn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pf(this.value.arrayValue,n)}}class ak extends Qn{constructor(e,n){super(e,"not-in",n)}matches(e){if(pf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!pf(this.value.arrayValue,n)}}class lk extends Qn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Y2(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>pf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function pw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new uk(t,e,n,r,i,s,o)}function Z2(t){const e=tn(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>I0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),X2(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Sc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Sc(r)).join(",")),e.ue=n}return e.ue}function e5(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ek(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!k3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!dw(t.startAt,e.startAt)&&dw(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function ck(t,e,n,r,i,s,o,a){return new Rm(t,e,n,r,i,s,o,a)}function hk(t){return new Rm(t)}function mw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function fk(t){return t.collectionGroup!==null}function Vh(t){const e=tn(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new kr(ur.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(f=>{f.isInequality()&&(a=a.add(f.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Qp(s,r))}),n.has(ur.keyField().canonicalString())||e.ce.push(new Qp(ur.keyField(),r))}return e.ce}function Ol(t){const e=tn(t);return e.le||(e.le=dk(e,Vh(t))),e.le}function dk(t,e){if(t.limitType==="F")return pw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Qp(i.field,s)});const n=t.endAt?new Xp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Xp(t.startAt.position,t.startAt.inclusive):null;return pw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function N0(t,e,n){return new Rm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function R3(t,e){return e5(Ol(t),Ol(e))&&t.limitType===e.limitType}function O3(t){return`${Z2(Ol(t))}|lt:${t.limitType}`}function gh(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>C3(i)).join(", ")}]`),X2(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Sc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Sc(i)).join(",")),`Target(${r})`}(Ol(t))}; limitType=${t.limitType})`}function t5(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):wt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Vh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const f=fw(o,a,l);return o.inclusive?f<=0:f<0}(r.startAt,Vh(r),i)||r.endAt&&!function(o,a,l){const f=fw(o,a,l);return o.inclusive?f>=0:f>0}(r.endAt,Vh(r),i))}(t,e)}function pk(t){return(e,n)=>{let r=!1;for(const i of Vh(t)){const s=mk(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function mk(t,e,n){const r=t.field.isKeyField()?wt.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),f=a.data.field(s);return l!==null&&f!==null?Ac(l,f):It()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return It()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Pf(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return E3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=new ri(wt.comparator);function Yp(){return gk}const D3=new ri(wt.comparator);function Od(...t){let e=D3;for(const n of t)e=e.insert(n.key,n);return e}function F3(t){let e=D3;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Pl(){return Uh()}function M3(){return Uh()}function Uh(){return new Oc(t=>t.toString(),(t,e)=>t.isEqual(e))}const yk=new ri(wt.comparator),vk=new kr(wt.comparator);function Nr(...t){let e=vk;for(const n of t)e=e.add(n);return e}const wk=new kr(Jt);function _k(){return wk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n5(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gp(e)?"-0":e}}function j3(t){return{integerValue:""+t}}function bk(t,e){return KT(e)?j3(e):n5(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(){this._=void 0}}function Ak(t,e,n){return t instanceof Zp?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Q2(s)&&(s=x3(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof mf?V3(t,e):t instanceof gf?U3(t,e):function(i,s){const o=B3(i,s),a=gw(o)+gw(i.Pe);return x0(o)&&x0(i.Pe)?j3(a):n5(i.serializer,a)}(t,e)}function Sk(t,e,n){return t instanceof mf?V3(t,e):t instanceof gf?U3(t,e):n}function B3(t,e){return t instanceof em?function(r){return x0(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Zp extends Om{}class mf extends Om{constructor(e){super(),this.elements=e}}function V3(t,e){const n=z3(e);for(const r of t.elements)n.some(i=>Gs(i,r))||n.push(r);return{arrayValue:{values:n}}}class gf extends Om{constructor(e){super(),this.elements=e}}function U3(t,e){let n=z3(e);for(const r of t.elements)n=n.filter(i=>!Gs(i,r));return{arrayValue:{values:n}}}class em extends Om{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function gw(t){return lr(t.integerValue||t.doubleValue)}function z3(t){return Y2(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Ek(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof mf&&i instanceof mf||r instanceof gf&&i instanceof gf?_c(r.elements,i.elements,Gs):r instanceof em&&i instanceof em?Gs(r.Pe,i.Pe):r instanceof Zp&&i instanceof Zp}(t.transform,e.transform)}class xk{constructor(e,n){this.version=e,this.transformResults=n}}class Io{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Io}static exists(e){return new Io(void 0,e)}static updateTime(e){return new Io(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function op(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Dm{}function q3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new H3(t.key,Io.none()):new Tf(t.key,t.data,Io.none());{const n=t.data,r=as.empty();let i=new kr(ur.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Xl(t.key,r,new ls(i.toArray()),Io.none())}}function Ik(t,e,n){t instanceof Tf?function(i,s,o){const a=i.value.clone(),l=vw(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Xl?function(i,s,o){if(!op(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=vw(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll($3(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function zh(t,e,n,r){return t instanceof Tf?function(s,o,a,l){if(!op(s.precondition,o))return a;const f=s.value.clone(),g=ww(s.fieldTransforms,l,o);return f.setAll(g),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xl?function(s,o,a,l){if(!op(s.precondition,o))return a;const f=ww(s.fieldTransforms,l,o),g=o.data;return g.setAll($3(s)),g.setAll(f),o.convertToFoundDocument(o.version,g).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return op(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Nk(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=B3(r.transform,i||null);s!=null&&(n===null&&(n=as.empty()),n.set(r.field,s))}return n||null}function yw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&_c(r,i,(s,o)=>Ek(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Tf extends Dm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xl extends Dm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function $3(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function vw(t,e,n){const r=new Map;Cn(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Sk(o,a,n[i]))}return r}function ww(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Ak(s,o,e))}return r}class H3 extends Dm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Pk extends Dm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Ik(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=zh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=zh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=M3();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=q3(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(fn.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Nr())}isEqual(e){return this.batchId===e.batchId&&_c(this.mutations,e.mutations,(n,r)=>yw(n,r))&&_c(this.baseMutations,e.baseMutations,(n,r)=>yw(n,r))}}class r5{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Cn(e.mutations.length===r.length);let i=function(){return yk}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new r5(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mn,Pt;function Ck(t){switch(t){default:return It();case Oe.CANCELLED:case Oe.UNKNOWN:case Oe.DEADLINE_EXCEEDED:case Oe.RESOURCE_EXHAUSTED:case Oe.INTERNAL:case Oe.UNAVAILABLE:case Oe.UNAUTHENTICATED:return!1;case Oe.INVALID_ARGUMENT:case Oe.NOT_FOUND:case Oe.ALREADY_EXISTS:case Oe.PERMISSION_DENIED:case Oe.FAILED_PRECONDITION:case Oe.ABORTED:case Oe.OUT_OF_RANGE:case Oe.UNIMPLEMENTED:case Oe.DATA_LOSS:return!0}}function Lk(t){if(t===void 0)return ql("GRPC error has no .code"),Oe.UNKNOWN;switch(t){case Mn.OK:return Oe.OK;case Mn.CANCELLED:return Oe.CANCELLED;case Mn.UNKNOWN:return Oe.UNKNOWN;case Mn.DEADLINE_EXCEEDED:return Oe.DEADLINE_EXCEEDED;case Mn.RESOURCE_EXHAUSTED:return Oe.RESOURCE_EXHAUSTED;case Mn.INTERNAL:return Oe.INTERNAL;case Mn.UNAVAILABLE:return Oe.UNAVAILABLE;case Mn.UNAUTHENTICATED:return Oe.UNAUTHENTICATED;case Mn.INVALID_ARGUMENT:return Oe.INVALID_ARGUMENT;case Mn.NOT_FOUND:return Oe.NOT_FOUND;case Mn.ALREADY_EXISTS:return Oe.ALREADY_EXISTS;case Mn.PERMISSION_DENIED:return Oe.PERMISSION_DENIED;case Mn.FAILED_PRECONDITION:return Oe.FAILED_PRECONDITION;case Mn.ABORTED:return Oe.ABORTED;case Mn.OUT_OF_RANGE:return Oe.OUT_OF_RANGE;case Mn.UNIMPLEMENTED:return Oe.UNIMPLEMENTED;case Mn.DATA_LOSS:return Oe.DATA_LOSS;default:return It()}}(Pt=Mn||(Mn={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new p3([4294967295,4294967295],0);class Rk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function P0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ok(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Dk(t,e){return P0(t,e.toTimestamp())}function ic(t){return Cn(!!t),fn.fromTimestamp(function(n){const r=$l(n);return new Zn(r.seconds,r.nanos)}(t))}function W3(t,e){return T0(t,e).canonicalString()}function T0(t,e){const n=function(i){return new An(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Fk(t){const e=An.fromString(t);return Cn($k(e)),e}function k0(t,e){return W3(t.databaseId,e.path)}function Mk(t){const e=Fk(t);return e.length===4?An.emptyPath():Bk(e)}function jk(t){return new An(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Bk(t){return Cn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function _w(t,e,n){return{name:k0(t,e),fields:n.value.mapValue.fields}}function Vk(t,e){let n;if(e instanceof Tf)n={update:_w(t,e.key,e.value)};else if(e instanceof H3)n={delete:k0(t,e.key)};else if(e instanceof Xl)n={update:_w(t,e.key,e.data),updateMask:qk(e.fieldMask)};else{if(!(e instanceof Pk))return It();n={verify:k0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Zp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof mf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof gf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof em)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw It()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Dk(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:It()}(t,e.precondition)),n}function Uk(t,e){return t&&t.length>0?(Cn(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?ic(i.updateTime):ic(s);return o.isEqual(fn.min())&&(o=ic(s)),new xk(o,i.transformResults||[])}(n,e))):[]}function zk(t){let e=Mk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Cn(r===1);const g=n.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let s=[];n.where&&(s=function(p){const w=G3(p);return w instanceof Ka&&T3(w)?w.getFilters():[w]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(w=>function(P){return new Qp(Tu(P.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(w))}(n.orderBy));let a=null;n.limit&&(a=function(p){let w;return w=typeof p=="object"?p.value:p,X2(w)?null:w}(n.limit));let l=null;n.startAt&&(l=function(p){const w=!!p.before,m=p.values||[];return new Xp(m,w)}(n.startAt));let f=null;return n.endAt&&(f=function(p){const w=!p.before,m=p.values||[];return new Xp(m,w)}(n.endAt)),ck(e,i,o,s,a,"F",l,f)}function G3(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Tu(n.unaryFilter.field);return Qn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Tu(n.unaryFilter.field);return Qn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Tu(n.unaryFilter.field);return Qn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Tu(n.unaryFilter.field);return Qn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return It()}}(t):t.fieldFilter!==void 0?function(n){return Qn.create(Tu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return It()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ka.create(n.compositeFilter.filters.map(r=>G3(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return It()}}(n.compositeFilter.op))}(t):It()}function Tu(t){return ur.fromServerFormat(t.fieldPath)}function qk(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $k(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e){this.ct=e}}function Wk(t){const e=zk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?N0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(){this.un=new Kk}addToCollectionParentIndex(e,n){return this.un.add(n),Ce.resolve()}getCollectionParents(e,n){return Ce.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Ce.resolve()}deleteFieldIndex(e,n){return Ce.resolve()}deleteAllFieldIndexes(e){return Ce.resolve()}createTargetIndexes(e,n){return Ce.resolve()}getDocumentsMatchingTarget(e,n){return Ce.resolve(null)}getIndexType(e,n){return Ce.resolve(0)}getFieldIndexes(e,n){return Ce.resolve([])}getNextCollectionGroupToUpdate(e){return Ce.resolve(null)}getMinOffset(e,n){return Ce.resolve(Ga.min())}getMinOffsetFromCollectionGroup(e,n){return Ce.resolve(Ga.min())}updateCollectionGroup(e,n,r){return Ce.resolve()}updateIndexEntries(e,n){return Ce.resolve()}}class Kk{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new kr(An.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kr(An.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ec(0)}static kn(){return new Ec(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(){this.changes=new Oc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,os.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ce.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&zh(r.mutation,i,ls.empty(),Zn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Nr()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Nr()){const i=Pl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Od();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Pl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Nr()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Yp();const o=Uh(),a=function(){return Uh()}();return n.forEach((l,f)=>{const g=r.get(f.key);i.has(f.key)&&(g===void 0||g.mutation instanceof Xl)?s=s.insert(f.key,f):g!==void 0?(o.set(f.key,g.mutation.getFieldMask()),zh(g.mutation,f,g.mutation.getFieldMask(),Zn.now())):o.set(f.key,ls.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((f,g)=>o.set(f,g)),n.forEach((f,g)=>{var p;return a.set(f,new Xk(g,(p=o.get(f))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Uh();let i=new ri((o,a)=>o-a),s=Nr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const f=n.get(l);if(f===null)return;let g=r.get(l)||ls.empty();g=a.applyToLocalView(f,g),r.set(l,g);const p=(i.get(a.batchId)||Nr()).add(l);i=i.insert(a.batchId,p)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),f=l.key,g=l.value,p=M3();g.forEach(w=>{if(!s.has(w)){const m=q3(n.get(w),r.get(w));m!==null&&p.set(w,m),s=s.add(w)}}),o.push(this.documentOverlayCache.saveOverlays(e,f,p))}return Ce.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return wt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):fk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Ce.resolve(Pl());let a=-1,l=s;return o.next(f=>Ce.forEach(f,(g,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(g)?Ce.resolve():this.remoteDocumentCache.getEntry(e,g).next(w=>{l=l.insert(g,w)}))).next(()=>this.populateOverlays(e,f,s)).next(()=>this.computeViews(e,l,f,Nr())).next(g=>({batchId:a,changes:F3(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new wt(n)).next(r=>{let i=Od();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Od();return this.indexManager.getCollectionParents(e,s).next(a=>Ce.forEach(a,l=>{const f=function(p,w){return new Rm(w,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(g=>{g.forEach((p,w)=>{o=o.insert(p,w)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,f)=>{const g=f.getKey();o.get(g)===null&&(o=o.insert(g,os.newInvalidDocument(g)))});let a=Od();return o.forEach((l,f)=>{const g=s.get(l);g!==void 0&&zh(g.mutation,f,ls.empty(),Zn.now()),t5(n,f)&&(a=a.insert(l,f))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Ce.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ic(i.createTime)}}(n)),Ce.resolve()}getNamedQuery(e,n){return Ce.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:Wk(i.bundledQuery),readTime:ic(i.readTime)}}(n)),Ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(){this.overlays=new ri(wt.comparator),this.Ir=new Map}getOverlay(e,n){return Ce.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Pl();return Ce.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),Ce.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),Ce.resolve()}getOverlaysForCollection(e,n,r){const i=Pl(),s=n.length+1,o=new wt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,f=l.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Ce.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ri((f,g)=>f-g);const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let g=s.get(f.largestBatchId);g===null&&(g=Pl(),s=s.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const a=Pl(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((f,g)=>a.set(f,g)),!(a.size()>=i)););return Ce.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new kk(n,r));let s=this.Ir.get(n);s===void 0&&(s=Nr(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.sessionToken=Ws.EMPTY_BYTE_STRING}getSessionToken(e){return Ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(){this.Tr=new kr(Kn.Er),this.dr=new kr(Kn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Kn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Kn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new wt(new An([])),r=new Kn(n,e),i=new Kn(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new wt(new An([])),r=new Kn(n,e),i=new Kn(n,e+1);let s=Nr();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Kn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Kn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return wt.comparator(e.key,n.key)||Jt(e.wr,n.wr)}static Ar(e,n){return Jt(e.wr,n.wr)||wt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new kr(Kn.Er)}checkEmpty(e){return Ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Tk(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Kn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ce.resolve(o)}lookupMutationBatch(e,n){return Ce.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return Ce.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Kn(n,0),i=new Kn(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),Ce.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kr(Jt);return n.forEach(i=>{const s=new Kn(i,0),o=new Kn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),Ce.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;wt.isDocumentKey(s)||(s=s.child(""));const o=new Kn(new wt(s),0);let a=new kr(Jt);return this.br.forEachWhile(l=>{const f=l.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(a=a.add(l.wr)),!0)},o),Ce.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Cn(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Ce.forEach(n.mutations,i=>{const s=new Kn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Kn(n,0),i=this.br.firstAfterOrEqual(r);return Ce.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ce.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e){this.Mr=e,this.docs=function(){return new ri(wt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ce.resolve(r?r.document.mutableCopy():os.newInvalidDocument(n))}getEntries(e,n){let r=Yp();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():os.newInvalidDocument(i))}),Ce.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Yp();const o=n.path,a=new wt(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:f,value:{document:g}}=l.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||$T(qT(g),r)<=0||(i.has(g.key)||t5(n,g))&&(s=s.insert(g.key,g.mutableCopy()))}return Ce.resolve(s)}getAllFromCollectionGroup(e,n,r,i){It()}Or(e,n){return Ce.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new rC(this)}getSize(e){return Ce.resolve(this.size)}}class rC extends Jk{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Ce.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this.persistence=e,this.Nr=new Oc(n=>Z2(n),e5),this.lastRemoteSnapshotVersion=fn.min(),this.highestTargetId=0,this.Lr=0,this.Br=new i5,this.targetCount=0,this.kr=Ec.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Ce.resolve()}getLastRemoteSnapshotVersion(e){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ce.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Ce.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ec(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Ce.resolve()}updateTargetData(e,n){return this.Kn(n),Ce.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Ce.waitFor(s).next(()=>i)}getTargetCount(e){return Ce.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Ce.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Ce.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Ce.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Ce.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Ce.resolve(r)}containsKey(e,n){return Ce.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,n){this.qr={},this.overlays={},this.Qr=new S3(0),this.Kr=!1,this.Kr=!0,this.$r=new eC,this.referenceDelegate=e(this),this.Ur=new iC(this),this.indexManager=new Gk,this.remoteDocumentCache=function(i){return new nC(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Hk(n),this.Gr=new Yk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Zk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new tC(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ze("MemoryPersistence","Starting transaction:",e);const i=new oC(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return Ce.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class oC extends WT{constructor(e){super(),this.currentSequenceNumber=e}}class s5{constructor(e){this.persistence=e,this.Jr=new i5,this.Yr=null}static Zr(e){return new s5(e)}get Xr(){if(this.Yr)return this.Yr;throw It()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Ce.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Ce.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Ce.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.Xr,r=>{const i=wt.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,fn.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Ce.or([()=>Ce.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Nr(),i=Nr();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new o5(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return gP()?8:GT(Lr())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new aC;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(mh()<=xt.DEBUG&&Ze("QueryEngine","SDK will not create cache indexes for query:",gh(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Ce.resolve()):(mh()<=xt.DEBUG&&Ze("QueryEngine","Query:",gh(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(mh()<=xt.DEBUG&&Ze("QueryEngine","The SDK decides to create cache indexes for query:",gh(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ol(n))):Ce.resolve())}Yi(e,n){if(mw(n))return Ce.resolve(null);let r=Ol(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=N0(n,null,"F"),r=Ol(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Nr(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const f=this.ts(n,a);return this.ns(n,f,o,l.readTime)?this.Yi(e,N0(n,null,"F")):this.rs(e,f,n,l)}))})))}Zi(e,n,r,i){return mw(n)||i.isEqual(fn.min())?Ce.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?Ce.resolve(null):(mh()<=xt.DEBUG&&Ze("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),gh(n)),this.rs(e,o,n,zT(i,-1)).next(a=>a))})}ts(e,n){let r=new kr(pk(e));return n.forEach((i,s)=>{t5(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return mh()<=xt.DEBUG&&Ze("QueryEngine","Using full collection scan to execute query:",gh(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ga.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new ri(Jt),this._s=new Oc(s=>Z2(s),e5),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Qk(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function cC(t,e,n,r){return new uC(t,e,n,r)}async function K3(t,e){const n=tn(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Nr();for(const f of i){o.push(f.batchId);for(const g of f.mutations)l=l.add(g.key)}for(const f of s){a.push(f.batchId);for(const g of f.mutations)l=l.add(g.key)}return n.localDocuments.getDocuments(r,l).next(f=>({hs:f,removedBatchIds:o,addedBatchIds:a}))})})}function hC(t,e){const n=tn(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,f,g){const p=f.batch,w=p.keys();let m=Ce.resolve();return w.forEach(P=>{m=m.next(()=>g.getEntry(l,P)).next(N=>{const F=f.docVersions.get(P);Cn(F!==null),N.version.compareTo(F)<0&&(p.applyToRemoteDocument(N,f),N.isValidDocument()&&(N.setReadTime(f.commitVersion),g.addEntry(N)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Nr();for(let f=0;f<a.mutationResults.length;++f)a.mutationResults[f].transformResults.length>0&&(l=l.add(a.batch.mutations[f].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function fC(t){const e=tn(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function dC(t,e){const n=tn(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}class bw{constructor(){this.activeTargetIds=_k()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pC{constructor(){this.so=new bw,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new bw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dd=null;function Yg(){return Dd===null?Dd=function(){return 268435456+Math.round(2147483648*Math.random())}():Dd++,"0x"+Dd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="WebChannelConnection";class vC extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Yg(),l=this.xo(n,r.toUriEncodedString());Ze("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const f={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(f,s,o),this.No(n,l,f,i).then(g=>(Ze("RestConnection",`Received RPC '${n}' ${a}: `,g),g),g=>{throw Wp("RestConnection",`RPC '${n}' ${a} failed with error: `,g,"url: ",l,"request:",i),g})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=gC[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Yg();return new Promise((o,a)=>{const l=new m3;l.setWithCredentials(!0),l.listenOnce(g3.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ip.NO_ERROR:const g=l.getResponseJson();Ze(Sr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(g)),o(g);break;case ip.TIMEOUT:Ze(Sr,`RPC '${e}' ${s} timed out`),a(new ut(Oe.DEADLINE_EXCEEDED,"Request time out"));break;case ip.HTTP_ERROR:const p=l.getStatus();if(Ze(Sr,`RPC '${e}' ${s} failed with status:`,p,"response text:",l.getResponseText()),p>0){let w=l.getResponseJson();Array.isArray(w)&&(w=w[0]);const m=w==null?void 0:w.error;if(m&&m.status&&m.message){const P=function(F){const A=F.toLowerCase().replace(/_/g,"-");return Object.values(Oe).indexOf(A)>=0?A:Oe.UNKNOWN}(m.status);a(new ut(P,m.message))}else a(new ut(Oe.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ut(Oe.UNAVAILABLE,"Connection failed."));break;default:It()}}finally{Ze(Sr,`RPC '${e}' ${s} completed.`)}});const f=JSON.stringify(i);Ze(Sr,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",f,r,15)})}Bo(e,n,r){const i=Yg(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=w3(),a=v3(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(l.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const g=s.join("");Ze(Sr,`Creating RPC '${e}' stream ${i}: ${g}`,l);const p=o.createWebChannel(g,l);let w=!1,m=!1;const P=new yC({Io:F=>{m?Ze(Sr,`Not sending because RPC '${e}' stream ${i} is closed:`,F):(w||(Ze(Sr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),w=!0),Ze(Sr,`RPC '${e}' stream ${i} sending:`,F),p.send(F))},To:()=>p.close()}),N=(F,A,b)=>{F.listen(A,O=>{try{b(O)}catch(q){setTimeout(()=>{throw q},0)}})};return N(p,bh.EventType.OPEN,()=>{m||(Ze(Sr,`RPC '${e}' stream ${i} transport opened.`),P.yo())}),N(p,bh.EventType.CLOSE,()=>{m||(m=!0,Ze(Sr,`RPC '${e}' stream ${i} transport closed`),P.So())}),N(p,bh.EventType.ERROR,F=>{m||(m=!0,Wp(Sr,`RPC '${e}' stream ${i} transport errored:`,F),P.So(new ut(Oe.UNAVAILABLE,"The operation could not be completed")))}),N(p,bh.EventType.MESSAGE,F=>{var A;if(!m){const b=F.data[0];Cn(!!b);const O=b,q=O.error||((A=O[0])===null||A===void 0?void 0:A.error);if(q){Ze(Sr,`RPC '${e}' stream ${i} received error:`,q);const X=q.status;let ee=function(R){const B=Mn[R];if(B!==void 0)return Lk(B)}(X),L=q.message;ee===void 0&&(ee=Oe.INTERNAL,L="Unknown error status: "+X+" with message "+q.message),m=!0,P.So(new ut(ee,L)),p.close()}else Ze(Sr,`RPC '${e}' stream ${i} received:`,b),P.bo(b)}}),N(a,y3.STAT_EVENT,F=>{F.stat===S0.PROXY?Ze(Sr,`RPC '${e}' stream ${i} detected buffering proxy`):F.stat===S0.NOPROXY&&Ze(Sr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{P.wo()},0),P}}function Zg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(t){return new Rk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Ze("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new J3(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Oe.RESOURCE_EXHAUSTED?(ql(n.toString()),ql("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ut(Oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _C extends wC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Cn(!!e.streamToken),this.lastStreamToken=e.streamToken,Cn(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Cn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Uk(e.writeResults,e.commitTime),r=ic(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=jk(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Vk(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ut(Oe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,T0(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ut(Oe.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,T0(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ut(Oe.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class AC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ql(n),this.D_=!1):Ze("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Cf(this)&&(Ze("RemoteStore","Restarting streams for network reachability change."),await async function(l){const f=tn(l);f.L_.add(4),await kf(f),f.q_.set("Unknown"),f.L_.delete(4),await Mm(f)}(this))})}),this.q_=new AC(r,i)}}async function Mm(t){if(Cf(t))for(const e of t.B_)await e(!0)}async function kf(t){for(const e of t.B_)await e(!1)}function Cf(t){return tn(t).L_.size===0}async function X3(t,e,n){if(!Lm(e))throw e;t.L_.add(1),await kf(t),t.q_.set("Offline"),n||(n=()=>fC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ze("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Mm(t)})}function Q3(t,e){return e().catch(n=>X3(t,n,e))}async function jm(t){const e=tn(t),n=Ja(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;EC(e);)try{const i=await dC(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,xC(e,i)}catch(i){await X3(e,i)}Y3(e)&&Z3(e)}function EC(t){return Cf(t)&&t.O_.length<10}function xC(t,e){t.O_.push(e);const n=Ja(t);n.r_()&&n.V_&&n.m_(e.mutations)}function Y3(t){return Cf(t)&&!Ja(t).n_()&&t.O_.length>0}function Z3(t){Ja(t).start()}async function IC(t){Ja(t).p_()}async function NC(t){const e=Ja(t);for(const n of t.O_)e.m_(n.mutations)}async function PC(t,e,n){const r=t.O_.shift(),i=r5.from(r,e,n);await Q3(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await jm(t)}async function TC(t,e){e&&Ja(t).V_&&await async function(r,i){if(function(o){return Ck(o)&&o!==Oe.ABORTED}(i.code)){const s=r.O_.shift();Ja(r).s_(),await Q3(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await jm(r)}}(t,e),Y3(t)&&Z3(t)}async function Sw(t,e){const n=tn(t);n.asyncQueue.verifyOperationInProgress(),Ze("RemoteStore","RemoteStore received new credentials");const r=Cf(n);n.L_.add(3),await kf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Mm(n)}async function kC(t,e){const n=tn(t);e?(n.L_.delete(2),await Mm(n)):e||(n.L_.add(2),await kf(n),n.q_.set("Unknown"))}function Ja(t){return t.U_||(t.U_=function(n,r,i){const s=tn(n);return s.w_(),new _C(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:IC.bind(null,t),mo:TC.bind(null,t),f_:NC.bind(null,t),g_:PC.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await jm(t)):(await t.U_.stop(),t.O_.length>0&&(Ze("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Rl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new a5(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(Oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eA(t,e){if(ql("AsyncQueue",`${e}: ${t}`),Lm(t))return new ut(Oe.UNAVAILABLE,`${e}: ${t}`);throw t}class CC{constructor(){this.queries=Ew(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=tn(n),s=i.queries;i.queries=Ew(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ut(Oe.ABORTED,"Firestore shutting down"))}}function Ew(){return new Oc(t=>O3(t),R3)}function LC(t){t.Y_.forEach(e=>{e.next()})}var xw,Iw;(Iw=xw||(xw={})).ea="default",Iw.Cache="cache";class RC{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Oc(a=>O3(a),R3),this.Ma=new Map,this.xa=new Set,this.Oa=new ri(wt.comparator),this.Na=new Map,this.La=new i5,this.Ba={},this.ka=new Map,this.qa=Ec.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function OC(t,e,n){const r=jC(t);try{const i=await function(o,a){const l=tn(o),f=Zn.now(),g=a.reduce((m,P)=>m.add(P.key),Nr());let p,w;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let P=Yp(),N=Nr();return l.cs.getEntries(m,g).next(F=>{P=F,P.forEach((A,b)=>{b.isValidDocument()||(N=N.add(A))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,P)).next(F=>{p=F;const A=[];for(const b of a){const O=Nk(b,p.get(b.key).overlayedDocument);O!=null&&A.push(new Xl(b.key,O,I3(O.value.mapValue),Io.exists(!0)))}return l.mutationQueue.addMutationBatch(m,f,A,a)}).next(F=>{w=F;const A=F.applyToLocalDocumentSet(p,N);return l.documentOverlayCache.saveOverlays(m,F.batchId,A)})}).then(()=>({batchId:w.batchId,changes:F3(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let f=o.Ba[o.currentUser.toKey()];f||(f=new ri(Jt)),f=f.insert(a,l),o.Ba[o.currentUser.toKey()]=f}(r,i.batchId,n),await Bm(r,i.changes),await jm(r.remoteStore)}catch(i){const s=eA(i,"Failed to persist write");n.reject(s)}}function Nw(t,e,n){const r=tn(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=tn(o);l.onlineState=a;let f=!1;l.queries.forEach((g,p)=>{for(const w of p.j_)w.Z_(a)&&(f=!0)}),f&&LC(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function DC(t,e){const n=tn(t),r=e.batch.batchId;try{const i=await hC(n.localStore,e);nA(n,r,null),tA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bm(n,i)}catch(i){await A3(i)}}async function FC(t,e,n){const r=tn(t);try{const i=await function(o,a){const l=tn(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let g;return l.mutationQueue.lookupMutationBatch(f,a).next(p=>(Cn(p!==null),g=p.keys(),l.mutationQueue.removeMutationBatch(f,p))).next(()=>l.mutationQueue.performConsistencyCheck(f)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(f,g,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g)).next(()=>l.localDocuments.getDocuments(f,g))})}(r.localStore,e);nA(r,e,n),tA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Bm(r,i)}catch(i){await A3(i)}}function tA(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function nA(t,e,n){const r=tn(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}async function Bm(t,e,n){const r=tn(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(f=>{var g;if((f||n)&&r.isPrimaryClient){const p=f?!f.fromCache:(g=void 0)===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(f){i.push(f);const p=o5.Wi(l.targetId,f);s.push(p)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,f){const g=tn(l);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>Ce.forEach(f,w=>Ce.forEach(w.$i,m=>g.persistence.referenceDelegate.addReference(p,w.targetId,m)).next(()=>Ce.forEach(w.Ui,m=>g.persistence.referenceDelegate.removeReference(p,w.targetId,m)))))}catch(p){if(!Lm(p))throw p;Ze("LocalStore","Failed to update sequence numbers: "+p)}for(const p of f){const w=p.targetId;if(!p.fromCache){const m=g.os.get(w),P=m.snapshotVersion,N=m.withLastLimboFreeSnapshotVersion(P);g.os=g.os.insert(w,N)}}}(r.localStore,s))}async function MC(t,e){const n=tn(t);if(!n.currentUser.isEqual(e)){Ze("SyncEngine","User change. New user:",e.toKey());const r=await K3(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new ut(Oe.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bm(n,r.hs)}}function jC(t){const e=tn(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FC.bind(null,e),e}class tm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fm(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return cC(this.persistence,new lC,e.initialUser,this.serializer)}Ga(e){return new sC(s5.Zr,this.serializer)}Wa(e){return new pC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tm.provider={build:()=>new tm};class C0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Nw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=MC.bind(null,this.syncEngine),await kC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new CC}()}createDatastore(e){const n=Fm(e.databaseInfo.databaseId),r=function(s){return new vC(s)}(e.databaseInfo);return function(s,o,a,l){return new bC(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new SC(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Nw(this.syncEngine,n,0),function(){return Aw.D()?new Aw:new mC}())}createSyncEngine(e,n){return function(i,s,o,a,l,f,g){const p=new RC(i,s,o,a,l,f);return g&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=tn(i);Ze("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await kf(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}C0.provider={build:()=>new C0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=xr.UNAUTHENTICATED,this.clientId=b3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Ze("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ze("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=eA(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function e1(t,e){t.asyncQueue.verifyOperationInProgress(),Ze("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await K3(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Pw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await VC(t);Ze("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Sw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Sw(e.remoteStore,i)),t._onlineComponents=e}async function VC(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ze("FirestoreClient","Using user provided OfflineComponentProvider");try{await e1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Oe.FAILED_PRECONDITION||i.code===Oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Wp("Error using user provided cache. Falling back to memory cache: "+n),await e1(t,new tm)}}else Ze("FirestoreClient","Using default OfflineComponentProvider"),await e1(t,new tm);return t._offlineComponents}async function UC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ze("FirestoreClient","Using user provided OnlineComponentProvider"),await Pw(t,t._uninitializedComponentsProvider._online)):(Ze("FirestoreClient","Using default OnlineComponentProvider"),await Pw(t,new C0))),t._onlineComponents}function zC(t){return UC(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(t,e,n){if(!n)throw new ut(Oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function qC(t,e,n,r){if(e===!0&&r===!0)throw new ut(Oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kw(t){if(!wt.isDocumentKey(t))throw new ut(Oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Cw(t){if(wt.isDocumentKey(t))throw new ut(Oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function l5(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":It()}function sA(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ut(Oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=l5(t);throw new ut(Oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ut(Oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ut(Oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ut(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ut(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ut(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(Oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(Oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new RT;switch(r.type){case"firstParty":return new MT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ut(Oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Tw.get(n);r&&(Ze("ComponentProvider","Removing Datastore"),Tw.delete(n),r.terminate())}(this),Promise.resolve()}}function $C(t,e,n,r={}){var i;const s=(t=sA(t,Vm))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Wp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=xr.MOCK_USER;else{a=uP(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new ut(Oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new xr(f)}t._authCredentials=new OT(new _3(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new u5(this.firestore,e,this._query)}}class No{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new za(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new No(this.firestore,e,this._key)}}class za extends u5{constructor(e,n,r){super(e,n,hk(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new No(this.firestore,null,new wt(e))}withConverter(e){return new za(this.firestore,e,this._path)}}function HC(t,e,...n){if(t=ps(t),iA("collection","path",e),t instanceof Vm){const r=An.fromString(e,...n);return Cw(r),new za(t,null,r)}{if(!(t instanceof No||t instanceof za))throw new ut(Oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(An.fromString(e,...n));return Cw(r),new za(t.firestore,null,r)}}function WC(t,e,...n){if(t=ps(t),arguments.length===1&&(e=b3.newId()),iA("doc","path",e),t instanceof Vm){const r=An.fromString(e,...n);return kw(r),new No(t,null,new wt(r))}{if(!(t instanceof No||t instanceof za))throw new ut(Oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(An.fromString(e,...n));return kw(r),new No(t.firestore,t instanceof za?t.converter:null,new wt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new J3(this,"async_queue_retry"),this.Vu=()=>{const r=Zg();r&&Ze("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Zg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Zg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Rl;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Lm(e))throw e;Ze("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ql("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=a5.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&It()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class oA extends Vm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Rw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Rw(e),this._firestoreClient=void 0,await e}}}function GC(t,e){const n=typeof t=="object"?t:h3(),r=typeof t=="string"?t:"(default)",i=K2(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=aP("firestore");s&&$C(i,...s)}return i}function KC(t){if(t._terminated)throw new ut(Oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||JC(t),t._firestoreClient}function JC(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,f,g){return new QT(a,l,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,rA(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new BC(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yf(Ws.fromBase64String(e))}catch(n){throw new ut(Oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yf(Ws.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ut(Oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ur(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ut(Oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ut(Oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Jt(this._lat,e._lat)||Jt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=/^__.*__$/;class QC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Tf(e,this.data,n,this.fieldTransforms)}}function hA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw It()}}class c5{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new c5(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return nm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(hA(this.Cu)&&XC.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class YC{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Fm(e)}Qu(e,n,r,i=!1){return new c5({Cu:e,methodName:n,qu:r,path:ur.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ZC(t){const e=t._freezeSettings(),n=Fm(t._databaseId);return new YC(t._databaseId,!!e.ignoreUndefinedProperties,n)}function eL(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);mA("Data must be an object, but it was:",o,r);const a=dA(r,o);let l,f;if(s.merge)l=new ls(o.fieldMask),f=o.fieldTransforms;else if(s.mergeFields){const g=[];for(const p of s.mergeFields){const w=tL(e,p,n);if(!o.contains(w))throw new ut(Oe.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);iL(g,w)||g.push(w)}l=new ls(g),f=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,f=o.fieldTransforms;return new QC(new as(a),l,f)}function fA(t,e){if(pA(t=ps(t)))return mA("Unsupported field value:",e,t),dA(t,e);if(t instanceof lA)return function(r,i){if(!hA(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=fA(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ps(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bk(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Zn.fromDate(r);return{timestampValue:P0(i.serializer,s)}}if(r instanceof Zn){const s=new Zn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:P0(i.serializer,s)}}if(r instanceof uA)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yf)return{bytesValue:Ok(i.serializer,r._byteString)};if(r instanceof No){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:W3(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof cA)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return n5(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${l5(r)}`)}(t,e)}function dA(t,e){const n={};return E3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pf(t,(r,i)=>{const s=fA(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function pA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Zn||t instanceof uA||t instanceof yf||t instanceof No||t instanceof lA||t instanceof cA)}function mA(t,e,n){if(!pA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=l5(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function tL(t,e,n){if((e=ps(e))instanceof aA)return e._internalPath;if(typeof e=="string")return rL(t,e);throw nm("Field path arguments must be of type string or ",t,!1,void 0,n)}const nL=new RegExp("[~\\*/\\[\\]]");function rL(t,e,n){if(e.search(nL)>=0)throw nm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new aA(...e.split("."))._internalPath}catch{throw nm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function nm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ut(Oe.INVALID_ARGUMENT,a+t+l)}function iL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(t,e,n){let r;return r=t?t.toFirestore(e):e,r}function oL(t,e){const n=sA(t.firestore,oA),r=WC(t),i=sL(t.converter,e);return aL(n,[eL(ZC(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Io.exists(!1))]).then(()=>r)}function aL(t,e){return function(r,i){const s=new Rl;return r.asyncQueue.enqueueAndForget(async()=>OC(await zC(r),i,s)),s.promise}(KC(t),e)}(function(e,n=!0){(function(i){Rc=i})(Lc),wc(new Ul("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new oA(new DT(r.getProvider("auth-internal")),new BT(r.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ut(Oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jp(f.options.projectId,g)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ua(aw,"4.7.3",e),Ua(aw,"4.7.3","esm2017")})();var lL="firebase",uL="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ua(lL,uL,"app");function h5(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function gA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cL=gA,yA=new If("auth","Firebase",gA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=new W2("@firebase/auth");function hL(t,...e){rm.logLevel<=xt.WARN&&rm.warn(`Auth (${Lc}): ${t}`,...e)}function ap(t,...e){rm.logLevel<=xt.ERROR&&rm.error(`Auth (${Lc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(t,...e){throw f5(t,...e)}function $s(t,...e){return f5(t,...e)}function vA(t,e,n){const r=Object.assign(Object.assign({},cL()),{[e]:n});return new If("auth","Firebase",r).create(e,{appName:t.name})}function Dl(t){return vA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function f5(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return yA.create(t,...e)}function ct(t,e,...n){if(!t)throw f5(e,...n)}function Ao(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ap(e),new Error(e)}function Oo(t,e){t||Ao(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function fL(){return Ow()==="http:"||Ow()==="https:"}function Ow(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fL()||dP()||"connection"in navigator)?navigator.onLine:!0}function pL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Oo(n>e,"Short delay should be less than long delay!"),this.isMobile=cP()||pP()}get(){return dL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d5(t,e){Oo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ao("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ao("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ao("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL=new Lf(3e4,6e4);function p5(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Dc(t,e,n,r,i={}){return _A(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Nf(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:l},s);return fP()||(f.referrerPolicy="no-referrer"),wA.fetch()(bA(t,t.config.apiHost,n,a),f)})}async function _A(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},mL),e);try{const i=new vL(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Fd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,f]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Fd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Fd(t,"user-disabled",o);const g=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw vA(t,g,f);Ro(t,g)}}catch(i){if(i instanceof Fo)throw i;Ro(t,"network-request-failed",{message:String(i)})}}async function yL(t,e,n,r,i={}){const s=await Dc(t,e,n,r,i);return"mfaPendingCredential"in s&&Ro(t,"multi-factor-auth-required",{_serverResponse:s}),s}function bA(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?d5(t.config,i):`${t.config.apiScheme}://${i}`}class vL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r($s(this.auth,"network-request-failed")),gL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=$s(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wL(t,e){return Dc(t,"POST","/v1/accounts:delete",e)}async function AA(t,e){return Dc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _L(t,e=!1){const n=ps(t),r=await n.getIdToken(e),i=m5(r);ct(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:qh(t1(i.auth_time)),issuedAtTime:qh(t1(i.iat)),expirationTime:qh(t1(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function t1(t){return Number(t)*1e3}function m5(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ap("JWT malformed, contained fewer than 3 sections"),null;try{const i=i3(n);return i?JSON.parse(i):(ap("Failed to decode base64 JWT payload"),null)}catch(i){return ap("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Dw(t){const e=m5(t);return ct(e,"internal-error"),ct(typeof e.exp<"u","internal-error"),ct(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Fo&&bL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function bL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qh(this.lastLoginAt),this.creationTime=qh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function im(t){var e;const n=t.auth,r=await t.getIdToken(),i=await vf(t,AA(n,{idToken:r}));ct(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?SA(s.providerUserInfo):[],a=EL(t.providerData,o),l=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),g=l?f:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new R0(s.createdAt,s.lastLoginAt),isAnonymous:g};Object.assign(t,p)}async function SL(t){const e=ps(t);await im(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function EL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function SA(t){return t.map(e=>{var{providerId:n}=e,r=h5(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xL(t,e){const n=await _A(t,{},async()=>{const r=Nf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=bA(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",wA.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function IL(t,e){return Dc(t,"POST","/v2/accounts:revokeToken",p5(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ct(e.idToken,"internal-error"),ct(typeof e.idToken<"u","internal-error"),ct(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Dw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ct(e.length!==0,"internal-error");const n=Dw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ct(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await xL(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new sc;return r&&(ct(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ct(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ct(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sc,this.toJSON())}_performRefresh(){return Ao("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(t,e){ct(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class So{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=h5(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new AL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new R0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await vf(this,this.stsTokenManager.getToken(this.auth,e));return ct(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _L(this,e)}reload(){return SL(this)}_assign(e){this!==e&&(ct(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new So(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await im(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ka(this.auth.app))return Promise.reject(Dl(this.auth));const e=await this.getIdToken();return await vf(this,wL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,f,g;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,w=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,P=(o=n.photoURL)!==null&&o!==void 0?o:void 0,N=(a=n.tenantId)!==null&&a!==void 0?a:void 0,F=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,A=(f=n.createdAt)!==null&&f!==void 0?f:void 0,b=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:O,emailVerified:q,isAnonymous:X,providerData:ee,stsTokenManager:L}=n;ct(O&&L,e,"internal-error");const x=sc.fromJSON(this.name,L);ct(typeof O=="string",e,"internal-error"),ya(p,e.name),ya(w,e.name),ct(typeof q=="boolean",e,"internal-error"),ct(typeof X=="boolean",e,"internal-error"),ya(m,e.name),ya(P,e.name),ya(N,e.name),ya(F,e.name),ya(A,e.name),ya(b,e.name);const R=new So({uid:O,auth:e,email:w,emailVerified:q,displayName:p,isAnonymous:X,photoURL:P,phoneNumber:m,tenantId:N,stsTokenManager:x,createdAt:A,lastLoginAt:b});return ee&&Array.isArray(ee)&&(R.providerData=ee.map(B=>Object.assign({},B))),F&&(R._redirectEventId=F),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new sc;i.updateFromServerResponse(n);const s=new So({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await im(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ct(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?SA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new sc;a.updateFromIdToken(r);const l=new So({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new R0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,f),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=new Map;function Eo(t){Oo(t instanceof Function,"Expected a class definition");let e=Fw.get(t);return e?(Oo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Fw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}EA.type="NONE";const Mw=EA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(t,e,n){return`firebase:${t}:${e}:${n}`}class oc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=lp(this.userKey,i.apiKey,s),this.fullPersistenceKey=lp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?So._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new oc(Eo(Mw),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||Eo(Mw);const o=lp(r,e.config.apiKey,e.name);let a=null;for(const f of n)try{const g=await f._get(o);if(g){const p=So._fromJSON(e,g);f!==s&&(a=p),s=f;break}}catch{}const l=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new oc(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(o)}catch{}})),new oc(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kA(e))return"Blackberry";if(CA(e))return"Webos";if(IA(e))return"Safari";if((e.includes("chrome/")||NA(e))&&!e.includes("edge/"))return"Chrome";if(TA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function xA(t=Lr()){return/firefox\//i.test(t)}function IA(t=Lr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NA(t=Lr()){return/crios\//i.test(t)}function PA(t=Lr()){return/iemobile/i.test(t)}function TA(t=Lr()){return/android/i.test(t)}function kA(t=Lr()){return/blackberry/i.test(t)}function CA(t=Lr()){return/webos/i.test(t)}function g5(t=Lr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function NL(t=Lr()){var e;return g5(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function PL(){return mP()&&document.documentMode===10}function LA(t=Lr()){return g5(t)||TA(t)||CA(t)||kA(t)||/windows phone/i.test(t)||PA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(t,e=[]){let n;switch(t){case"Browser":n=jw(Lr());break;case"Worker":n=`${jw(Lr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Lc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kL(t,e={}){return Dc(t,"GET","/v2/passwordPolicy",p5(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=6;class LL{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:CL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bw(this),this.idTokenSubscription=new Bw(this),this.beforeStateQueue=new TL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Eo(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await oc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await AA(this,{idToken:e}),r=await So._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ka(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await im(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ka(this.app))return Promise.reject(Dl(this));const n=e?ps(e):null;return n&&ct(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ct(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ka(this.app)?Promise.reject(Dl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ka(this.app)?Promise.reject(Dl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Eo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kL(this),n=new LL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new If("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await IL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Eo(e)||this._popupRedirectResolver;ct(n,this,"argument-error"),this.redirectPersistenceManager=await oc.create(this,[Eo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ct(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&hL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function y5(t){return ps(t)}class Bw{constructor(e){this.auth=e,this.observer=null,this.addObserver=SP(n=>this.observer=n)}get next(){return ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v5={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OL(t){v5=t}function DL(t){return v5.loadJS(t)}function FL(){return v5.gapiScript}function ML(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(t,e){const n=K2(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if($p(s,e??{}))return i;Ro(i,"already-initialized")}return n.initialize({options:e})}function BL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Eo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function VL(t,e,n){const r=y5(t);ct(r._canInitEmulator,r,"emulator-config-failed"),ct(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=OA(e),{host:o,port:a}=UL(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),zL()}function OA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function UL(t){const e=OA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Vw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Vw(o)}}}function Vw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function zL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ao("not implemented")}_getIdTokenResponse(e){return Ao("not implemented")}_linkToIdToken(e,n){return Ao("not implemented")}_getReauthenticationResolver(e){return Ao("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ac(t,e){return yL(t,"POST","/v1/accounts:signInWithIdp",p5(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL="http://localhost";class Hl extends DA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Hl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ro("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=h5(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Hl(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ac(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ac(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ac(e,n)}buildRequest(){const e={requestUri:qL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf extends FA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends Rf{constructor(){super("facebook.com")}static credential(e){return Hl._fromParams({providerId:Sa.PROVIDER_ID,signInMethod:Sa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sa.credentialFromTaggedObject(e)}static credentialFromError(e){return Sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sa.credential(e.oauthAccessToken)}catch{return null}}}Sa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea extends Rf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Hl._fromParams({providerId:Ea.PROVIDER_ID,signInMethod:Ea.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ea.credentialFromTaggedObject(e)}static credentialFromError(e){return Ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ea.credential(n,r)}catch{return null}}}Ea.GOOGLE_SIGN_IN_METHOD="google.com";Ea.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa extends Rf{constructor(){super("github.com")}static credential(e){return Hl._fromParams({providerId:xa.PROVIDER_ID,signInMethod:xa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xa.credentialFromTaggedObject(e)}static credentialFromError(e){return xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xa.credential(e.oauthAccessToken)}catch{return null}}}xa.GITHUB_SIGN_IN_METHOD="github.com";xa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends Rf{constructor(){super("twitter.com")}static credential(e,n){return Hl._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ia.credentialFromTaggedObject(e)}static credentialFromError(e){return Ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ia.credential(n,r)}catch{return null}}}Ia.TWITTER_SIGN_IN_METHOD="twitter.com";Ia.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await So._fromIdTokenResponse(e,r,i),o=Uw(r);return new xc({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Uw(r);return new xc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Uw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm extends Fo{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,sm.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new sm(e,n,r,i)}}function MA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?sm._fromErrorAndOperation(t,s,e,r):s})}async function $L(t,e,n=!1){const r=await vf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HL(t,e,n=!1){const{auth:r}=t;if(ka(r.app))return Promise.reject(Dl(r));const i="reauthenticate";try{const s=await vf(t,MA(r,i,e,t),n);ct(s.idToken,r,"internal-error");const o=m5(s.idToken);ct(o,r,"internal-error");const{sub:a}=o;return ct(t.uid===a,r,"user-mismatch"),xc._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ro(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WL(t,e,n=!1){if(ka(t.app))return Promise.reject(Dl(t));const r="signIn",i=await MA(t,r,e),s=await xc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function GL(t,e,n,r){return ps(t).onIdTokenChanged(e,n,r)}function KL(t,e,n){return ps(t).beforeAuthStateChanged(e,n)}const om="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(om,"1"),this.storage.removeItem(om),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=1e3,XL=10;class BA extends jA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);PL()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,XL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},JL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}BA.type="LOCAL";const QL=BA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA extends jA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}VA.type="SESSION";const UA=VA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Um(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async f=>f(n.origin,s)),l=await YL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Um.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w5(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const f=w5("",20);i.port1.start();const g=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const w=p;if(w.data.eventId===f)switch(w.data.status){case"ack":clearTimeout(g),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(w.data.response);break;default:clearTimeout(g),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(){return window}function eR(t){Hs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(){return typeof Hs().WorkerGlobalScope<"u"&&typeof Hs().importScripts=="function"}async function tR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function rR(){return zA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="firebaseLocalStorageDb",iR=1,am="firebaseLocalStorage",$A="fbase_key";class Of{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zm(t,e){return t.transaction([am],e?"readwrite":"readonly").objectStore(am)}function sR(){const t=indexedDB.deleteDatabase(qA);return new Of(t).toPromise()}function O0(){const t=indexedDB.open(qA,iR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(am,{keyPath:$A})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(am)?e(r):(r.close(),await sR(),e(await O0()))})})}async function zw(t,e,n){const r=zm(t,!0).put({[$A]:e,value:n});return new Of(r).toPromise()}async function oR(t,e){const n=zm(t,!1).get(e),r=await new Of(n).toPromise();return r===void 0?null:r.value}function qw(t,e){const n=zm(t,!0).delete(e);return new Of(n).toPromise()}const aR=800,lR=3;class HA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await O0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>lR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Um._getInstance(rR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await tR(),!this.activeServiceWorker)return;this.sender=new ZL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await O0();return await zw(e,om,"1"),await qw(e,om),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>zw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>oR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>qw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=zm(i,!1).getAll();return new Of(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HA.type="LOCAL";const uR=HA;new Lf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(t,e){return e?Eo(e):(ct(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5 extends DA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ac(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ac(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ac(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hR(t){return WL(t.auth,new _5(t),t.bypassAuthState)}function fR(t){const{auth:e,user:n}=t;return ct(n,e,"internal-error"),HL(n,new _5(t),t.bypassAuthState)}async function dR(t){const{auth:e,user:n}=t;return ct(n,e,"internal-error"),$L(n,new _5(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hR;case"linkViaPopup":case"linkViaRedirect":return dR;case"reauthViaPopup":case"reauthViaRedirect":return fR;default:Ro(this.auth,"internal-error")}}resolve(e){Oo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Oo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=new Lf(2e3,1e4);class Hu extends WA{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Hu.currentPopupAction&&Hu.currentPopupAction.cancel(),Hu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ct(e,this.auth,"internal-error"),e}async onExecution(){Oo(this.filter.length===1,"Popup operations only handle one event");const e=w5();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($s(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject($s(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($s(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pR.get())};e()}}Hu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="pendingRedirect",up=new Map;class gR extends WA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=up.get(this.auth._key());if(!e){try{const r=await yR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}up.set(this.auth._key(),e)}return this.bypassAuthState||up.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yR(t,e){const n=_R(e),r=wR(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function vR(t,e){up.set(t._key(),e)}function wR(t){return Eo(t._redirectPersistence)}function _R(t){return lp(mR,t.config.apiKey,t.name)}async function bR(t,e,n=!1){if(ka(t.app))return Promise.reject(Dl(t));const r=y5(t),i=cR(r,e),o=await new gR(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=10*60*1e3;class SR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ER(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!GA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError($s(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AR&&this.cachedEventUids.clear(),this.cachedEventUids.has($w(e))}saveEventToCache(e){this.cachedEventUids.add($w(e)),this.lastProcessedEventTime=Date.now()}}function $w(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function GA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ER(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xR(t,e={}){return Dc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NR=/^https?/;async function PR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await xR(t);for(const n of e)try{if(TR(n))return}catch{}Ro(t,"unauthorized-domain")}function TR(t){const e=L0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!NR.test(n))return!1;if(IR.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=new Lf(3e4,6e4);function Hw(){const t=Hs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function CR(t){return new Promise((e,n)=>{var r,i,s;function o(){Hw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Hw(),n($s(t,"network-request-failed"))},timeout:kR.get()})}if(!((i=(r=Hs().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Hs().gapi)===null||s===void 0)&&s.load)o();else{const a=ML("iframefcb");return Hs()[a]=()=>{gapi.load?o():n($s(t,"network-request-failed"))},DL(`${FL()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw cp=null,e})}let cp=null;function LR(t){return cp=cp||CR(t),cp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=new Lf(5e3,15e3),OR="__/auth/iframe",DR="emulator/auth/iframe",FR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jR(t){const e=t.config;ct(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?d5(e,DR):`https://${t.config.authDomain}/${OR}`,r={apiKey:e.apiKey,appName:t.name,v:Lc},i=MR.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Nf(r).slice(1)}`}async function BR(t){const e=await LR(t),n=Hs().gapi;return ct(n,t,"internal-error"),e.open({where:document.body,url:jR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FR,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=$s(t,"network-request-failed"),a=Hs().setTimeout(()=>{s(o)},RR.get());function l(){Hs().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UR=500,zR=600,qR="_blank",$R="http://localhost";class Ww{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HR(t,e,n,r=UR,i=zR){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},VR),{width:r.toString(),height:i.toString(),top:s,left:o}),f=Lr().toLowerCase();n&&(a=NA(f)?qR:n),xA(f)&&(e=e||$R,l.scrollbars="yes");const g=Object.entries(l).reduce((w,[m,P])=>`${w}${m}=${P},`,"");if(NL(f)&&a!=="_self")return WR(e||"",a),new Ww(null);const p=window.open(e||"",a,g);ct(p,t,"popup-blocked");try{p.focus()}catch{}return new Ww(p)}function WR(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="__/auth/handler",KR="emulator/auth/handler",JR=encodeURIComponent("fac");async function Gw(t,e,n,r,i,s){ct(t.config.authDomain,t,"auth-domain-config-required"),ct(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Lc,eventId:i};if(e instanceof FA){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",AP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,p]of Object.entries({}))o[g]=p}if(e instanceof Rf){const g=e.getScopes().filter(p=>p!=="");g.length>0&&(o.scopes=g.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const g of Object.keys(a))a[g]===void 0&&delete a[g];const l=await t._getAppCheckToken(),f=l?`#${JR}=${encodeURIComponent(l)}`:"";return`${XR(t)}?${Nf(a).slice(1)}${f}`}function XR({config:t}){return t.emulator?d5(t,KR):`https://${t.authDomain}/${GR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="webStorageSupport";class QR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UA,this._completeRedirectFn=bR,this._overrideRedirectResult=vR}async _openPopup(e,n,r,i){var s;Oo((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Gw(e,n,r,L0(),i);return HR(e,o,w5())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Gw(e,n,r,L0(),i);return eR(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Oo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await BR(e),r=new SR(e);return n.register("authEvent",i=>(ct(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(n1,{type:n1},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[n1];o!==void 0&&n(!!o),Ro(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=PR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return LA()||IA()||g5()}}const YR=QR;var Kw="@firebase/auth",Jw="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function t8(t){wc(new Ul("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ct(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RA(t)},f=new RL(r,i,s,l);return BL(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),wc(new Ul("auth-internal",e=>{const n=y5(e.getProvider("auth").getImmediate());return(r=>new ZR(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ua(Kw,Jw,e8(t)),Ua(Kw,Jw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n8=5*60,r8=a3("authIdTokenMaxAge")||n8;let Xw=null;const i8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>r8)return;const i=n==null?void 0:n.token;Xw!==i&&(Xw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function s8(t=h3()){const e=K2(t,"auth");if(e.isInitialized())return e.getImmediate();const n=jL(t,{popupRedirectResolver:YR,persistence:[uR,QL,UA]}),r=a3("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=i8(s.toString());KL(n,o,()=>o(n.currentUser)),GL(n,a=>o(a))}}const i=s3("auth");return i&&VL(n,`http://${i}`),n}function o8(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}OL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=$s("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",o8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});t8("Browser");const a8={apiKey:"AIzaSyDBnBlzmFkkDKy3q-V1lkObl0Yo-G__Oz8",authDomain:"aice-new.firebaseapp.com",projectId:"aice-new",storageBucket:"aice-new.firebasestorage.app",messagingSenderId:"1051339703345",appId:"1:1051339703345:web:1cdb58c26fea04886e0110"},KA=c3(a8),l8=GC(KA);s8(KA);async function u8(t){try{const e=HC(l8,"certificates");return(await oL(e,{...t,date:new Date})).id}catch(e){throw console.error("Error saving certificate:",e),new Error("Failed to save certificate")}}function c8({score:t,totalQuestions:e,originalText:n}){const[r,i]=Tr.useState(""),[s,o]=Tr.useState(""),[a,l]=Tr.useState({}),[f,g]=Tr.useState(!1),p=Math.round(t/e*100),w=()=>{const P={};r.trim()||(P.name="Name is required");const N=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return s.trim()?N.test(s)||(P.email="Please enter a valid email address"):P.email="Email is required",l(P),Object.keys(P).length===0},m=async()=>{if(w())try{g(!0);const P=n.split(".")[0].slice(0,100).trim();await u8({name:r,email:s,title:P,score:p,date:new Date,originalText:n});const N="This assessment evaluated comprehension and knowledge of key concepts from the provided text through a series of multiple-choice questions, demonstrating mastery of the subject matter.",{doc:F,filename:A}=ZN(r,P,p,N);F.save(A)}catch(P){console.error("Error generating certificate:",P),l({email:"Failed to save certificate. Please try again."})}finally{g(!1)}};return p<80?null:Je.jsxs("div",{className:"p-6 bg-white border border-green-200 rounded-lg shadow-sm",children:[Je.jsx("h3",{className:"text-xl font-semibold text-green-800 mb-4",children:" Congratulations! You've qualified for a certificate!"}),Je.jsxs("div",{className:"space-y-4",children:[Je.jsxs("div",{children:[Je.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Enter your full name for the certificate"}),Je.jsx("input",{type:"text",id:"name",value:r,onChange:P=>{i(P.target.value),l({...a,name:void 0})},className:Mh("mt-1 block w-full rounded-md border shadow-sm focus:border-blue-500 focus:ring-blue-500 px-3 py-2",a.name?"border-red-300":"border-gray-300"),placeholder:"e.g., John Smith"}),a.name&&Je.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.name})]}),Je.jsxs("div",{children:[Je.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Enter your email address"}),Je.jsx("input",{type:"email",id:"email",value:s,onChange:P=>{o(P.target.value),l({...a,email:void 0})},className:Mh("mt-1 block w-full rounded-md border shadow-sm focus:border-blue-500 focus:ring-blue-500 px-3 py-2",a.email?"border-red-300":"border-gray-300"),placeholder:"your.email@example.com"}),a.email&&Je.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.email})]}),Je.jsx("button",{onClick:m,disabled:f||!r.trim()||!s.trim(),className:Mh("flex items-center justify-center gap-2 w-full px-4 py-2 text-white bg-green-600 rounded-lg","hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2","disabled:opacity-50 disabled:cursor-not-allowed"),children:f?"Saving...":Je.jsxs(Je.Fragment,{children:["Download Certificate",Je.jsx(g6,{className:"w-4 h-4"})]})})]})]})}function h8({assessment:t}){const[e,n]=Tr.useState([]),[r,i]=Tr.useState(!1);if(!t)return null;const s=(p,w)=>{const m=[...e];m[p]=w,n(m)},o=()=>t.questions.reduce((p,w,m)=>p+(e[m]===w.correctAnswer?1:0),0),a=()=>{n([]),i(!1)},l=o(),f=t.questions.length,g=Math.round(l/f*100);return Je.jsxs("div",{className:"w-full max-w-2xl space-y-6",children:[Je.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[Je.jsx("h3",{className:"font-medium text-green-800",children:"Text Accuracy Analysis"}),Je.jsx("p",{className:"mt-1 text-green-700",children:t.accuracy})]}),Je.jsx("div",{className:"space-y-8",children:t.questions.map((p,w)=>Je.jsxs("div",{className:"space-y-4",children:[Je.jsxs("h3",{className:"font-medium",children:["Question ",w+1,": ",p.question]}),Je.jsx("div",{className:"space-y-2",children:p.options.map((m,P)=>Je.jsxs("label",{className:Mh("flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50",r&&p.correctAnswer===P&&"bg-green-50 border-green-200",r&&e[w]===P&&p.correctAnswer!==P&&"bg-red-50 border-red-200"),children:[Je.jsx("input",{type:"radio",name:`question-${w}`,value:P,checked:e[w]===P,onChange:()=>s(w,P),disabled:r,className:"mr-3"}),Je.jsx("span",{className:"flex-1",children:m}),r&&Je.jsx("span",{className:"ml-2",children:p.correctAnswer===P?Je.jsx(m6,{className:"w-5 h-5 text-green-600"}):e[w]===P?Je.jsx(w6,{className:"w-5 h-5 text-red-600"}):null})]},P))}),r&&p.explanation&&Je.jsx("div",{className:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:Je.jsxs("p",{className:"text-sm text-blue-800",children:[Je.jsx("strong",{children:"Explanation:"})," ",p.explanation]})})]},w))}),!r&&e.length===t.questions.length&&Je.jsx("button",{onClick:()=>i(!0),className:"w-full px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700",children:"Submit Answers"}),r&&Je.jsxs(Je.Fragment,{children:[Je.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[Je.jsx("h3",{className:"font-medium text-blue-800",children:"Your Score"}),Je.jsxs("p",{className:"mt-1 text-blue-700",children:["You got ",l," out of ",f," questions correct (",g,"%)!"]})]}),g<80&&Je.jsxs("button",{onClick:a,className:"flex items-center justify-center gap-2 w-full px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[Je.jsx(y6,{className:"w-4 h-4"}),"Retake Assessment"]}),Je.jsx(c8,{score:l,totalQuestions:f,originalText:t.originalText})]})]})}const D0="RFC3986",F0={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:t=>String(t)},f8="RFC1738",d8=Array.isArray,Rs=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),r1=1024,p8=(t,e,n,r,i)=>{if(t.length===0)return t;let s=t;if(typeof t=="symbol"?s=Symbol.prototype.toString.call(t):typeof t!="string"&&(s=String(t)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(a){return"%26%23"+parseInt(a.slice(2),16)+"%3B"});let o="";for(let a=0;a<s.length;a+=r1){const l=s.length>=r1?s.slice(a,a+r1):s,f=[];for(let g=0;g<l.length;++g){let p=l.charCodeAt(g);if(p===45||p===46||p===95||p===126||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||i===f8&&(p===40||p===41)){f[f.length]=l.charAt(g);continue}if(p<128){f[f.length]=Rs[p];continue}if(p<2048){f[f.length]=Rs[192|p>>6]+Rs[128|p&63];continue}if(p<55296||p>=57344){f[f.length]=Rs[224|p>>12]+Rs[128|p>>6&63]+Rs[128|p&63];continue}g+=1,p=65536+((p&1023)<<10|l.charCodeAt(g)&1023),f[f.length]=Rs[240|p>>18]+Rs[128|p>>12&63]+Rs[128|p>>6&63]+Rs[128|p&63]}o+=f.join("")}return o};function m8(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function Qw(t,e){if(d8(t)){const n=[];for(let r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)}const g8=Object.prototype.hasOwnProperty,JA={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},Fs=Array.isArray,y8=Array.prototype.push,XA=function(t,e){y8.apply(t,Fs(e)?e:[e])},v8=Date.prototype.toISOString,zn={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:p8,encodeValuesOnly:!1,format:D0,formatter:F0[D0],indices:!1,serializeDate(t){return v8.call(t)},skipNulls:!1,strictNullHandling:!1};function w8(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const i1={};function QA(t,e,n,r,i,s,o,a,l,f,g,p,w,m,P,N,F,A){let b=t,O=A,q=0,X=!1;for(;(O=O.get(i1))!==void 0&&!X;){const B=O.get(t);if(q+=1,typeof B<"u"){if(B===q)throw new RangeError("Cyclic object value");X=!0}typeof O.get(i1)>"u"&&(q=0)}if(typeof f=="function"?b=f(e,b):b instanceof Date?b=w==null?void 0:w(b):n==="comma"&&Fs(b)&&(b=Qw(b,function(B){return B instanceof Date?w==null?void 0:w(B):B})),b===null){if(s)return l&&!N?l(e,zn.encoder,F,"key",m):e;b=""}if(w8(b)||m8(b)){if(l){const B=N?e:l(e,zn.encoder,F,"key",m);return[(P==null?void 0:P(B))+"="+(P==null?void 0:P(l(b,zn.encoder,F,"value",m)))]}return[(P==null?void 0:P(e))+"="+(P==null?void 0:P(String(b)))]}const ee=[];if(typeof b>"u")return ee;let L;if(n==="comma"&&Fs(b))N&&l&&(b=Qw(b,l)),L=[{value:b.length>0?b.join(",")||null:void 0}];else if(Fs(f))L=f;else{const B=Object.keys(b);L=g?B.sort(g):B}const x=a?String(e).replace(/\./g,"%2E"):String(e),R=r&&Fs(b)&&b.length===1?x+"[]":x;if(i&&Fs(b)&&b.length===0)return R+"[]";for(let B=0;B<L.length;++B){const S=L[B],I=typeof S=="object"&&typeof S.value<"u"?S.value:b[S];if(o&&I===null)continue;const T=p&&a?S.replace(/\./g,"%2E"):S,J=Fs(b)?typeof n=="function"?n(R,T):R:R+(p?"."+T:"["+T+"]");A.set(t,q);const ge=new WeakMap;ge.set(i1,A),XA(ee,QA(I,J,n,r,i,s,o,a,n==="comma"&&N&&Fs(b)?null:l,f,g,p,w,m,P,N,F,ge))}return ee}function _8(t=zn){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||zn.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=D0;if(typeof t.format<"u"){if(!g8.call(F0,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const r=F0[n];let i=zn.filter;(typeof t.filter=="function"||Fs(t.filter))&&(i=t.filter);let s;if(t.arrayFormat&&t.arrayFormat in JA?s=t.arrayFormat:"indices"in t?s=t.indices?"indices":"repeat":s=zn.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const o=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:zn.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:zn.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:zn.allowEmptyArrays,arrayFormat:s,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:zn.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?zn.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:zn.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:zn.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:zn.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:zn.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:zn.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:zn.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:zn.strictNullHandling}}function b8(t,e={}){let n=t;const r=_8(e);let i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):Fs(r.filter)&&(s=r.filter,i=s);const o=[];if(typeof n!="object"||n===null)return"";const a=JA[r.arrayFormat],l=a==="comma"&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);const f=new WeakMap;for(let w=0;w<i.length;++w){const m=i[w];r.skipNulls&&n[m]===null||XA(o,QA(n[m],m,a,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,f))}const g=o.join(r.delimiter);let p=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),g.length>0?p+g:""}const ku="4.74.0";let Yw=!1,$h,YA,ZA,M0,eS,tS,nS,rS,iS;function A8(t,e={auto:!1}){if(Yw)throw new Error(`you must \`import 'openai/shims/${t.kind}'\` before importing anything else from openai`);if($h)throw new Error(`can't \`import 'openai/shims/${t.kind}'\` after \`import 'openai/shims/${$h}'\``);Yw=e.auto,$h=t.kind,YA=t.fetch,ZA=t.FormData,M0=t.File,eS=t.ReadableStream,tS=t.getMultipartRequestOptions,nS=t.getDefaultAgent,rS=t.fileFromPath,iS=t.isFsReadStream}class S8{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function E8({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,i,s;try{n=fetch,r=Request,i=Response,s=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${e}`)}return{kind:"web",fetch:n,Request:r,Response:i,Headers:s,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(o,a)=>({...a,body:new S8(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:o=>!1}}$h||A8(E8(),{auto:!0});class St extends Error{}class fr extends St{constructor(e,n,r,i){super(`${fr.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.request_id=i==null?void 0:i["x-request-id"];const s=n;this.error=s,this.code=s==null?void 0:s.code,this.param=s==null?void 0:s.param,this.type=s==null?void 0:s.type}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e)return new qm({message:r,cause:B0(n)});const s=n==null?void 0:n.error;return e===400?new sS(e,s,r,i):e===401?new oS(e,s,r,i):e===403?new aS(e,s,r,i):e===404?new lS(e,s,r,i):e===409?new uS(e,s,r,i):e===422?new cS(e,s,r,i):e===429?new hS(e,s,r,i):e>=500?new fS(e,s,r,i):new fr(e,s,r,i)}}class us extends fr{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0),this.status=void 0}}class qm extends fr{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),this.status=void 0,n&&(this.cause=n)}}class b5 extends qm{constructor({message:e}={}){super({message:e??"Request timed out."})}}class sS extends fr{constructor(){super(...arguments),this.status=400}}class oS extends fr{constructor(){super(...arguments),this.status=401}}class aS extends fr{constructor(){super(...arguments),this.status=403}}class lS extends fr{constructor(){super(...arguments),this.status=404}}class uS extends fr{constructor(){super(...arguments),this.status=409}}class cS extends fr{constructor(){super(...arguments),this.status=422}}class hS extends fr{constructor(){super(...arguments),this.status=429}}class fS extends fr{}class dS extends St{constructor(){super("Could not parse response content as the length limit was reached")}}class pS extends St{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class Wl{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let n=this.decodeText(e);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];const r=Wl.NEWLINE_CHARS.has(n[n.length-1]||"");let i=n.split(Wl.NEWLINE_REGEXP);return r&&i.pop(),i.length===1&&!r?(this.buffer.push(i[0]),[]):(this.buffer.length>0&&(i=[this.buffer.join("")+i[0],...i.slice(1)],this.buffer=[]),r||(this.buffer=[i.pop()||""]),i)}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new St(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new St(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new St("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}Wl.NEWLINE_CHARS=new Set([`
`,"\r"]);Wl.NEWLINE_REGEXP=/\r\n|[\n\r]/g;class Vs{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let r=!1;async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let s=!1;try{for await(const o of x8(e,n))if(!s){if(o.data.startsWith("[DONE]")){s=!0;continue}if(o.event===null){let a;try{a=JSON.parse(o.data)}catch(l){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),l}if(a&&a.error)throw new fr(void 0,a.error,void 0,void 0);yield a}else{let a;try{a=JSON.parse(o.data)}catch(l){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),l}if(o.event=="error")throw new fr(void 0,a.error,a.message,void 0);yield{event:o.event,data:a}}}s=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{s||n.abort()}}return new Vs(i,n)}static fromReadableStream(e,n){let r=!1;async function*i(){const o=new Wl,a=mS(e);for await(const l of a)for(const f of o.decode(l))yield f;for(const l of o.flush())yield l}async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let o=!1;try{for await(const a of i())o||a&&(yield JSON.parse(a));o=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{o||n.abort()}}return new Vs(s,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const o=r.next();e.push(o),n.push(o)}return s.shift()}});return[new Vs(()=>i(e),this.controller),new Vs(()=>i(n),this.controller)]}toReadableStream(){const e=this;let n;const r=new TextEncoder;return new eS({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:s,done:o}=await n.next();if(o)return i.close();const a=r.encode(JSON.stringify(s)+`
`);i.enqueue(a)}catch(s){i.error(s)}},async cancel(){var i;await((i=n.return)==null?void 0:i.call(n))}})}}async function*x8(t,e){if(!t.body)throw e.abort(),new St("Attempted to iterate over a response with no body");const n=new P8,r=new Wl,i=mS(t.body);for await(const s of I8(i))for(const o of r.decode(s)){const a=n.decode(o);a&&(yield a)}for(const s of r.flush()){const o=n.decode(s);o&&(yield o)}}async function*I8(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let i=new Uint8Array(e.length+r.length);i.set(e),i.set(r,e.length),e=i;let s;for(;(s=N8(e))!==-1;)yield e.slice(0,s),e=e.slice(s)}e.length>0&&(yield e)}function N8(t){for(let r=0;r<t.length-2;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}class P8{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=T8(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function T8(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}function mS(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const gS=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",yS=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&$m(t),$m=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",k8=t=>yS(t)||gS(t)||iS(t);async function vS(t,e,n){var i;if(t=await t,yS(t))return t;if(gS(t)){const s=await t.blob();e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file");const o=$m(s)?[await s.arrayBuffer()]:[s];return new M0(o,e,n)}const r=await C8(t);if(e||(e=R8(t)??"unknown_file"),!(n!=null&&n.type)){const s=(i=r[0])==null?void 0:i.type;typeof s=="string"&&(n={...n,type:s})}return new M0(r,e,n)}async function C8(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if($m(t))e.push(await t.arrayBuffer());else if(O8(t))for await(const r of t)e.push(r);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(n=t==null?void 0:t.constructor)==null?void 0:n.name}; props: ${L8(t)}`);return e}function L8(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function R8(t){var e;return s1(t.name)||s1(t.filename)||((e=s1(t.path))==null?void 0:e.split(/[\\/]/).pop())}const s1=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},O8=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",Zw=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",Ic=async t=>{const e=await D8(t.body);return tS(e,t)},D8=async t=>{const e=new ZA;return await Promise.all(Object.entries(t||{}).map(([n,r])=>j0(e,n,r))),e},j0=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(k8(n)){const r=await vS(n);t.append(e,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>j0(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,i])=>j0(t,`${e}[${r}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var lc={},F8=function(t,e,n,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n},M8=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Md;async function wS(t){const{response:e}=t;if(t.options.stream)return uc("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):Vs.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type");if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.includes("application/vnd.api+json"))){const s=await e.json();return uc("response",e.status,e.url,e.headers,s),_S(s,e)}const i=await e.text();return uc("response",e.status,e.url,e.headers,i),i}function _S(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}class Hm extends Promise{constructor(e,n=wS){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new Hm(this.responsePromise,async n=>_S(e(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class j8{constructor({baseURL:e,maxRetries:n=2,timeout:r=6e5,httpAgent:i,fetch:s}){this.baseURL=e,this.maxRetries=o1("maxRetries",n),this.timeout=o1("timeout",r),this.httpAgent=i,this.fetch=s??YA}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...$8(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${K8()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(async i=>{const s=i&&$m(i==null?void 0:i.body)?new DataView(await i.body.arrayBuffer()):(i==null?void 0:i.body)instanceof DataView?i.body:(i==null?void 0:i.body)instanceof ArrayBuffer?new DataView(i.body):i&&ArrayBuffer.isView(i==null?void 0:i.body)?new DataView(i.body.buffer):i==null?void 0:i.body;return{method:e,path:n,...i,body:s}}))}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:n=0}={}){var N;const{method:r,path:i,query:s,headers:o={}}=e,a=ArrayBuffer.isView(e.body)||e.__binaryRequest&&typeof e.body=="string"?e.body:Zw(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,l=this.calculateContentLength(a),f=this.buildURL(i,s);"timeout"in e&&o1("timeout",e.timeout);const g=e.timeout??this.timeout,p=e.httpAgent??this.httpAgent??nS(f),w=g+1e3;typeof((N=p==null?void 0:p.options)==null?void 0:N.timeout)=="number"&&w>(p.options.timeout??0)&&(p.options.timeout=w),this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const m=this.buildHeaders({options:e,headers:o,contentLength:l,retryCount:n});return{req:{method:r,...a&&{body:a},headers:m,...p&&{agent:p},signal:e.signal??null},url:f,timeout:g}}buildHeaders({options:e,headers:n,contentLength:r,retryCount:i}){const s={};r&&(s["content-length"]=r);const o=this.defaultHeaders(e);return r_(s,o),r_(s,n),Zw(e.body)&&$h!=="node"&&delete s["content-type"],i_(o,"x-stainless-retry-count")===void 0&&i_(n,"x-stainless-retry-count")===void 0&&(s["x-stainless-retry-count"]=String(i)),this.validateHeaders(s,n),s}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,r,i){return fr.generate(e,n,r,i)}request(e,n=null){return new Hm(this.makeRequest(e,n))}async makeRequest(e,n){var p,w;const r=await e,i=r.maxRetries??this.maxRetries;n==null&&(n=i),await this.prepareOptions(r);const{req:s,url:o,timeout:a}=this.buildRequest(r,{retryCount:i-n});if(await this.prepareRequest(s,{url:o,options:r}),uc("request",o,r,s.headers),(p=r.signal)!=null&&p.aborted)throw new us;const l=new AbortController,f=await this.fetchWithTimeout(o,s,a,l).catch(B0);if(f instanceof Error){if((w=r.signal)!=null&&w.aborted)throw new us;if(n)return this.retryRequest(r,n);throw f.name==="AbortError"?new b5:new qm({cause:f})}const g=V8(f.headers);if(!f.ok){if(n&&this.shouldRetry(f)){const b=`retrying, ${n} attempts remaining`;return uc(`response (error; ${b})`,f.status,o,g),this.retryRequest(r,n,g)}const m=await f.text().catch(b=>B0(b).message),P=H8(m),N=P?void 0:m;throw uc(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,f.status,o,g,N),this.makeStatusError(f.status,P,N,g)}return{response:f,options:r,controller:l}}requestAPIList(e,n){const r=this.makeRequest(n,null);return new B8(this,r,e)}buildURL(e,n){const r=G8(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),i=this.defaultQuery();return AS(i)||(n={...i,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new St(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,r,i){const{signal:s,...o}=n||{};s&&s.addEventListener("abort",()=>i.abort());const a=setTimeout(()=>i.abort(),r);return this.getRequestClient().fetch.call(void 0,e,{signal:i.signal,...o}).finally(()=>{clearTimeout(a)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r){let i;const s=r==null?void 0:r["retry-after-ms"];if(s){const a=parseFloat(s);Number.isNaN(a)||(i=a)}const o=r==null?void 0:r["retry-after"];if(o&&!i){const a=parseFloat(o);Number.isNaN(a)?i=Date.parse(o)-Date.now():i=a*1e3}if(!(i&&0<=i&&i<60*1e3)){const a=e.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,a)}return await Df(i),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const s=n-e,o=Math.min(.5*Math.pow(2,s),8),a=1-Math.random()*.25;return o*a*1e3}getUserAgent(){return`${this.constructor.name}/JS ${ku}`}}class bS{constructor(e,n,r,i){Md.set(this,void 0),F8(this,Md,e),this.options=i,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new St("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in e&&typeof n.query=="object")n.query={...n.query,...e.params};else if("url"in e){const r=[...Object.entries(n.query||{}),...e.url.searchParams.entries()];for(const[i,s]of r)e.url.searchParams.set(i,s);n.query=void 0,n.path=e.url.toString()}return await M8(this,Md,"f").requestAPIList(this.constructor,n)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Md=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class B8 extends Hm{constructor(e,n,r){super(n,async i=>new r(e,i.response,await wS(i),i.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}const V8=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const r=n.toString();return e[r.toLowerCase()]||e[r]}}),U8={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},ii=t=>typeof t=="object"&&t!==null&&!AS(t)&&Object.keys(t).every(e=>SS(U8,e)),z8=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ku,"X-Stainless-OS":t_(Deno.build.os),"X-Stainless-Arch":e_(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ku,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ku,"X-Stainless-OS":t_(process.platform),"X-Stainless-Arch":e_(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=q8();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ku,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ku,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function q8(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,o=r[3]||0;return{browser:e,version:`${i}.${s}.${o}`}}}return null}const e_=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",t_=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let n_;const $8=()=>n_??(n_=z8()),H8=t=>{try{return JSON.parse(t)}catch{return}},W8=new RegExp("^(?:[a-z]+:)?//","i"),G8=t=>W8.test(t),Df=t=>new Promise(e=>setTimeout(e,t)),o1=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new St(`${t} must be an integer`);if(e<0)throw new St(`${t} must be a positive integer`);return e},B0=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null)try{return new Error(JSON.stringify(t))}catch{}return new Error(t)},jd=t=>{var e,n,r,i;if(typeof process<"u")return((e=lc==null?void 0:lc[t])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(i=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,t))==null?void 0:i.trim()};function AS(t){if(!t)return!0;for(const e in t)return!1;return!0}function SS(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function r_(t,e){for(const n in e){if(!SS(e,n))continue;const r=n.toLowerCase();if(!r)continue;const i=e[n];i===null?delete t[r]:i!==void 0&&(t[r]=i)}}function uc(t,...e){typeof process<"u"&&(lc==null?void 0:lc.DEBUG)==="true"&&console.log(`OpenAI:DEBUG:${t}`,...e)}const K8=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),J8=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",X8=t=>typeof(t==null?void 0:t.get)=="function",i_=(t,e)=>{var r;const n=e.toLowerCase();if(X8(t)){const i=((r=e[0])==null?void 0:r.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(s,o,a)=>o+a.toUpperCase());for(const s of[e,n,e.toUpperCase(),i]){const o=t.get(s);if(o)return o}}for(const[i,s]of Object.entries(t))if(i.toLowerCase()===n)return Array.isArray(s)?(s.length<=1||console.warn(`Received ${s.length} entries for the ${e} header, using the first entry.`),s[0]):s};function a1(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}class Q8 extends bS{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class ys extends bS{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const n=Object.fromEntries(e.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;const e=this.getPaginatedItems();if(!e.length)return null;const n=(r=e[e.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}}class qt{constructor(e){this._client=e}}let ES=class extends qt{create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}},A5=class extends qt{constructor(){super(...arguments),this.completions=new ES(this._client)}};A5.Completions=ES;class xS extends qt{create(e,n){return this._client.post("/audio/speech",{body:e,...n,__binaryResponse:!0})}}class IS extends qt{create(e,n){return this._client.post("/audio/transcriptions",Ic({body:e,...n}))}}class NS extends qt{create(e,n){return this._client.post("/audio/translations",Ic({body:e,...n}))}}class Ff extends qt{constructor(){super(...arguments),this.transcriptions=new IS(this._client),this.translations=new NS(this._client),this.speech=new xS(this._client)}}Ff.Transcriptions=IS;Ff.Translations=NS;Ff.Speech=xS;class S5 extends qt{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(`/batches/${e}`,n)}list(e={},n){return ii(e)?this.list({},e):this._client.getAPIList("/batches",E5,{query:e,...n})}cancel(e,n){return this._client.post(`/batches/${e}/cancel`,n)}}class E5 extends ys{}S5.BatchesPage=E5;class x5 extends qt{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/assistants/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return ii(e)?this.list({},e):this._client.getAPIList("/assistants",I5,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class I5 extends ys{}x5.AssistantsPage=I5;function s_(t){return typeof t.parse=="function"}const cc=t=>(t==null?void 0:t.role)==="assistant",PS=t=>(t==null?void 0:t.role)==="function",TS=t=>(t==null?void 0:t.role)==="tool";var es=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},hn=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},V0,hp,fp,Ah,Sh,dp,Eh,yo,xh,lm,um,Cu,kS;class CS{constructor(){V0.add(this),this.controller=new AbortController,hp.set(this,void 0),fp.set(this,()=>{}),Ah.set(this,()=>{}),Sh.set(this,void 0),dp.set(this,()=>{}),Eh.set(this,()=>{}),yo.set(this,{}),xh.set(this,!1),lm.set(this,!1),um.set(this,!1),Cu.set(this,!1),es(this,hp,new Promise((e,n)=>{es(this,fp,e,"f"),es(this,Ah,n,"f")}),"f"),es(this,Sh,new Promise((e,n)=>{es(this,dp,e,"f"),es(this,Eh,n,"f")}),"f"),hn(this,hp,"f").catch(()=>{}),hn(this,Sh,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},hn(this,V0,"m",kS).bind(this))},0)}_connected(){this.ended||(hn(this,fp,"f").call(this),this._emit("connect"))}get ended(){return hn(this,xh,"f")}get errored(){return hn(this,lm,"f")}get aborted(){return hn(this,um,"f")}abort(){this.controller.abort()}on(e,n){return(hn(this,yo,"f")[e]||(hn(this,yo,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=hn(this,yo,"f")[e];if(!r)return this;const i=r.findIndex(s=>s.listener===n);return i>=0&&r.splice(i,1),this}once(e,n){return(hn(this,yo,"f")[e]||(hn(this,yo,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{es(this,Cu,!0,"f"),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){es(this,Cu,!0,"f"),await hn(this,Sh,"f")}_emit(e,...n){if(hn(this,xh,"f"))return;e==="end"&&(es(this,xh,!0,"f"),hn(this,dp,"f").call(this));const r=hn(this,yo,"f")[e];if(r&&(hn(this,yo,"f")[e]=r.filter(i=>!i.once),r.forEach(({listener:i})=>i(...n))),e==="abort"){const i=n[0];!hn(this,Cu,"f")&&!(r!=null&&r.length)&&Promise.reject(i),hn(this,Ah,"f").call(this,i),hn(this,Eh,"f").call(this,i),this._emit("end");return}if(e==="error"){const i=n[0];!hn(this,Cu,"f")&&!(r!=null&&r.length)&&Promise.reject(i),hn(this,Ah,"f").call(this,i),hn(this,Eh,"f").call(this,i),this._emit("end")}}_emitFinal(){}}hp=new WeakMap,fp=new WeakMap,Ah=new WeakMap,Sh=new WeakMap,dp=new WeakMap,Eh=new WeakMap,yo=new WeakMap,xh=new WeakMap,lm=new WeakMap,um=new WeakMap,Cu=new WeakMap,V0=new WeakSet,kS=function(e){if(es(this,lm,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new us),e instanceof us)return es(this,um,!0,"f"),this._emit("abort",e);if(e instanceof St)return this._emit("error",e);if(e instanceof Error){const n=new St(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new St(String(e)))};function LS(t){return(t==null?void 0:t.$brand)==="auto-parseable-response-format"}function Mf(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function Y8(t,e){return!e||!RS(e)?{...t,choices:t.choices.map(n=>({...n,message:{...n.message,parsed:null,tool_calls:n.message.tool_calls??[]}}))}:N5(t,e)}function N5(t,e){const n=t.choices.map(r=>{var i;if(r.finish_reason==="length")throw new dS;if(r.finish_reason==="content_filter")throw new pS;return{...r,message:{...r.message,tool_calls:((i=r.message.tool_calls)==null?void 0:i.map(s=>e7(e,s)))??[],parsed:r.message.content&&!r.message.refusal?Z8(e,r.message.content):null}}});return{...t,choices:n}}function Z8(t,e){var n,r;return((n=t.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=t.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function e7(t,e){var r;const n=(r=t.tools)==null?void 0:r.find(i=>{var s;return((s=i.function)==null?void 0:s.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:Mf(n)?n.$parseRaw(e.function.arguments):n!=null&&n.function.strict?JSON.parse(e.function.arguments):null}}}function t7(t,e){var r;if(!t)return!1;const n=(r=t.tools)==null?void 0:r.find(i=>{var s;return((s=i.function)==null?void 0:s.name)===e.function.name});return Mf(n)||(n==null?void 0:n.function.strict)||!1}function RS(t){var e;return LS(t.response_format)?!0:((e=t.tools)==null?void 0:e.some(n=>Mf(n)||n.type==="function"&&n.function.strict===!0))??!1}function n7(t){for(const e of t??[]){if(e.type!=="function")throw new St(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new St(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var Qr=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Er,U0,cm,z0,q0,$0,OS,H0;const o_=10;class DS extends CS{constructor(){super(...arguments),Er.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var r;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=(r=e.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),(PS(e)||TS(e))&&e.content)this._emit("functionCallResult",e.content);else if(cc(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(cc(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new St("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),Qr(this,Er,"m",U0).call(this)}async finalMessage(){return await this.done(),Qr(this,Er,"m",cm).call(this)}async finalFunctionCall(){return await this.done(),Qr(this,Er,"m",z0).call(this)}async finalFunctionCallResult(){return await this.done(),Qr(this,Er,"m",q0).call(this)}async totalUsage(){return await this.done(),Qr(this,Er,"m",$0).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=Qr(this,Er,"m",cm).call(this);n&&this._emit("finalMessage",n);const r=Qr(this,Er,"m",U0).call(this);r&&this._emit("finalContent",r);const i=Qr(this,Er,"m",z0).call(this);i&&this._emit("finalFunctionCall",i);const s=Qr(this,Er,"m",q0).call(this);s!=null&&this._emit("finalFunctionCallResult",s),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",Qr(this,Er,"m",$0).call(this))}async _createChatCompletion(e,n,r){const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),Qr(this,Er,"m",OS).call(this,n);const s=await e.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(N5(s,n))}async _runChatCompletion(e,n,r){for(const i of n.messages)this._addMessage(i,!1);return await this._createChatCompletion(e,n,r)}async _runFunctions(e,n,r){var w;const i="function",{function_call:s="auto",stream:o,...a}=n,l=typeof s!="string"&&(s==null?void 0:s.name),{maxChatCompletions:f=o_}=r||{},g={};for(const m of n.functions)g[m.name||m.function.name]=m;const p=n.functions.map(m=>({name:m.name||m.function.name,parameters:m.parameters,description:m.description}));for(const m of n.messages)this._addMessage(m,!1);for(let m=0;m<f;++m){const N=(w=(await this._createChatCompletion(e,{...a,function_call:s,functions:p,messages:[...this.messages]},r)).choices[0])==null?void 0:w.message;if(!N)throw new St("missing message in ChatCompletion response");if(!N.function_call)return;const{name:F,arguments:A}=N.function_call,b=g[F];if(b){if(l&&l!==F){const ee=`Invalid function_call: ${JSON.stringify(F)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:i,name:F,content:ee});continue}}else{const ee=`Invalid function_call: ${JSON.stringify(F)}. Available options are: ${p.map(L=>JSON.stringify(L.name)).join(", ")}. Please try again`;this._addMessage({role:i,name:F,content:ee});continue}let O;try{O=s_(b)?await b.parse(A):A}catch(ee){this._addMessage({role:i,name:F,content:ee instanceof Error?ee.message:String(ee)});continue}const q=await b.function(O,this),X=Qr(this,Er,"m",H0).call(this,q);if(this._addMessage({role:i,name:F,content:X}),l)return}}async _runTools(e,n,r){var m,P,N;const i="tool",{tool_choice:s="auto",stream:o,...a}=n,l=typeof s!="string"&&((m=s==null?void 0:s.function)==null?void 0:m.name),{maxChatCompletions:f=o_}=r||{},g=n.tools.map(F=>{if(Mf(F)){if(!F.$callback)throw new St("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:F.$callback,name:F.function.name,description:F.function.description||"",parameters:F.function.parameters,parse:F.$parseRaw,strict:!0}}}return F}),p={};for(const F of g)F.type==="function"&&(p[F.function.name||F.function.function.name]=F.function);const w="tools"in n?g.map(F=>F.type==="function"?{type:"function",function:{name:F.function.name||F.function.function.name,parameters:F.function.parameters,description:F.function.description,strict:F.function.strict}}:F):void 0;for(const F of n.messages)this._addMessage(F,!1);for(let F=0;F<f;++F){const b=(P=(await this._createChatCompletion(e,{...a,tool_choice:s,tools:w,messages:[...this.messages]},r)).choices[0])==null?void 0:P.message;if(!b)throw new St("missing message in ChatCompletion response");if(!((N=b.tool_calls)!=null&&N.length))return;for(const O of b.tool_calls){if(O.type!=="function")continue;const q=O.id,{name:X,arguments:ee}=O.function,L=p[X];if(L){if(l&&l!==X){const S=`Invalid tool_call: ${JSON.stringify(X)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:i,tool_call_id:q,content:S});continue}}else{const S=`Invalid tool_call: ${JSON.stringify(X)}. Available options are: ${Object.keys(p).map(I=>JSON.stringify(I)).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:q,content:S});continue}let x;try{x=s_(L)?await L.parse(ee):ee}catch(S){const I=S instanceof Error?S.message:String(S);this._addMessage({role:i,tool_call_id:q,content:I});continue}const R=await L.function(x,this),B=Qr(this,Er,"m",H0).call(this,R);if(this._addMessage({role:i,tool_call_id:q,content:B}),l)return}}}}Er=new WeakSet,U0=function(){return Qr(this,Er,"m",cm).call(this).content??null},cm=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(cc(n)){const{function_call:r,...i}=n,s={...i,content:n.content??null,refusal:n.refusal??null};return r&&(s.function_call=r),s}}throw new St("stream ended without producing a ChatCompletionMessage with role=assistant")},z0=function(){var e,n;for(let r=this.messages.length-1;r>=0;r--){const i=this.messages[r];if(cc(i)&&(i!=null&&i.function_call))return i.function_call;if(cc(i)&&((e=i==null?void 0:i.tool_calls)!=null&&e.length))return(n=i.tool_calls.at(-1))==null?void 0:n.function}},q0=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(PS(n)&&n.content!=null||TS(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var i;return r.role==="assistant"&&((i=r.tool_calls)==null?void 0:i.some(s=>s.type==="function"&&s.id===n.tool_call_id))}))return n.content}},$0=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},OS=function(e){if(e.n!=null&&e.n>1)throw new St("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},H0=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class wf extends DS{static runFunctions(e,n,r){const i=new wf,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return i._run(()=>i._runFunctions(e,n,s)),i}static runTools(e,n,r){const i=new wf,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,n,s)),i}_addMessage(e,n=!0){super._addMessage(e,n),cc(e)&&e.content&&this._emit("content",e.content)}}const FS=1,MS=2,jS=4,BS=8,VS=16,US=32,zS=64,qS=128,$S=256,HS=qS|$S,WS=VS|US|HS|zS,GS=FS|MS|WS,KS=jS|BS,r7=GS|KS,Gn={STR:FS,NUM:MS,ARR:jS,OBJ:BS,NULL:VS,BOOL:US,NAN:zS,INFINITY:qS,MINUS_INFINITY:$S,INF:HS,SPECIAL:WS,ATOM:GS,COLLECTION:KS,ALL:r7};class i7 extends Error{}class s7 extends Error{}function o7(t,e=Gn.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return a7(t.trim(),e)}const a7=(t,e)=>{const n=t.length;let r=0;const i=w=>{throw new i7(`${w} at position ${r}`)},s=w=>{throw new s7(`${w} at position ${r}`)},o=()=>(p(),r>=n&&i("Unexpected end of input"),t[r]==='"'?a():t[r]==="{"?l():t[r]==="["?f():t.substring(r,r+4)==="null"||Gn.NULL&e&&n-r<4&&"null".startsWith(t.substring(r))?(r+=4,null):t.substring(r,r+4)==="true"||Gn.BOOL&e&&n-r<4&&"true".startsWith(t.substring(r))?(r+=4,!0):t.substring(r,r+5)==="false"||Gn.BOOL&e&&n-r<5&&"false".startsWith(t.substring(r))?(r+=5,!1):t.substring(r,r+8)==="Infinity"||Gn.INFINITY&e&&n-r<8&&"Infinity".startsWith(t.substring(r))?(r+=8,1/0):t.substring(r,r+9)==="-Infinity"||Gn.MINUS_INFINITY&e&&1<n-r&&n-r<9&&"-Infinity".startsWith(t.substring(r))?(r+=9,-1/0):t.substring(r,r+3)==="NaN"||Gn.NAN&e&&n-r<3&&"NaN".startsWith(t.substring(r))?(r+=3,NaN):g()),a=()=>{const w=r;let m=!1;for(r++;r<n&&(t[r]!=='"'||m&&t[r-1]==="\\");)m=t[r]==="\\"?!m:!1,r++;if(t.charAt(r)=='"')try{return JSON.parse(t.substring(w,++r-Number(m)))}catch(P){s(String(P))}else if(Gn.STR&e)try{return JSON.parse(t.substring(w,r-Number(m))+'"')}catch{return JSON.parse(t.substring(w,t.lastIndexOf("\\"))+'"')}i("Unterminated string literal")},l=()=>{r++,p();const w={};try{for(;t[r]!=="}";){if(p(),r>=n&&Gn.OBJ&e)return w;const m=a();p(),r++;try{const P=o();Object.defineProperty(w,m,{value:P,writable:!0,enumerable:!0,configurable:!0})}catch(P){if(Gn.OBJ&e)return w;throw P}p(),t[r]===","&&r++}}catch{if(Gn.OBJ&e)return w;i("Expected '}' at end of object")}return r++,w},f=()=>{r++;const w=[];try{for(;t[r]!=="]";)w.push(o()),p(),t[r]===","&&r++}catch{if(Gn.ARR&e)return w;i("Expected ']' at end of array")}return r++,w},g=()=>{if(r===0){t==="-"&&Gn.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(t)}catch(m){if(Gn.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}s(String(m))}}const w=r;for(t[r]==="-"&&r++;t[r]&&!",]}".includes(t[r]);)r++;r==n&&!(Gn.NUM&e)&&i("Unterminated number literal");try{return JSON.parse(t.substring(w,r))}catch{t.substring(w,r)==="-"&&Gn.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(t.substring(w,t.lastIndexOf("e")))}catch(P){s(String(P))}}},p=()=>{for(;r<n&&` 
\r	`.includes(t[r]);)r++};return o()},a_=t=>o7(t,Gn.ALL^Gn.NUM);var xu=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Ht=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Un,go,Iu,va,l1,Bd,u1,c1,h1,Vd,f1,l_;class _f extends DS{constructor(e){super(),Un.add(this),go.set(this,void 0),Iu.set(this,void 0),va.set(this,void 0),xu(this,go,e,"f"),xu(this,Iu,[],"f")}get currentChatCompletionSnapshot(){return Ht(this,va,"f")}static fromReadableStream(e){const n=new _f(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,r){const i=new _f(n);return i._run(()=>i._runChatCompletion(e,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createChatCompletion(e,n,r){var o;super._createChatCompletion;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),Ht(this,Un,"m",l1).call(this);const s=await e.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const a of s)Ht(this,Un,"m",u1).call(this,a);if((o=s.controller.signal)!=null&&o.aborted)throw new us;return this._addChatCompletion(Ht(this,Un,"m",Vd).call(this))}async _fromReadableStream(e,n){var o;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),Ht(this,Un,"m",l1).call(this),this._connected();const i=Vs.fromReadableStream(e,this.controller);let s;for await(const a of i)s&&s!==a.id&&this._addChatCompletion(Ht(this,Un,"m",Vd).call(this)),Ht(this,Un,"m",u1).call(this,a),s=a.id;if((o=i.controller.signal)!=null&&o.aborted)throw new us;return this._addChatCompletion(Ht(this,Un,"m",Vd).call(this))}[(go=new WeakMap,Iu=new WeakMap,va=new WeakMap,Un=new WeakSet,l1=function(){this.ended||xu(this,va,void 0,"f")},Bd=function(n){let r=Ht(this,Iu,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},Ht(this,Iu,"f")[n.index]=r,r)},u1=function(n){var i,s,o,a,l,f,g,p,w,m,P,N,F,A,b;if(this.ended)return;const r=Ht(this,Un,"m",l_).call(this,n);this._emit("chunk",n,r);for(const O of n.choices){const q=r.choices[O.index];O.delta.content!=null&&((i=q.message)==null?void 0:i.role)==="assistant"&&((s=q.message)!=null&&s.content)&&(this._emit("content",O.delta.content,q.message.content),this._emit("content.delta",{delta:O.delta.content,snapshot:q.message.content,parsed:q.message.parsed})),O.delta.refusal!=null&&((o=q.message)==null?void 0:o.role)==="assistant"&&((a=q.message)!=null&&a.refusal)&&this._emit("refusal.delta",{delta:O.delta.refusal,snapshot:q.message.refusal}),((l=O.logprobs)==null?void 0:l.content)!=null&&((f=q.message)==null?void 0:f.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(g=O.logprobs)==null?void 0:g.content,snapshot:((p=q.logprobs)==null?void 0:p.content)??[]}),((w=O.logprobs)==null?void 0:w.refusal)!=null&&((m=q.message)==null?void 0:m.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(P=O.logprobs)==null?void 0:P.refusal,snapshot:((N=q.logprobs)==null?void 0:N.refusal)??[]});const X=Ht(this,Un,"m",Bd).call(this,q);q.finish_reason&&(Ht(this,Un,"m",h1).call(this,q),X.current_tool_call_index!=null&&Ht(this,Un,"m",c1).call(this,q,X.current_tool_call_index));for(const ee of O.delta.tool_calls??[])X.current_tool_call_index!==ee.index&&(Ht(this,Un,"m",h1).call(this,q),X.current_tool_call_index!=null&&Ht(this,Un,"m",c1).call(this,q,X.current_tool_call_index)),X.current_tool_call_index=ee.index;for(const ee of O.delta.tool_calls??[]){const L=(F=q.message.tool_calls)==null?void 0:F[ee.index];L!=null&&L.type&&((L==null?void 0:L.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(A=L.function)==null?void 0:A.name,index:ee.index,arguments:L.function.arguments,parsed_arguments:L.function.parsed_arguments,arguments_delta:((b=ee.function)==null?void 0:b.arguments)??""}):(L==null||L.type,void 0))}}},c1=function(n,r){var o,a,l;if(Ht(this,Un,"m",Bd).call(this,n).done_tool_calls.has(r))return;const s=(o=n.message.tool_calls)==null?void 0:o[r];if(!s)throw new Error("no tool call snapshot");if(!s.type)throw new Error("tool call snapshot missing `type`");if(s.type==="function"){const f=(l=(a=Ht(this,go,"f"))==null?void 0:a.tools)==null?void 0:l.find(g=>g.type==="function"&&g.function.name===s.function.name);this._emit("tool_calls.function.arguments.done",{name:s.function.name,index:r,arguments:s.function.arguments,parsed_arguments:Mf(f)?f.$parseRaw(s.function.arguments):f!=null&&f.function.strict?JSON.parse(s.function.arguments):null})}else s.type},h1=function(n){var i,s;const r=Ht(this,Un,"m",Bd).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const o=Ht(this,Un,"m",f1).call(this);this._emit("content.done",{content:n.message.content,parsed:o?o.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(i=n.logprobs)!=null&&i.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(s=n.logprobs)!=null&&s.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},Vd=function(){if(this.ended)throw new St("stream has ended, this shouldn't happen");const n=Ht(this,va,"f");if(!n)throw new St("request ended without sending any chunks");return xu(this,va,void 0,"f"),xu(this,Iu,[],"f"),l7(n,Ht(this,go,"f"))},f1=function(){var r;const n=(r=Ht(this,go,"f"))==null?void 0:r.response_format;return LS(n)?n:null},l_=function(n){var r,i,s,o;let a=Ht(this,va,"f");const{choices:l,...f}=n;a?Object.assign(a,f):a=xu(this,va,{...f,choices:[]},"f");for(const{delta:g,finish_reason:p,index:w,logprobs:m=null,...P}of n.choices){let N=a.choices[w];if(N||(N=a.choices[w]={finish_reason:p,index:w,message:{},logprobs:m,...P}),m)if(!N.logprobs)N.logprobs=Object.assign({},m);else{const{content:ee,refusal:L,...x}=m;Object.assign(N.logprobs,x),ee&&((r=N.logprobs).content??(r.content=[]),N.logprobs.content.push(...ee)),L&&((i=N.logprobs).refusal??(i.refusal=[]),N.logprobs.refusal.push(...L))}if(p&&(N.finish_reason=p,Ht(this,go,"f")&&RS(Ht(this,go,"f")))){if(p==="length")throw new dS;if(p==="content_filter")throw new pS}if(Object.assign(N,P),!g)continue;const{content:F,refusal:A,function_call:b,role:O,tool_calls:q,...X}=g;if(Object.assign(N.message,X),A&&(N.message.refusal=(N.message.refusal||"")+A),O&&(N.message.role=O),b&&(N.message.function_call?(b.name&&(N.message.function_call.name=b.name),b.arguments&&((s=N.message.function_call).arguments??(s.arguments=""),N.message.function_call.arguments+=b.arguments)):N.message.function_call=b),F&&(N.message.content=(N.message.content||"")+F,!N.message.refusal&&Ht(this,Un,"m",f1).call(this)&&(N.message.parsed=a_(N.message.content))),q){N.message.tool_calls||(N.message.tool_calls=[]);for(const{index:ee,id:L,type:x,function:R,...B}of q){const S=(o=N.message.tool_calls)[ee]??(o[ee]={});Object.assign(S,B),L&&(S.id=L),x&&(S.type=x),R&&(S.function??(S.function={name:R.name??"",arguments:""})),R!=null&&R.name&&(S.function.name=R.name),R!=null&&R.arguments&&(S.function.arguments+=R.arguments,t7(Ht(this,go,"f"),S)&&(S.function.parsed_arguments=a_(S.function.arguments)))}}}return a},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("chunk",i=>{const s=n.shift();s?s.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,o)=>n.push({resolve:s,reject:o})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Vs(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function l7(t,e){const{id:n,choices:r,created:i,model:s,system_fingerprint:o,...a}=t,l={...a,id:n,choices:r.map(({message:f,finish_reason:g,index:p,logprobs:w,...m})=>{if(!g)throw new St(`missing finish_reason for choice ${p}`);const{content:P=null,function_call:N,tool_calls:F,...A}=f,b=f.role;if(!b)throw new St(`missing role for choice ${p}`);if(N){const{arguments:O,name:q}=N;if(O==null)throw new St(`missing function_call.arguments for choice ${p}`);if(!q)throw new St(`missing function_call.name for choice ${p}`);return{...m,message:{content:P,function_call:{arguments:O,name:q},role:b,refusal:f.refusal??null},finish_reason:g,index:p,logprobs:w}}return F?{...m,index:p,finish_reason:g,logprobs:w,message:{...A,role:b,content:P,refusal:f.refusal??null,tool_calls:F.map((O,q)=>{const{function:X,type:ee,id:L,...x}=O,{arguments:R,name:B,...S}=X||{};if(L==null)throw new St(`missing choices[${p}].tool_calls[${q}].id
${Ud(t)}`);if(ee==null)throw new St(`missing choices[${p}].tool_calls[${q}].type
${Ud(t)}`);if(B==null)throw new St(`missing choices[${p}].tool_calls[${q}].function.name
${Ud(t)}`);if(R==null)throw new St(`missing choices[${p}].tool_calls[${q}].function.arguments
${Ud(t)}`);return{...x,id:L,type:ee,function:{...S,name:B,arguments:R}}})}}:{...m,message:{...A,content:P,role:b,refusal:f.refusal??null},finish_reason:g,index:p,logprobs:w}}),created:i,model:s,object:"chat.completion",...o?{system_fingerprint:o}:{}};return Y8(l,e)}function Ud(t){return JSON.stringify(t)}class hc extends _f{static fromReadableStream(e){const n=new hc(null);return n._run(()=>n._fromReadableStream(e)),n}static runFunctions(e,n,r){const i=new hc(null),s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return i._run(()=>i._runFunctions(e,n,s)),i}static runTools(e,n,r){const i=new hc(n),s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,n,s)),i}}let JS=class extends qt{parse(e,n){return n7(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(r=>N5(r,e))}runFunctions(e,n){return e.stream?hc.runFunctions(this._client,e,n):wf.runFunctions(this._client,e,n)}runTools(e,n){return e.stream?hc.runTools(this._client,e,n):wf.runTools(this._client,e,n)}stream(e,n){return _f.createChatCompletion(this._client,e,n)}};class W0 extends qt{constructor(){super(...arguments),this.completions=new JS(this._client)}}(function(t){t.Completions=JS})(W0||(W0={}));var Qe=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},mi=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},or,G0,Ms,pp,rs,Tl,Wu,El,hm,gi,mp,gp,Hh,Ih,Nh,u_,c_,h_,f_,d_,p_,m_;class cs extends CS{constructor(){super(...arguments),or.add(this),G0.set(this,[]),Ms.set(this,{}),pp.set(this,{}),rs.set(this,void 0),Tl.set(this,void 0),Wu.set(this,void 0),El.set(this,void 0),hm.set(this,void 0),gi.set(this,void 0),mp.set(this,void 0),gp.set(this,void 0),Hh.set(this,void 0)}[(G0=new WeakMap,Ms=new WeakMap,pp=new WeakMap,rs=new WeakMap,Tl=new WeakMap,Wu=new WeakMap,El=new WeakMap,hm=new WeakMap,gi=new WeakMap,mp=new WeakMap,gp=new WeakMap,Hh=new WeakMap,or=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",i=>{const s=n.shift();s?s.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,o)=>n.push({resolve:s,reject:o})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new cs;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){var s;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const i=Vs.fromReadableStream(e,this.controller);for await(const o of i)Qe(this,or,"m",Ih).call(this,o);if((s=i.controller.signal)!=null&&s.aborted)throw new us;return this._addRun(Qe(this,or,"m",Nh).call(this))}toReadableStream(){return new Vs(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,r,i,s){const o=new cs;return o._run(()=>o._runToolAssistantStream(e,n,r,i,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(e,n,r,i,s){var f;const o=s==null?void 0:s.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const a={...i,stream:!0},l=await e.submitToolOutputs(n,r,a,{...s,signal:this.controller.signal});this._connected();for await(const g of l)Qe(this,or,"m",Ih).call(this,g);if((f=l.controller.signal)!=null&&f.aborted)throw new us;return this._addRun(Qe(this,or,"m",Nh).call(this))}static createThreadAssistantStream(e,n,r){const i=new cs;return i._run(()=>i._threadAssistantStream(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}static createAssistantStream(e,n,r,i){const s=new cs;return s._run(()=>s._runAssistantStream(e,n,r,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),s}currentEvent(){return Qe(this,mp,"f")}currentRun(){return Qe(this,gp,"f")}currentMessageSnapshot(){return Qe(this,rs,"f")}currentRunStepSnapshot(){return Qe(this,Hh,"f")}async finalRunSteps(){return await this.done(),Object.values(Qe(this,Ms,"f"))}async finalMessages(){return await this.done(),Object.values(Qe(this,pp,"f"))}async finalRun(){if(await this.done(),!Qe(this,Tl,"f"))throw Error("Final run was not received.");return Qe(this,Tl,"f")}async _createThreadAssistantStream(e,n,r){var a;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const s={...n,stream:!0},o=await e.createAndRun(s,{...r,signal:this.controller.signal});this._connected();for await(const l of o)Qe(this,or,"m",Ih).call(this,l);if((a=o.controller.signal)!=null&&a.aborted)throw new us;return this._addRun(Qe(this,or,"m",Nh).call(this))}async _createAssistantStream(e,n,r,i){var l;const s=i==null?void 0:i.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const o={...r,stream:!0},a=await e.create(n,o,{...i,signal:this.controller.signal});this._connected();for await(const f of a)Qe(this,or,"m",Ih).call(this,f);if((l=a.controller.signal)!=null&&l.aborted)throw new us;return this._addRun(Qe(this,or,"m",Nh).call(this))}static accumulateDelta(e,n){for(const[r,i]of Object.entries(n)){if(!e.hasOwnProperty(r)){e[r]=i;continue}let s=e[r];if(s==null){e[r]=i;continue}if(r==="index"||r==="type"){e[r]=i;continue}if(typeof s=="string"&&typeof i=="string")s+=i;else if(typeof s=="number"&&typeof i=="number")s+=i;else if(a1(s)&&a1(i))s=this.accumulateDelta(s,i);else if(Array.isArray(s)&&Array.isArray(i)){if(s.every(o=>typeof o=="string"||typeof o=="number")){s.push(...i);continue}for(const o of i){if(!a1(o))throw new Error(`Expected array delta entry to be an object but got: ${o}`);const a=o.index;if(a==null)throw console.error(o),new Error("Expected array delta entry to have an `index` property");if(typeof a!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${a}`);const l=s[a];l==null?s.push(o):s[a]=this.accumulateDelta(l,o)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${i}, accValue: ${s}`);e[r]=s}return e}_addRun(e){return e}async _threadAssistantStream(e,n,r){return await this._createThreadAssistantStream(n,e,r)}async _runAssistantStream(e,n,r,i){return await this._createAssistantStream(n,e,r,i)}async _runToolAssistantStream(e,n,r,i,s){return await this._createToolAssistantStream(r,e,n,i,s)}}Ih=function(e){if(!this.ended)switch(mi(this,mp,e,"f"),Qe(this,or,"m",h_).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":Qe(this,or,"m",m_).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Qe(this,or,"m",c_).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":Qe(this,or,"m",u_).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Nh=function(){if(this.ended)throw new St("stream has ended, this shouldn't happen");if(!Qe(this,Tl,"f"))throw Error("Final run has not been received");return Qe(this,Tl,"f")},u_=function(e){const[n,r]=Qe(this,or,"m",d_).call(this,e,Qe(this,rs,"f"));mi(this,rs,n,"f"),Qe(this,pp,"f")[n.id]=n;for(const i of r){const s=n.content[i.index];(s==null?void 0:s.type)=="text"&&this._emit("textCreated",s.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const i of e.data.delta.content){if(i.type=="text"&&i.text){let s=i.text,o=n.content[i.index];if(o&&o.type=="text")this._emit("textDelta",s,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(i.index!=Qe(this,Wu,"f")){if(Qe(this,El,"f"))switch(Qe(this,El,"f").type){case"text":this._emit("textDone",Qe(this,El,"f").text,Qe(this,rs,"f"));break;case"image_file":this._emit("imageFileDone",Qe(this,El,"f").image_file,Qe(this,rs,"f"));break}mi(this,Wu,i.index,"f")}mi(this,El,n.content[i.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(Qe(this,Wu,"f")!==void 0){const i=e.data.content[Qe(this,Wu,"f")];if(i)switch(i.type){case"image_file":this._emit("imageFileDone",i.image_file,Qe(this,rs,"f"));break;case"text":this._emit("textDone",i.text,Qe(this,rs,"f"));break}}Qe(this,rs,"f")&&this._emit("messageDone",e.data),mi(this,rs,void 0,"f")}},c_=function(e){const n=Qe(this,or,"m",f_).call(this,e);switch(mi(this,Hh,n,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const s of r.step_details.tool_calls)s.index==Qe(this,hm,"f")?this._emit("toolCallDelta",s,n.step_details.tool_calls[s.index]):(Qe(this,gi,"f")&&this._emit("toolCallDone",Qe(this,gi,"f")),mi(this,hm,s.index,"f"),mi(this,gi,n.step_details.tool_calls[s.index],"f"),Qe(this,gi,"f")&&this._emit("toolCallCreated",Qe(this,gi,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":mi(this,Hh,void 0,"f"),e.data.step_details.type=="tool_calls"&&Qe(this,gi,"f")&&(this._emit("toolCallDone",Qe(this,gi,"f")),mi(this,gi,void 0,"f")),this._emit("runStepDone",e.data,n);break}},h_=function(e){Qe(this,G0,"f").push(e),this._emit("event",e)},f_=function(e){switch(e.event){case"thread.run.step.created":return Qe(this,Ms,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=Qe(this,Ms,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const i=cs.accumulateDelta(n,r.delta);Qe(this,Ms,"f")[e.data.id]=i}return Qe(this,Ms,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":Qe(this,Ms,"f")[e.data.id]=e.data;break}if(Qe(this,Ms,"f")[e.data.id])return Qe(this,Ms,"f")[e.data.id];throw new Error("No snapshot available")},d_=function(e,n){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let i=e.data;if(i.delta.content)for(const s of i.delta.content)if(s.index in n.content){let o=n.content[s.index];n.content[s.index]=Qe(this,or,"m",p_).call(this,s,o)}else n.content[s.index]=s,r.push(s);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},p_=function(e,n){return cs.accumulateDelta(n,e)},m_=function(e){switch(mi(this,gp,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":mi(this,Tl,e.data,"f"),Qe(this,gi,"f")&&(this._emit("toolCallDone",Qe(this,gi,"f")),mi(this,gi,void 0,"f"));break}};class P5 extends qt{create(e,n,r){return this._client.post(`/threads/${e}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,i){return this._client.post(`/threads/${e}/messages/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n={},r){return ii(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/messages`,T5,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class T5 extends ys{}P5.MessagesPage=T5;class k5 extends qt{retrieve(e,n,r,i={},s){return ii(i)?this.retrieve(e,n,r,{},i):this._client.get(`/threads/${e}/runs/${n}/steps/${r}`,{query:i,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,n,r={},i){return ii(r)?this.list(e,n,{},r):this._client.getAPIList(`/threads/${e}/runs/${n}/steps`,C5,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}}class C5 extends ys{}k5.RunStepsPage=C5;class jf extends qt{constructor(){super(...arguments),this.steps=new k5(this._client)}create(e,n,r){const{include:i,...s}=n;return this._client.post(`/threads/${e}/runs`,{query:{include:i},body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:n.stream??!1})}retrieve(e,n,r){return this._client.get(`/threads/${e}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,i){return this._client.post(`/threads/${e}/runs/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n={},r){return ii(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/runs`,L5,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/threads/${e}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const i=await this.create(e,n,r);return await this.poll(e,i.id,r)}createAndStream(e,n,r){return cs.createAssistantStream(e,this._client.beta.threads.runs,n,r)}async poll(e,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:s,response:o}=await this.retrieve(e,n,{...r,headers:{...r==null?void 0:r.headers,...i}}).withResponse();switch(s.status){case"queued":case"in_progress":case"cancelling":let a=5e3;if(r!=null&&r.pollIntervalMs)a=r.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const f=parseInt(l);isNaN(f)||(a=f)}}await Df(a);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return s}}}stream(e,n,r){return cs.createAssistantStream(e,this._client.beta.threads.runs,n,r)}submitToolOutputs(e,n,r,i){return this._client.post(`/threads/${e}/runs/${n}/submit_tool_outputs`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(e,n,r,i){const s=await this.submitToolOutputs(e,n,r,i);return await this.poll(e,s.id,i)}submitToolOutputsStream(e,n,r,i){return cs.createToolAssistantStream(e,n,this._client.beta.threads.runs,r,i)}}class L5 extends ys{}jf.RunsPage=L5;jf.Steps=k5;jf.RunStepsPage=C5;class Fc extends qt{constructor(){super(...arguments),this.runs=new jf(this._client),this.messages=new P5(this._client)}create(e={},n){return ii(e)?this.create({},e):this._client.post("/threads",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/threads/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n){return this._client.delete(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:e.stream??!1})}async createAndRunPoll(e,n){const r=await this.createAndRun(e,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(e,n){return cs.createThreadAssistantStream(e,this._client.beta.threads,n)}}Fc.Runs=jf;Fc.RunsPage=L5;Fc.Messages=P5;Fc.MessagesPage=T5;const u7=async t=>{const e=await Promise.allSettled(t),n=e.filter(i=>i.status==="rejected");if(n.length){for(const i of n)console.error(i.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const i of e)i.status==="fulfilled"&&r.push(i.value);return r};let R5=class extends qt{create(e,n,r){return this._client.post(`/vector_stores/${e}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e,n={},r){return ii(n)?this.list(e,{},n):this._client.getAPIList(`/vector_stores/${e}/files`,Wm,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const i=await this.create(e,n,r);return await this.poll(e,i.id,r)}async poll(e,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const s=await this.retrieve(e,n,{...r,headers:i}).withResponse(),o=s.data;switch(o.status){case"in_progress":let a=5e3;if(r!=null&&r.pollIntervalMs)a=r.pollIntervalMs;else{const l=s.response.headers.get("openai-poll-after-ms");if(l){const f=parseInt(l);isNaN(f)||(a=f)}}await Df(a);break;case"failed":case"completed":return o}}}async upload(e,n,r){const i=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(e,{file_id:i.id},r)}async uploadAndPoll(e,n,r){const i=await this.upload(e,n,r);return await this.poll(e,i.id,r)}};class Wm extends ys{}R5.VectorStoreFilesPage=Wm;class XS extends qt{create(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const i=await this.create(e,n);return await this.poll(e,i.id,r)}listFiles(e,n,r={},i){return ii(r)?this.listFiles(e,n,{},r):this._client.getAPIList(`/vector_stores/${e}/file_batches/${n}/files`,Wm,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}async poll(e,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:s,response:o}=await this.retrieve(e,n,{...r,headers:i}).withResponse();switch(s.status){case"in_progress":let a=5e3;if(r!=null&&r.pollIntervalMs)a=r.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const f=parseInt(l);isNaN(f)||(a=f)}}await Df(a);break;case"failed":case"cancelled":case"completed":return s}}}async uploadAndPoll(e,{files:n,fileIds:r=[]},i){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const s=(i==null?void 0:i.maxConcurrency)??5,o=Math.min(s,n.length),a=this._client,l=n.values(),f=[...r];async function g(w){for(let m of w){const P=await a.files.create({file:m,purpose:"assistants"},i);f.push(P.id)}}const p=Array(o).fill(l).map(g);return await u7(p),await this.createAndPoll(e,{file_ids:f})}}class Mc extends qt{constructor(){super(...arguments),this.files=new R5(this._client),this.fileBatches=new XS(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/vector_stores/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return ii(e)?this.list({},e):this._client.getAPIList("/vector_stores",O5,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class O5 extends ys{}Mc.VectorStoresPage=O5;Mc.Files=R5;Mc.VectorStoreFilesPage=Wm;Mc.FileBatches=XS;class Ql extends qt{constructor(){super(...arguments),this.vectorStores=new Mc(this._client),this.chat=new W0(this._client),this.assistants=new x5(this._client),this.threads=new Fc(this._client)}}Ql.VectorStores=Mc;Ql.VectorStoresPage=O5;Ql.Assistants=x5;Ql.AssistantsPage=I5;Ql.Threads=Fc;class QS extends qt{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}class YS extends qt{create(e,n){return this._client.post("/embeddings",{body:e,...n})}}class D5 extends qt{create(e,n){return this._client.post("/files",Ic({body:e,...n}))}retrieve(e,n){return this._client.get(`/files/${e}`,n)}list(e={},n){return ii(e)?this.list({},e):this._client.getAPIList("/files",F5,{query:e,...n})}del(e,n){return this._client.delete(`/files/${e}`,n)}content(e,n){return this._client.get(`/files/${e}/content`,{...n,__binaryResponse:!0})}retrieveContent(e,n){return this._client.get(`/files/${e}/content`,{...n,headers:{Accept:"application/json",...n==null?void 0:n.headers}})}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const i=new Set(["processed","error","deleted"]),s=Date.now();let o=await this.retrieve(e);for(;!o.status||!i.has(o.status);)if(await Df(n),o=await this.retrieve(e),Date.now()-s>r)throw new b5({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return o}}class F5 extends ys{}D5.FileObjectsPage=F5;class M5 extends qt{list(e,n={},r){return ii(n)?this.list(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,j5,{query:n,...r})}}class j5 extends ys{}M5.FineTuningJobCheckpointsPage=j5;class jc extends qt{constructor(){super(...arguments),this.checkpoints=new M5(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(`/fine_tuning/jobs/${e}`,n)}list(e={},n){return ii(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",B5,{query:e,...n})}cancel(e,n){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},r){return ii(n)?this.listEvents(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,V5,{query:n,...r})}}class B5 extends ys{}class V5 extends ys{}jc.FineTuningJobsPage=B5;jc.FineTuningJobEventsPage=V5;jc.Checkpoints=M5;jc.FineTuningJobCheckpointsPage=j5;class Bf extends qt{constructor(){super(...arguments),this.jobs=new jc(this._client)}}Bf.Jobs=jc;Bf.FineTuningJobsPage=B5;Bf.FineTuningJobEventsPage=V5;class ZS extends qt{createVariation(e,n){return this._client.post("/images/variations",Ic({body:e,...n}))}edit(e,n){return this._client.post("/images/edits",Ic({body:e,...n}))}generate(e,n){return this._client.post("/images/generations",{body:e,...n})}}class U5 extends qt{retrieve(e,n){return this._client.get(`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",z5,e)}del(e,n){return this._client.delete(`/models/${e}`,n)}}class z5 extends Q8{}U5.ModelsPage=z5;class eE extends qt{create(e,n){return this._client.post("/moderations",{body:e,...n})}}class tE extends qt{create(e,n,r){return this._client.post(`/uploads/${e}/parts`,Ic({body:n,...r}))}}class q5 extends qt{constructor(){super(...arguments),this.parts=new tE(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(`/uploads/${e}/cancel`,n)}complete(e,n,r){return this._client.post(`/uploads/${e}/complete`,{body:n,...r})}}q5.Parts=tE;var nE;class Tt extends j8{constructor({baseURL:e=jd("OPENAI_BASE_URL"),apiKey:n=jd("OPENAI_API_KEY"),organization:r=jd("OPENAI_ORG_ID")??null,project:i=jd("OPENAI_PROJECT_ID")??null,...s}={}){if(n===void 0)throw new St("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const o={apiKey:n,organization:r,project:i,...s,baseURL:e||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&J8())throw new St(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:o.baseURL,timeout:o.timeout??6e5,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new QS(this),this.chat=new A5(this),this.embeddings=new YS(this),this.files=new D5(this),this.images=new ZS(this),this.audio=new Ff(this),this.moderations=new eE(this),this.models=new U5(this),this.fineTuning=new Bf(this),this.beta=new Ql(this),this.batches=new S5(this),this.uploads=new q5(this),this._options=o,this.apiKey=n,this.organization=r,this.project=i}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return b8(e,{arrayFormat:"brackets"})}}nE=Tt;Tt.OpenAI=nE;Tt.DEFAULT_TIMEOUT=6e5;Tt.OpenAIError=St;Tt.APIError=fr;Tt.APIConnectionError=qm;Tt.APIConnectionTimeoutError=b5;Tt.APIUserAbortError=us;Tt.NotFoundError=lS;Tt.ConflictError=uS;Tt.RateLimitError=hS;Tt.BadRequestError=sS;Tt.AuthenticationError=oS;Tt.InternalServerError=fS;Tt.PermissionDeniedError=aS;Tt.UnprocessableEntityError=cS;Tt.toFile=vS;Tt.fileFromPath=rS;Tt.Completions=QS;Tt.Chat=A5;Tt.Embeddings=YS;Tt.Files=D5;Tt.FileObjectsPage=F5;Tt.Images=ZS;Tt.Audio=Ff;Tt.Moderations=eE;Tt.Models=U5;Tt.ModelsPage=z5;Tt.FineTuning=Bf;Tt.Beta=Ql;Tt.Batches=S5;Tt.BatchesPage=E5;Tt.Uploads=q5;const c7=new Tt({apiKey:"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",dangerouslyAllowBrowser:!0});async function h7(t){try{const e=await c7.chat.completions.create({model:"gpt-4-turbo-preview",messages:[{role:"system",content:`You are an expert educational assessment generator. Your task is to:
1. Carefully analyze the provided text for factual accuracy
2. Generate a detailed accuracy assessment
3. Create 5 challenging multiple-choice questions that:
   - Test key concepts from the text
   - Have clear, unambiguous answers
   - Include one correct answer and three plausible distractors
   - Are directly based on information present in the text
4. Ensure all questions and answers are factually correct
5. Double-check that the correct answer is supported by the text

Provide the response in JSON format with the structure:
{
  "accuracy": "Detailed analysis of text accuracy",
  "questions": [
    {
      "question": "Clear, specific question",
      "options": ["Option A", "Option B", "Option C", "Option D"],
      "correctAnswer": 0-3,
      "explanation": "Why this answer is correct"
    }
  ]
}`},{role:"user",content:t}],temperature:.3,response_format:{type:"json_object"}}),n=JSON.parse(e.choices[0].message.content||"");if(!n.accuracy||!Array.isArray(n.questions)||n.questions.length!==5)throw new Error("Invalid response format from OpenAI");return n.questions.forEach((r,i)=>{if(!r.question||!Array.isArray(r.options)||r.options.length!==4||typeof r.correctAnswer!="number"||r.correctAnswer<0||r.correctAnswer>3)throw new Error(`Invalid question format for question ${i+1}`)}),{...n,originalText:t}}catch(e){throw console.error("Error generating assessment:",e),new Error("Failed to generate assessment. Please try again.")}}function f7(){const[t,e]=Tr.useState(""),[n,r]=Tr.useState(null),[i,s]=Tr.useState(!1),[o,a]=Tr.useState(null),l=async()=>{try{s(!0),a(null);const f=await h7(t);r(f)}catch{a("Failed to generate assessment. Please make sure your OpenAI API key is set correctly.")}finally{s(!1)}};return Je.jsx("div",{className:"min-h-screen bg-gray-50",children:Je.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[Je.jsxs("div",{className:"text-center mb-8",children:[Je.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[Je.jsx(p6,{className:"w-8 h-8 text-blue-600"}),Je.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"AI Assessment Generator"})]}),Je.jsx("p",{className:"text-gray-600",children:"Enter your text below to verify its accuracy and generate a multiple-choice assessment"})]}),Je.jsxs("div",{className:"space-y-8",children:[Je.jsx(Z6,{value:t,onChange:e,onSubmit:l,isLoading:i}),o&&Je.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:Je.jsx("p",{className:"text-red-700",children:o})}),Je.jsx(h8,{assessment:n})]})]})})}P4(document.getElementById("root")).render(Je.jsx(Tr.StrictMode,{children:Je.jsx(f7,{})}));export{Ut as _};
